{"version":3,"sources":["../../../config-wrap-start-default.js","../../../node_modules/almond/almond.js","models/fieldErrorModel.js","models/fieldErrorCollection.js","models/fieldModel.js","models/fieldCollection.js","models/formErrorModel.js","models/formErrorCollection.js","models/formModel.js","models/formCollection.js","controllers/formData.js","controllers/fieldError.js","controllers/changeField.js","controllers/changeEmail.js","controllers/changeDate.js","controllers/fieldCheckbox.js","controllers/fieldCheckboxList.js","controllers/fieldImageList.js","controllers/fieldRadio.js","controllers/fieldNumber.js","controllers/mirrorField.js","controllers/confirmField.js","controllers/updateFieldModel.js","controllers/submitButton.js","controllers/submitDebug.js","controllers/getFormErrors.js","controllers/validateRequired.js","controllers/submitError.js","controllers/actionRedirect.js","controllers/actionSuccess.js","controllers/fieldSelect.js","controllers/coreSubmitResponse.js","controllers/fieldProduct.js","controllers/fieldTotal.js","controllers/fieldQuantity.js","models/calcModel.js","models/calcCollection.js","controllers/calculations.js","controllers/dateBackwardsCompat.js","controllers/fieldDate.js","controllers/fieldRecaptcha.js","controllers/fieldRecaptchaV3.js","controllers/fieldHTML.js","controllers/helpText.js","controllers/fieldTextbox.js","controllers/fieldTextareaRTE.js","controllers/fieldStarRating.js","controllers/fieldTerms.js","controllers/formContentFilters.js","views/fieldItem.js","views/beforeField.js","views/fieldErrorItem.js","views/fieldErrorCollection.js","views/inputLimit.js","views/afterField.js","views/fieldRepeaterFieldLayout.js","views/fieldRepeaterFieldCollection.js","views/fieldRepeaterSetLayout.js","views/fieldRepeaterSetCollection.js","views/fieldRepeaterLayout.js","views/fieldLayout.js","controllers/loadViews.js","controllers/formErrors.js","controllers/submit.js","views/fieldCollection.js","controllers/defaultFilters.js","controllers/uniqueFieldError.js","models/fieldRepeaterSetModel.js","models/fieldRepeaterSetCollection.js","controllers/fieldRepeater.js","controllers/actionGA.js","controllers/loadControllers.js","views/beforeForm.js","views/formErrorItem.js","views/formErrorCollection.js","views/honeyPot.js","views/afterFormContent.js","views/beforeFormContent.js","views/formLayout.js","views/afterForm.js","views/mainLayout.js","../nfLocaleConverter.js","main.js"],"names":["requirejs","require","define","undef","main","req","makeMap","handlers","defined","waiting","config","defining","hasOwn","Object","prototype","hasOwnProperty","aps","slice","jsSuffixRegExp","hasProp","obj","prop","call","normalize","name","baseName","nameParts","nameSegment","mapValue","foundMap","lastIndex","foundI","foundStarMap","starI","i","j","part","baseParts","split","map","starMap","length","nodeIdCompat","test","replace","charAt","concat","splice","join","makeRequire","relName","forceSync","args","arguments","push","apply","makeLoad","depName","value","callDep","Error","splitPrefix","prefix","index","indexOf","substring","makeRelParts","makeConfig","relParts","plugin","parts","relResourceName","f","n","pr","p","exports","e","module","id","uri","deps","callback","cjsModule","ret","usingExports","callbackType","load","undefined","alt","setTimeout","cfg","_defined","amd","jQuery","Backbone","Model","extend","errorModel","Collection","model","fieldErrorCollection","defaults","placeholder","label_pos","classes","reRender","mirror_field","confirm_field","clean","disabled","visible","invalid","initialize","type","this","get","set","collection","options","formModel","listenTo","nfRadio","channel","resetModel","bind","changeModel","changeValue","listimageGet","listimageSet","trigger","formLoaded","beforeSubmit","attr","attributes","addWrapperClass","cl","removeWrapperClass","setInvalid","getValue","fieldModel","comparator","models","on","fieldCollection","reply","getFirstFieldByOrder","validateFields","_","each","repeaterModels","request","repeaterFieldModel","size","keys","showFields","invoke","hideFields","ids_array","targetID","order","FieldCollection","ErrorCollection","beforeForm","afterForm","beforeFields","afterFields","wrapper_class","element_class","hp","fieldErrors","extra","setting","formContentData","formContentLoadFilters","sortedArray","without","first","getFieldByKey","addError","removeError","getExtra","addExtra","removeExtra","getForm","key","findWhere","msg","add","errors","remove","extraData","FormModel","FormCollection","Marionette","nfForms","getForms","getField","form","String","fieldErrorModel","getError","targetError","changeField","blurField","el","val","radioChannel","emailReg","errorID","onChangeModelValue","emailKeyup","onBlurField","fieldID","emailChange","changeEmailErrorMsg","keyCode","dateKeyup","changeHoursMinutes","original","moment","locale","dateChange","format","isDateValid","changeDateErrorMsg","container","target","closest","selected_hour","find","selected_minute","selected_ampm","fieldId","search","setValue","document","querySelector","parseDate","_flatpickr","timestamp","getTime","isNaN","parsedDate","Date","formatDate","registerRenderClasses","validateRequired","validateModelData","beforeUpdateField","getCalcValue","addClass","removeClass","checked","calcValue","customClasses","customLabelClasses","maybeChecked","default_value","register","renderOptions","renderOtherText","selected","filter","opt","savedVal","Array","isArray","html","valueFound","option","label","nfFrontEnd","filter_esc_status","escape","isSelected","required","maybeFilterHTML","template","show_other","data","currentValue","calc_value","tmp_opt","Number","calc","parent","optionArray","valueIndex","clone","allow_multi_select","old_classname","image_type","list_orientation","flex_direction","that","num_columns","parseInt","current_column","current_row","image_options","image","show_option_labels","styles","changeModelValue","updateCheckedClass","maybeMinDefault","validateEntry","min","$el","floatVal","parseFloat","max","step","fieldNumberNumMinError","fieldNumberNumMaxError","testVal","testStep","factor","Math","pow","fieldNumberIncrementBy","listeningModel","registerMirror","targetModel","registerConfirm","confirmKeyup","confirmModel","formModal","registerConfirmListeners","confirmID","confirmFieldErrorMsg","compareValue","confirmValue","updateField","submitButton","bound","registerHandlers","click","resetLabel","maybeEnable","maybeDisable","processingLabel","response","nonce","new_nonce","nonce_ts","submitDebug","textStatus","jqXHR","formID","debug","debugMessages","createElement","message","messageText","createTextNode","appendChild","console","log","getFormErrors","error","field","validateKeyup","customReqValidation","defaultReqValidation","maskPlaceholder","getMask","trim","valid","maybeError","mask","nfi18n","currencySymbol","validateRequiredField","submitErrors","focusFirstInvalidInput","ajaxNonce","fields","slug","last","style","show","getElementById","focus","actionRedirect","halt","redirect","window","location","actions","actionSubmit","success_message","form_id","read","top_of_success_message","offset","top","bottom_of_success_message","outerHeight","bottom_of_screen","scrollTop","height","top_of_screen","animate","renderOtherAttributes","otherAttributes","multi_size","settings","clear_complete","reset","hide_complete","renderProductQuantity","renderProduct","product_type","product_use_quantity","totalModel","productTotals","registerShipping","onFormLoaded","onChangeProduct","onChangeQuantity","shippingModel","shippingCost","fieldModels","productFields","quantityFields","productID","product","productPrice","updateTotal","newTotal","productField","toFixed","registerQuantity","changeCalc","targetCalcModel","CalcModel","dec","toString","getCalc","CalcCollection","calcs","displayFields","registerCalcs","resetCalcs","use_merge_tags","calculations","fieldType","initDisplayField","updateDisplayFields","init","calcCollection","calcModel","setupCalc","eq","eqValues","match","RegExp","updateCalcFields","replaceKey","localeDecodeEquation","mexp","Mexp","eval","localeConverter","nfLocaleConverter","siteLocale","thousands_sep","decimal_point","machineNumber","numberDecoder","formattedNumber","numberEncoder","isNumeric","tag","reTag","calcTag","reCalcTag","replaceAllKeys","re","calcName","spans","spanVar","tmpCalcTag","applyLocaleFormatting","number","result","expression","pattern","forEach","character","nfCalculationsDebug","Radio","dateBackwardsCompat","dateObject","pikaday","_o","disableDayFn","i18n","firstDay","firstDayOfWeek","weekdays","longhand","weekdaysShort","shorthand","months","text","initModel","initDatepicker","registerFunctions","renderHourOptions","renderMinuteOptions","maybeRenderAMPM","hours_options","minutes_options","hours_24","view","hide","dateFormat","convertDateFormat","dateSettings","onReady","selectedDates","datestr","altInput","setAttribute","altFormat","ariaDateFormat","mode","allowInput","disableMobile","minDate","getMinDate","maxDate","getMaxDate","nfCustomLocale","checkCustomLocale","filteredDatePickerSettings","flatpickr","defaultDate","setDate","includes","isSameDay","isObject","date_value","dataset","hour","minute","ampm","current_value","date","yearRangeStart","yearRangeEnd","lookup","default","date_mode","customLocale","monthsShort","startOfWeek","isEmpty","date1","date2","d1","d2","setHours","initRecaptcha","resetRecaptcha","updateResponse","recaptchaID","grecaptcha","processRecaptcha","setInterval","ready","execute","action","then","token","layoutView","submitFieldID","consent","nf_check_recaptcha_consent","recaptchaConsentMissing","nf_build_default_consent_action","services","actionElement","innerText","recaptchaConsentEvent","nf_consent_link_event","CustomEvent","detail","element","dispatchEvent","genericErrorElements","getElementsByClassName","append","htmlFields","trackedMergeTags","setupFieldMergeTagTracking","mergeTags","mergeTag","fieldKey","updateFieldMergeTags","htmlFieldModel","fieldValue","displayRepeaterData","repeaterFieldIDs","returnHTML","passedFields","pop","initHelpText","jBox","theme","content","closeOnMouseleave","closeOnClick","close","currencySymbolDecoded","initTextareaRTEs","clickExtra","meta_image_frame","currentContext","summernote","icons","align","alignCenter","alignJustify","alignLeft","alignRight","indent","outdent","bold","caret","code","eraser","italic","link","unlink","magic","minus","orderedlist","redo","square","table","underline","undo","unorderedlist","toolbar","userSettings","uid","buttons","linkButton","context","mediaButton","codemirror","lineNumbers","prettifyHtml","callbacks","onChange","linkMenu","next","replaceWith","class","innerHTML","ui","linkDropdown","buttonGroup","button","className","contents","tooltip","fieldTextareaRTEInsertLink","clickLinkButton","toggle","dropdown","children","render","fieldTextareaRTEInsertMedia","openMediaManager","open","wp","media","frames","title","fieldTextareaRTESelectAFile","media_attachment","state","toJSON","insertMedia","range","textEl","urlEl","isNewWindowEl","hasClass","url","isNewWindow","filename","initRating","renderRatings","rating","number_of_stars","num","htmlFragment","createRange","createContextualFragment","keyUpExtra","currentTarget","addOption","new_option","viewFilters","loadFilters","addViewFilter","addLoadFilter","getViewFilters","getLoadFilters","priority","ItemView","tagName","toggleAriaInvalid","JSON","stringify","onRender","unwrap","setElement","isInteger","isFinite","floor","charCodeAt","autoNumericOptions","digitGroupSeparator","decimalCharacter","modifyValueOnWheel","autoN_el","AutoNumeric","templateHelpers","renderElement","tmpl","element_templates","renderLabel","renderLabelClasses","renderPlaceholder","customPlaceholder","renderWrapClass","wrapClass","parentType","customWrapClass","renderClasses","maybeDisabled","disable_input","maybeRequired","maybeDisableAutocomplete","disable_browser_autocomplete","translateAutoCompletionType","maybeInputLimit","input_limit_type","input_limit","getHelpText","help_text","maybeRenderHelp","check_text_par","shouldRenderHelpText","icon","classList","hiddenHelpText","textContent","outerHTML","renderDescText","desc_text","check","checkText","descriptionText","fieldDescription","renderNumberDefault","renderCurrencyFormatting","currency_symbol","maybeRenderTime","events","fieldChange","fieldKeyup","fieldClick","extraClick","extraChange","fieldBlur","onAttach","fieldErrorItem","CollectionView","childView","updateCount","count","words","wordCount","charCount","limit","currentCount","InputLimitView","changeError","errorEl","errorCollectionView","inputLimitEl","inputLimitView","fieldItem","beforeField","afterField","LayoutView","regions","getTemplate","renderContainerClass","containerClass","desc_pos","container_class","fieldLayout","removeSet","repeaterSetLayout","repeaterSetCollection","sets","addSet","repeaterFieldLayout","fieldItemView","fieldLayoutView","getFieldItem","getFieldLayout","errorMsg","formErrorsCorrectErrors","omit","registerSubmitHandler","submit","validate","blockingFormErrors","fieldDataDefaults","formData","security","ajax","adminAjax","cache","success","errorThrown","parseJSON","responseText","FieldCollectionView","registerDefaultDataFilter","defaultFormContentLoad","defaultFormContentView","currentFieldCollection","resetFields","nfAllRepeaterFieldsModels","initAllRepeaterFieldsModels","getRepeaterFields","getRepeaterFieldById","getAllRepeaterFieldsModels","getAllFieldsetsByForm","getAllFieldsModelsArrayByForm","setAllRepeaterFieldsModels","setAllRepeatersValues","allRepeatersFieldsetsModels","repeaterID","currentModels","isModelSet","thisFormModels","singleArray","allModels","reverseResearchFieldsetModel","fieldsetModel","startsWith","fieldObject","repeaters","repeater","repeaterFieldValue","idArray","newID","files","repeaterSetModel","sortIDs","getFieldSets","repeaterFieldID","templateFields","fieldset","removeRequiredFieldsErrors","isRepeaterModelSet","rep","fieldsetField","reject","destroy","getFieldsets","checkTimeField","hourEl","minEl","defaultHour","ampmEl","fieldsets","timeFields","modelIndex","cutEl","fieldIndex","initRepeater","actionSendGaEvent","googleanalytics","eventName","event_name","method_type","gtag","eventParams","event_category","event_label","dataLayer","warn","event","FormData","FieldError","ChangeField","ChangeEmail","ChangeDate","FieldCheckbox","FieldCheckboxList","FieldImageList","FieldRadio","FieldNumber","MirrorField","ConfirmField","UpdateFieldModel","SubmitButton","SubmitDebug","GetFormErrors","ValidateRequired","SubmitError","ActionRedirect","ActionSuccess","FieldSelect","CoreSubmitResponse","FieldProduct","FieldTotal","FieldQuantity","Calculations","DateBackwardsCompat","FieldDate","FieldRecaptcha","FieldRecaptchaV3","FieldHTML","HelpText","FieldTextbox","FieldTextareaRTE","FieldStarRating","FieldTerms","FormContentFilters","LoadViews","FormErrors","Submit","DefaultFilters","UniqueFieldError","FieldRepeater","ActionGA","formErrorItem","honeypotHoneypotError","HoneyPot","onShow","renderFieldsMarkedRequired","fieldsMarkedRequired","AfterFormContent","BeforeFormContent","beforeFormContent","formContent","afterFormContent","getEl","formContentViewFilters","formContentView","BeforeForm","FormLayout","AfterForm","responseMsg","formLayout","newLocale","decimal_sep","uniqueElememts","self","formatted","negative","separators","final_separators","replacer","separator","re_one","find_one","re_two","find_two","percision","Intl","NumberFormat","minimumFractionDigits","maximumFractionDigits","nfLocaleConverterDebug","nfInlineVars","originalVal","fn","prev","change","addEventListener","formCollection","LoadControllers","mainLayout","NinjaForms","Application","forms","Renderer","urlParameters","object","compact","item","nf_resume","restart","decodeNumber","encodeNumber","onStart","evaluate","interpolate","variable","start","empty"],"mappings":"CAAA,WCQA,IAAAA,EAAAC,EAAAC,GACA,SAAAC,GACA,IAAAC,EAAAC,EAAAC,EAAAC,EACAC,EAAA,CAAA,EACAC,EAAA,CAAA,EACAC,EAAA,CAAA,EACAC,EAAA,CAAA,EACAC,EAAAC,OAAAC,UAAAC,eACAC,EAAA,GAAAC,MACAC,EAAA,QAEA,SAAAC,EAAAC,EAAAC,GACA,OAAAT,EAAAU,KAAAF,EAAAC,EACA,CAUA,SAAAE,EAAAC,EAAAC,GACA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EACAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EACAC,EAAAZ,GAAAA,EAAAa,MAAA,KACAC,EAAA7B,EAAA6B,IACAC,EAAAD,GAAAA,EAAA,MAAA,CAAA,EAGA,GAAAf,EAAA,CAwBA,IAtBAM,GADAN,EAAAA,EAAAc,MAAA,MACAG,OAAA,EAMA/B,EAAAgC,cAAAxB,EAAAyB,KAAAnB,EAAAM,MACAN,EAAAM,GAAAN,EAAAM,GAAAc,QAAA1B,EAAA,KAIA,MAAAM,EAAA,GAAAqB,OAAA,IAAAR,IAOAb,EADAa,EAAApB,MAAA,EAAAoB,EAAAI,OAAA,GACAK,OAAAtB,IAIAU,EAAA,EAAAA,EAAAV,EAAAiB,OAAAP,IAEA,GAAA,OADAE,EAAAZ,EAAAU,IAEAV,EAAAuB,OAAAb,EAAA,GACAA,GAAA,OACA,GAAA,OAAAE,EAAA,CAMA,GAAA,IAAAF,GAAA,IAAAA,GAAA,OAAAV,EAAA,IAAA,OAAAA,EAAAU,EAAA,GACA,SACAA,EAAA,IACAV,EAAAuB,OAAAb,EAAA,EAAA,GACAA,GAAA,EAEA,CAIAV,EAAAA,EAAAwB,KAAA,IACA,CAGA,IAAAX,GAAAG,IAAAD,EAAA,CAGA,IAAAL,GAFAR,EAAAF,EAAAc,MAAA,MAEAG,OAAAP,EAAA,EAAAA,GAAA,EAAA,CAGA,GAFAP,EAAAD,EAAAT,MAAA,EAAAiB,GAAAc,KAAA,KAEAX,EAGA,IAAAF,EAAAE,EAAAI,OAAAN,EAAA,EAAAA,GAAA,EAKA,IAJAP,EAAAW,EAAAF,EAAApB,MAAA,EAAAkB,GAAAa,KAAA,SAKApB,EAAAA,EAAAD,IACA,CAEAE,EAAAD,EACAG,EAAAG,EACA,KACA,CAKA,GAAAL,EACA,OAMAG,GAAAQ,GAAAA,EAAAb,KACAK,EAAAQ,EAAAb,GACAM,EAAAC,EAEA,EAEAL,GAAAG,IACAH,EAAAG,EACAD,EAAAE,GAGAJ,IACAH,EAAAqB,OAAA,EAAAhB,EAAAF,GACAL,EAAAE,EAAAsB,KAAA,KAEA,CAEA,OAAAxB,CACA,CAEA,SAAAyB,EAAAC,EAAAC,GACA,OAAA,WAIA,IAAAC,EAAApC,EAAAM,KAAA+B,UAAA,GAQA,MAHA,iBAAAD,EAAA,IAAA,IAAAA,EAAAX,QACAW,EAAAE,KAAA,MAEAjD,EAAAkD,MAAApD,EAAAiD,EAAAN,OAAA,CAAAI,EAAAC,IACA,CACA,CAQA,SAAAK,EAAAC,GACA,OAAA,SAAAC,GACAlD,EAAAiD,GAAAC,CACA,CACA,CAEA,SAAAC,EAAAnC,GACA,GAAAL,EAAAV,EAAAe,GAAA,CACA,IAAA4B,EAAA3C,EAAAe,UACAf,EAAAe,GACAb,EAAAa,IAAA,EACApB,EAAAmD,MAAApD,EAAAiD,EACA,CAEA,IAAAjC,EAAAX,EAAAgB,KAAAL,EAAAR,EAAAa,GACA,MAAA,IAAAoC,MAAA,MAAApC,GAEA,OAAAhB,EAAAgB,EACA,CAKA,SAAAqC,EAAArC,GACA,IAAAsC,EACAC,EAAAvC,EAAAA,EAAAwC,QAAA,MAAA,EAKA,OAJAD,GAAA,IACAD,EAAAtC,EAAAyC,UAAA,EAAAF,GACAvC,EAAAA,EAAAyC,UAAAF,EAAA,EAAAvC,EAAAiB,SAEA,CAAAqB,EAAAtC,EACA,CAIA,SAAA0C,EAAAhB,GACA,OAAAA,EAAAW,EAAAX,GAAA,EACA,CA8CA,SAAAiB,EAAA3C,GACA,OAAA,WACA,OAAAd,GAAAA,EAAAA,QAAAA,EAAAA,OAAAc,IAAA,CAAA,CACA,CACA,CA3CAlB,EAAA,SAAAkB,EAAA4C,GACA,IAAAC,EAnDAnB,EAoDAoB,EAAAT,EAAArC,GACAsC,EAAAQ,EAAA,GACAC,EAAAH,EAAA,GA2BA,OAzBA5C,EAAA8C,EAAA,GAEAR,IAEAO,EAAAV,EADAG,EAAAvC,EAAAuC,EAAAS,KAKAT,EAEAtC,EADA6C,GAAAA,EAAA9C,UACA8C,EAAA9C,UAAAC,GAlEA0B,EAkEAqB,EAjEA,SAAA/C,GACA,OAAAD,EAAAC,EAAA0B,EACA,IAiEA3B,EAAAC,EAAA+C,IAKAT,GADAQ,EAAAT,EADArC,EAAAD,EAAAC,EAAA+C,KAEA,GACA/C,EAAA8C,EAAA,GACAR,IACAO,EAAAV,EAAAG,KAKA,CACAU,EAAAV,EAAAA,EAAA,IAAAtC,EAAAA,EACAiD,EAAAjD,EACAkD,GAAAZ,EACAa,EAAAN,EAEA,EAQA9D,EAAA,CACAN,QAAA,SAAAuB,GACA,OAAAyB,EAAAzB,EACA,EACAoD,QAAA,SAAApD,GACA,IAAAqD,EAAArE,EAAAgB,GACA,YAAA,IAAAqD,EACAA,EAEArE,EAAAgB,GAAA,CAAA,CAEA,EACAsD,OAAA,SAAAtD,GACA,MAAA,CACAuD,GAAAvD,EACAwD,IAAA,GACAJ,QAAApE,EAAAgB,GACAd,OAAAyD,EAAA3C,GAEA,GAGApB,EAAA,SAAAoB,EAAAyD,EAAAC,EAAAhC,GACA,IAAAiC,EAAA1B,EAAA2B,EAAA7C,EAAAL,EAAAkC,EAGAiB,EAFAjC,EAAA,GACAkC,SAAAJ,EAQA,GAHAd,EAAAF,EADAhB,EAAAA,GAAA1B,GAIA,cAAA8D,GAAA,aAAAA,EAAA,CAKA,IADAL,GAAAA,EAAAxC,QAAAyC,EAAAzC,OAAA,CAAA,UAAA,UAAA,UAAAwC,EACA/C,EAAA,EAAAA,EAAA+C,EAAAxC,OAAAP,GAAA,EAKA,GAAA,aAHAuB,GADAlB,EAAAjC,EAAA2E,EAAA/C,GAAAkC,IACAI,GAIApB,EAAAlB,GAAA3B,EAAAN,QAAAuB,QACA,GAAA,YAAAiC,EAEAL,EAAAlB,GAAA3B,EAAAqE,QAAApD,GACA6D,GAAA,OACA,GAAA,WAAA5B,EAEA0B,EAAA/B,EAAAlB,GAAA3B,EAAAuE,OAAAtD,QACA,GAAAL,EAAAX,EAAAiD,IACAtC,EAAAV,EAAAgD,IACAtC,EAAAR,EAAA8C,GACAL,EAAAlB,GAAAyB,EAAAF,OACA,KAAAlB,EAAAoC,EAIA,MAAA,IAAAf,MAAApC,EAAA,YAAAiC,GAHAlB,EAAAoC,EAAAY,KAAAhD,EAAAkC,EAAAxB,EAAAC,GAAA,GAAAM,EAAAC,GAAA,CAAA,GACAL,EAAAlB,GAAA1B,EAAAiD,EAGA,CAGA2B,EAAAF,EAAAA,EAAA3B,MAAA/C,EAAAgB,GAAA4B,QAAAoC,EAEAhE,IAIA2D,GAAAA,EAAAP,UAAAzE,GACAgF,EAAAP,UAAApE,EAAAgB,GACAhB,EAAAgB,GAAA2D,EAAAP,QACAQ,IAAAjF,GAAAkF,IAEA7E,EAAAgB,GAAA4D,GAGA,MAAA5D,IAGAhB,EAAAgB,GAAA0D,EAEA,EAEAlF,EAAAC,EAAAI,EAAA,SAAA4E,EAAAC,EAAAhC,EAAAC,EAAAsC,GACA,GAAA,iBAAAR,EACA,OAAA1E,EAAA0E,GAEA1E,EAAA0E,GAAAC,GAMAvB,EAAArD,EAAA2E,EAAAf,EAAAgB,IAAAV,GACA,IAAAS,EAAAlC,OAAA,CAMA,IAJArC,EAAAuE,GACAA,MACA5E,EAAAK,EAAAuE,KAAAvE,EAAAwE,WAEAA,EACA,OAGAA,EAAAnC,QAGAkC,EAAAC,EACAA,EAAAhC,EACAA,EAAA,MAEA+B,EAAA9E,CAEA,CA2BA,OAxBA+E,EAAAA,GAAA,WAAA,EAIA,mBAAAhC,IACAA,EAAAC,EACAA,EAAAsC,GAIAtC,EACA/C,EAAAD,EAAA8E,EAAAC,EAAAhC,GAQAwC,YAAA,WACAtF,EAAAD,EAAA8E,EAAAC,EAAAhC,EACA,GAAA,GAGA7C,CACA,EAMAA,EAAAK,OAAA,SAAAiF,GACA,OAAAtF,EAAAsF,EACA,EAKA3F,EAAA4F,SAAApF,GAEAN,EAAA,SAAAsB,EAAAyD,EAAAC,GACA,GAAA,iBAAA1D,EACA,MAAA,IAAAoC,MAAA,6DAIAqB,EAAAlC,SAIAmC,EAAAD,EACAA,EAAA,IAGA9D,EAAAX,EAAAgB,IAAAL,EAAAV,EAAAe,KACAf,EAAAe,GAAA,CAAAA,EAAAyD,EAAAC,GAEA,GAEAW,IAAA,CACAC,QAAA,EAEA,CAxaA,GA0aA5F,EAAA,uCAAA,WAAA,IAEAA,EAAA,yBAAA,IAAA,WChbA,OAJA6F,SAAAC,MAAAC,OAAA,CAEA,EAGA,IACA/F,EAAA,8BAAA,CAAA,2BAAA,SAAAgG,GCHA,OAHAH,SAAAI,WAAAF,OAAA,CACAG,MAAAF,GAGA,IACAhG,EAAA,oBAAA,CAAA,gCAAA,SAAAmG,GCmHA,OAxHAN,SAAAC,MAAAC,OAAA,CACAK,SAAA,CACAC,YAAA,GACA7C,MAAA,GACA8C,UAAA,GACAC,QAAA,oBACAC,UAAA,EACAC,cAAA,EACAC,eAAA,EACAC,OAAA,EACAC,SAAA,GACAC,SAAA,EACAC,SAAA,GAGAC,WAAA,WACA,IAAAC,EAAAC,KAAAC,IAAA,QAEAD,KAAAE,IAAA,SAAAF,KAAAG,WAAAC,QAAAC,UAAAJ,IAAA,OACAD,KAAAM,SAAAC,QAAAC,QAAA,QAAAR,KAAAC,IAAA,WAAA,QAAAD,KAAAS,YAEAT,KAAAU,KAAA,SAAAV,KAAAW,YAAAX,MACAA,KAAAU,KAAA,eAAAV,KAAAY,YAAAZ,MACAA,KAAAE,IAAA,SAAA,IAAAhB,GAEA,cAAAa,IACAC,KAAAC,IAAAD,KAAAa,aACAb,KAAAE,IAAAF,KAAAc,cAWAP,QAAAC,QAAA,UAAAO,QAAA,aAAAf,MACAO,QAAAC,QAAAR,KAAAC,IAAA,SAAAc,QAAA,aAAAf,MACAO,QAAAC,QAAA,UAAAR,KAAAC,IAAA,SAAAc,QAAA,aAAAf,WAEA,IAAAA,KAAAC,IAAA,eACAM,QAAAC,QAAAR,KAAAC,IAAA,eAAAc,QAAA,aAAAf,MAMAA,KAAAM,SAAAC,QAAAC,QAAA,QAAAR,KAAAC,IAAA,WAAA,SAAAD,KAAAgB,YAKAhB,KAAAM,SAAAC,QAAAC,QAAA,QAAAR,KAAAC,IAAA,WAAA,gBAAAD,KAAAiB,aACA,EAEAJ,aAAA,SAAAK,GAKA,MAJA,YAAAA,IACAA,EAAA,iBAGAtC,SAAAC,MAAAlF,UAAAsG,IAAA9F,KAAA6F,KAAAkB,EACA,EAEAJ,aAAA,SAAAK,EAAAf,GAIA,MAHA,YAAAe,IACAA,EAAA,iBAEAvC,SAAAC,MAAAlF,UAAAuG,IAAA/F,KAAA6F,KAAAmB,EAAAf,EACA,EAEAO,YAAA,WACAJ,QAAAC,QAAA,SAAAR,KAAAC,IAAA,OAAAc,QAAA,eAAAf,MACAO,QAAAC,QAAAR,KAAAC,IAAA,SAAAc,QAAA,eAAAf,MACAO,QAAAC,QAAA,UAAAO,QAAA,eAAAf,KACA,EAEAY,YAAA,WACAL,QAAAC,QAAA,SAAAR,KAAAC,IAAA,OAAAc,QAAA,oBAAAf,MACAO,QAAAC,QAAAR,KAAAC,IAAA,SAAAc,QAAA,oBAAAf,MACAO,QAAAC,QAAA,UAAAO,QAAA,oBAAAf,KACA,EAEAoB,gBAAA,SAAAC,GACArB,KAAAE,IAAA,kBAAAmB,EACA,EAEAC,mBAAA,SAAAD,GACArB,KAAAE,IAAA,qBAAAmB,EACA,EAEAE,WAAA,SAAA1B,GACAG,KAAAE,IAAA,UAAAL,EACA,EAEAmB,WAAA,WACAT,QAAAC,QAAA,UAAAO,QAAA,aAAAf,MACAO,QAAAC,QAAA,UAAAR,KAAAC,IAAA,SAAAc,QAAA,aAAAf,KACA,EAEAiB,aAAA,SAAAZ,GACAE,QAAAC,QAAAR,KAAAC,IAAA,SAAAc,QAAA,gBAAAf,MACAO,QAAAC,QAAA,UAAAO,QAAA,gBAAAf,KACA,EAUAwB,SAAA,WACA,OAAAxB,KAAAC,IAAA,QACA,GAKA,IAEAlH,EAAA,yBAAA,CAAA,sBAAA,SAAA0I,GC3HA,IAAAtB,EAAAvB,SAAAI,WAAAF,OAAA,CACAG,MAAAwC,EACAC,WAAA,QAEA5B,WAAA,SAAA6B,EAAAvB,GACAJ,KAAAI,QAAAA,EACAJ,KAAA4B,GAAA,SAAA,SAAAC,GACAtB,QAAAC,QAAA,UAAAO,QAAA,mBAAAc,EACA,GAAA7B,MAEAO,QAAAC,QAAA,UAAAsB,MAAA,wBAAA9B,KAAA+B,qBACA,EAEAC,eAAA,WACAC,EAAAC,KAAAlC,KAAA2B,QAAA,SAAAF,GACA,GAAA,aAAAA,EAAAxB,IAAA,QAAA,CACA,MAAAkC,EAAA5B,QAAAC,QAAA,kBAAA4B,QAAA,sCAAAX,EAAAxB,IAAA,WACAgC,EAAAC,KAAAC,GAAA,SAAAE,GAEAA,EAAAnC,IAAA,SAAA,GACAK,QAAAC,QAAA,UAAAO,QAAA,iBAAAsB,EACA,GACA,MAEAZ,EAAAvB,IAAA,SAAA,GACAK,QAAAC,QAAA,UAAAO,QAAA,iBAAAU,EAEA,GAAAzB,MAEA,IAAAK,EAAAE,QAAAC,QAAA,QAAAR,KAAA2B,OAAA,GAAA1B,IAAA,WAAAmC,QAAA,YACAH,EAAAK,KAAAjC,EAAAJ,IAAA,gBAAA,GACAM,QAAAC,QAAA,UAAA4B,QAAA,0BAAA1I,OAAA6I,KAAAlC,EAAAJ,IAAA,gBAEA,EAEAuC,WAAA,WACAxC,KAAAyC,OAAA,MAAA,CAAA7C,SAAA,IACAI,KAAAyC,QAAA,WACAzC,KAAAe,QAAA,eAAAf,KACA,GACA,EAEA0C,WAAA,WACA1C,KAAAyC,OAAA,MAAA,CAAA7C,SAAA,IACAI,KAAAyC,QAAA,WACAzC,KAAAe,QAAA,eAAAf,KACA,GACA,EAEA+B,qBAAA,SAAAY,GACA,IAAAC,EAAA,EASA,OAPAX,EAAAC,KAAAS,GAAA,SAAA/E,GAEA,MAAAiF,EAAAtC,QAAAC,QAAA,UAAA4B,QAAA,YAAAxE,GAAAqC,IAAA,SAEA2C,EAAA,IAAAA,GAAAC,EAAAD,EAAAhF,EAAAgF,CACA,IAEAA,CACA,IAEA,OAAAzC,CACA,IAEApH,EAAA,wBAAA,IAAA,WC7DA,OAJA6F,SAAAC,MAAAC,OAAA,CAEA,EAGA,IACA/F,EAAA,6BAAA,CAAA,0BAAA,SAAAgG,GCHA,OAHAH,SAAAI,WAAAF,OAAA,CACAG,MAAAF,GAGA,IACAhG,EAAA,mBAAA,CCLA,yBACA,+BACA,SACA+J,EACAC,GA6IA,OA3IAnE,SAAAC,MAAAC,OAAA,CACAK,SAAA,CACA6D,WAAA,GACAC,UAAA,GACAC,aAAA,GACAC,YAAA,GACAC,cAAA,GACAC,cAAA,GACAC,GAAA,GACAC,YAAA,CAAA,EACAC,MAAA,CAAA,GAGA1D,WAAA,WAEAmC,EAAAC,KAAAlC,KAAAC,IAAA,aAAA,SAAA1D,EAAAkH,GACAzD,KAAAE,IAAAuD,EAAAlH,EACA,GAAAyD,MAEAA,KAAAE,IAAA,eAAAF,KAAAC,IAAA,WACAD,KAAAE,IAAA,SAAA,IAAA4C,EAAA9C,KAAAC,IAAA,UAAA,CAAAI,UAAAL,QACAA,KAAAE,IAAA,SAAA,IAAA6C,GAKAxC,QAAAC,QAAA,QAAAO,QAAA,oBAAAf,MAKA,IAAA0D,EAAA1D,KAAAC,IAAA,mBAQAyD,IACAA,EAAA1D,KAAAC,IAAA,sBAGA,IAAA0D,EAAApD,QAAAC,QAAA,eAAA4B,QAAA,mBAIAwB,EAAA3B,EAAA4B,QAAAF,OAAAtF,GAEAqF,EADAzB,EAAA6B,MAAAF,EACA7F,CAAA2F,EAAA1D,KAAAA,MAEAA,KAAAE,IAAA,kBAAAwD,GAEAnD,QAAAC,QAAA,SAAAO,QAAA,aAAAf,MACAO,QAAAC,QAAA,QAAAR,KAAAC,IAAA,OAAAc,QAAA,aAAAf,MAGAO,QAAAC,QAAA,QAAAR,KAAAC,IAAA,OAAA6B,MAAA,iBAAA9B,KAAA+D,cAAA/D,MAGAO,QAAAC,QAAA,QAAAR,KAAAC,IAAA,OAAA6B,MAAA,YAAA9B,KAAAgE,SAAAhE,MACAO,QAAAC,QAAA,QAAAR,KAAAC,IAAA,OAAA6B,MAAA,eAAA9B,KAAAiE,YAAAjE,MAGAO,QAAAC,QAAA,QAAAR,KAAAC,IAAA,OAAA6B,MAAA,YAAA9B,KAAAkE,SAAAlE,MACAO,QAAAC,QAAA,QAAAR,KAAAC,IAAA,OAAA6B,MAAA,YAAA9B,KAAAmE,SAAAnE,MACAO,QAAAC,QAAA,QAAAR,KAAAC,IAAA,OAAA6B,MAAA,eAAA9B,KAAAoE,YAAApE,MAGAO,QAAAC,QAAA,QAAAR,KAAAC,IAAA,OAAA6B,MAAA,WAAA9B,KAAAqE,QAAArE,MAEAO,QAAAC,QAAA,QAAAO,QAAA,SAAAf,MACAO,QAAAC,QAAA,QAAAO,QAAA,eAAAf,MACAO,QAAAC,QAAA,QAAAR,KAAAC,IAAA,OAAAc,QAAA,SAAAf,KACA,EAQA+D,cAAA,SAAAO,GACA,OAAAtE,KAAAC,IAAA,UAAAsE,UAAA,CAAAD,IAAAA,GACA,EAQAN,SAAA,SAAApG,EAAA4G,GACAxE,KAAAC,IAAA,UACAwE,IAAA,CAAA7G,GAAAA,EAAA4G,IAAAA,IACAjE,QAAAC,QAAA,QAAAR,KAAAC,IAAA,OAAAc,QAAA,YAAAf,KAAApC,EAAA4G,EACA,EAEAP,YAAA,SAAArG,GACA,IAAA8G,EAAA1E,KAAAC,IAAA,UACAlB,EAAA2F,EAAAzE,IAAArC,GACA8G,EAAAC,OAAA5F,GACAwB,QAAAC,QAAA,QAAAR,KAAAC,IAAA,OAAAc,QAAA,eAAAf,KAAApC,EACA,EAQAsG,SAAA,SAAAI,GACA,IAAAM,EAAA5E,KAAAC,IAAA,SACA,YAAA,IAAAqE,EAAAM,EACAA,EAAAN,EACA,EAEAH,SAAA,SAAAG,EAAA/H,GACAyD,KAAAC,IAAA,SACAqE,GAAA/H,EACAgE,QAAAC,QAAA,QAAAR,KAAAC,IAAA,OAAAc,QAAA,YAAAf,KAAAsE,EAAA/H,EACA,EAEA6H,YAAA,SAAAE,UACAtE,KAAAC,IAAA,SACAqE,GACA/D,QAAAC,QAAA,QAAAR,KAAAC,IAAA,OAAAc,QAAA,eAAAf,KAAAsE,EACA,EAOAD,QAAA,WACA,OAAArE,IACA,GAIA,IACAjH,EAAA,wBAAA,CAAA,qBAAA,SAAAsH,GChJA,OAHAzB,SAAAI,WAAAF,OAAA,CACAG,MAAAoB,GAGA,ICEAtH,EAAA,uBAAA,CAAA,mBAAA,wBAAA,yBAAA,+BAAA,SAAA8L,EAAAC,EAAAhC,EAAAC,GA+CA,OA9CAgC,WAAArL,OAAAoF,OAAA,CACAgB,WAAA,WAUAE,KAAAG,WAAA,IAAA2E,EAAAE,SACAzE,QAAAC,QAAA,SAAAO,QAAA,SAAAf,KAAAG,YACAI,QAAAC,QAAA,OAAAO,QAAA,eAAAf,KAAAG,YAEAI,QAAAC,QAAA,OAAAsB,MAAA,WAAA9B,KAAAqE,QAAArE,MACAO,QAAAC,QAAA,OAAAsB,MAAA,YAAA9B,KAAAiF,SAAAjF,MAEAO,QAAAC,QAAA,UAAAsB,MAAA,YAAA9B,KAAAkF,SAAAlF,KACA,EAEAqE,QAAA,SAAAzG,GACA,OAAAoC,KAAAG,WAAAF,IAAArC,EACA,EAEAqH,SAAA,WACA,OAAAjF,KAAAG,UACA,EAEA+E,SAAA,SAAAtH,GACA,IAAAqB,GAAA,EAYA,OAVAgD,EAAAC,KAAAlC,KAAAG,WAAAwB,QAAA,SAAAwD,GACAlG,IACAA,EAAAkG,EAAAlF,IAAA,UAAAA,IAAArC,GAEA,SAEA,IAAAqB,IAAA,IAAAmG,OAAAxH,GAAAf,QAAA,OACAoC,EAAAsB,QAAAC,QAAA,kBAAA4B,QAAA,wBAAAxE,IAGAqB,CACA,GAIA,IAEAlG,EAAA,yBAAA,CAAA,2BAAA,SAAAsM,GCTA,OA/CAN,WAAArL,OAAAoF,OAAA,CACAgB,WAAA,WACAS,QAAAC,QAAA,UAAAsB,MAAA,YAAA9B,KAAAgE,UACAzD,QAAAC,QAAA,UAAAsB,MAAA,eAAA9B,KAAAiE,aACA1D,QAAAC,QAAA,UAAAsB,MAAA,YAAA9B,KAAAsF,SACA,EAEAtB,SAAA,SAAApB,EAAAhF,EAAA4G,GACA,IAAAvF,EAAAsB,QAAAC,QAAA,UAAA4B,QAAA,YAAAQ,GAEA,QAAA,IAAA3D,EAAA,CAEA,IAAAyF,EAAAzF,EAAAgB,IAAA,UACAyE,EAAAD,IAAA,CAAA7G,GAAAA,EAAA4G,IAAAA,IACAvF,EAAAiB,IAAA,SAAAwE,GACAzF,EAAA8B,QAAA,gBAAA9B,GACAA,EAAAiB,IAAA,SAAA,GACAK,QAAAC,QAAA,UAAAO,QAAA,YAAA9B,EAAArB,EAAA4G,EAPA,CAQA,EAEAP,YAAA,SAAArB,EAAAhF,GACA,IAAAqB,EAAAsB,QAAAC,QAAA,UAAA4B,QAAA,YAAAQ,GAEA,QAAA,IAAA3D,EAAA,CACA,IAAAyF,EAAAzF,EAAAgB,IAAA,UACAsF,EAAAb,EAAAzE,IAAArC,QAEA,IAAA2H,IACAb,EAAAC,OAAAY,GACAtG,EAAAiB,IAAA,SAAAwE,GACAzF,EAAA8B,QAAA,gBAAA9B,GACAsB,QAAAC,QAAA,UAAAO,QAAA,eAAA9B,EAAArB,GARA,CAUA,EAEA0H,SAAA,SAAA1C,EAAAhF,GACA,IAEA2H,EAFAhF,QAAAC,QAAA,UAAA4B,QAAA,YAAAQ,GACA3C,IAAA,UACAA,IAAArC,GACA,MAAA,aAAA2H,GACAA,CAIA,GAIA,IC1CAxM,EAAA,0BAAA,IAAA,WA+DA,OA9DAgM,WAAArL,OAAAoF,OAAA,CAEAgB,WAAA,WAIAS,QAAAC,QAAA,WAAAsB,MAAA,eAAA9B,KAAAwF,aAOAxF,KAAAM,SAAAC,QAAAC,QAAA,UAAA,aAAAR,KAAAyF,UACA,EAEAD,YAAA,SAAAE,EAAAzG,GAEA,IAAA1C,EAAAgE,QAAAC,QAAAvB,EAAAgB,IAAA,SAAAmC,QAAA,qBAAAsD,EAAAzG,GAEA1C,OAAA,KADAA,OAAA,IAAAA,EAAAA,EAAAgE,QAAAC,QAAAvB,EAAAgB,IAAA,eAAAmC,QAAA,qBAAAsD,EAAAzG,IACA1C,EAAAoC,OAAA+G,GAAAC,MAGA1G,EAAAiB,IAAA,aAAA,GAGAjB,EAAAiB,IAAA,SAAA,GAYAK,QAAAC,QAAA,SAAAvB,EAAAgB,IAAA,OAAAc,QAAA,eAAA2E,EAAAzG,GACAsB,QAAAC,QAAAvB,EAAAgB,IAAA,SAAAc,QAAA,eAAA2E,EAAAzG,GACAsB,QAAAC,QAAA,UAAAO,QAAA,eAAA2E,EAAAzG,GAMAsB,QAAAC,QAAA,WAAA4B,QAAA,eAAAnD,EAAA1C,GAKA0C,EAAAgB,IAAA,kBACAM,QAAAC,QAAA,kBAAAO,QAAA,YAEA,EAEA0E,UAAA,SAAAC,EAAAzG,GAEAA,EAAAiB,IAAA,SAAA,EACA,GAIA,IACAnH,EAAA,0BAAA,IAAA,WCvEA,IAAA6M,EAAArF,QAAAC,QAAA,SAEAqF,EAAA,yJACAC,EAAA,gBAuFA,OArFAf,WAAArL,OAAAoF,OAAA,CAEAgB,WAAA,WACAE,KAAAM,SAAAsF,EAAA,oBAAA5F,KAAA+F,oBACA/F,KAAAM,SAAAsF,EAAA,cAAA5F,KAAAgG,YACAhG,KAAAM,SAAAsF,EAAA,aAAA5F,KAAAiG,YACA,EAEAF,mBAAA,SAAA9G,GACA,IAAA1C,EAAA0C,EAAAgB,IAAA,SACAiG,EAAAjH,EAAAgB,IAAA,MACAD,KAAAmG,YAAA5J,EAAA2J,EACA,EAEAD,YAAA,SAAAP,EAAAzG,GACA,IAAA1C,EAAAoC,OAAA+G,GAAAC,MACAO,EAAAjH,EAAAgB,IAAA,MACAD,KAAAmG,YAAA5J,EAAA2J,EACA,EAEAC,YAAA,SAAA5J,EAAA2J,GACA,GAAA,EAAA3J,EAAAjB,OACA,GAAAuK,EAAArK,KAAAe,GACAgE,QAAAC,QAAA,UAAA4B,QAAA,eAAA8D,EAAAJ,OACA,CACA,IAAArE,EAAAlB,QAAAC,QAAA,UAAA4B,QAAA,YAAA8D,GACA7F,EAAAE,QAAAC,QAAA,OAAA4B,QAAA,WAAAX,EAAAxB,IAAA,WACAM,QAAAC,QAAA,UAAA4B,QAAA,YAAA8D,EAAAJ,EAAAzF,EAAAJ,IAAA,YAAAmG,oBACA,MAEA7F,QAAAC,QAAA,UAAA4B,QAAA,eAAA8D,EAAAJ,EAEA,EAYAE,WAAA,SAAAN,EAAAzG,EAAAoH,GAKA,GAAA,GAAAA,EACA,OAAA,EAKA,IAAA9J,EAAAoC,OAAA+G,GAAAC,MAKAO,EAAAjH,EAAAgB,IAAA,MAKA,GAAA,GAAA1D,EAAAjB,OACAiF,QAAAC,QAAA,UAAA4B,QAAA,eAAA8D,EAAAJ,QACA,GAAAD,EAAArK,KAAAe,IAAA0C,EAAAgB,IAAA,SAOA4F,EAAArK,KAAAe,KACAgE,QAAAC,QAAA,UAAA4B,QAAA,eAAA8D,EAAAJ,GAIA7G,EAAAmC,gBAAA,WACAnC,EAAAiB,IAAA,SAAA,QAbA,CAEA,IAAAuB,EAAAlB,QAAAC,QAAA,UAAA4B,QAAA,YAAA8D,GACA7F,EAAAE,QAAAC,QAAA,OAAA4B,QAAA,WAAAX,EAAAxB,IAAA,WACAM,QAAAC,QAAA,UAAA4B,QAAA,YAAA8D,EAAAJ,EAAAzF,EAAAJ,IAAA,YAAAmG,qBAEAnH,EAAAqC,mBAAA,UACA,CAQA,GAIA,IACAvI,EAAA,yBAAA,IAAA,WC5FA,IAAA6M,EAAArF,QAAAC,QAAA,QACAsF,EAAA,eAmKA,OAjKAf,WAAArL,OAAAoF,OAAA,CAEAgB,WAAA,WACAE,KAAAM,SAAAsF,EAAA,oBAAA5F,KAAA+F,oBACA/F,KAAAM,SAAAsF,EAAA,cAAA5F,KAAAsG,WACAtG,KAAAM,SAAAsF,EAAA,aAAA5F,KAAAiG,aAEAjG,KAAAM,SAAAsF,EAAA,eAAA5F,KAAAuG,mBAAAvG,KACA,EAEA+F,mBAAA,SAAA9G,GACA,IAAAuH,EAAAC,OAAAC,SACAD,OAAAC,OAAA,eACA1G,KAAA2G,WAAA1H,GACAwH,OAAAC,OAAAF,EACA,EAEAP,YAAA,SAAAP,EAAAzG,GACA,IAAAuH,EAAAC,OAAAC,SACAD,OAAAC,OAAA,eACA1G,KAAA2G,WAAA1H,GACAwH,OAAAC,OAAAF,EACA,EAEAG,WAAA,SAAA1H,GACA,IAAAiH,EAAAjH,EAAAgB,IAAA,MACA1D,EAAA0C,EAAAgB,IAAA,SACA2G,EAAA3H,EAAAgB,IAAA,eAGA,GAAA,aAAAhB,EAAAgB,IAAA,aACA,OAAA,EAGA,GAAA,EAAA1D,EAAAjB,OAEA,GAAA0E,KAAA6G,YAAAtK,EAAAqK,EAAAV,GACA3F,QAAAC,QAAA,UAAA4B,QAAA,eAAA8D,EAAAJ,OACA,CACA,IAAArE,EAAAlB,QAAAC,QAAA,UAAA4B,QAAA,YAAA8D,GACA7F,EAAAE,QAAAC,QAAA,OAAA4B,QAAA,WAAAX,EAAAxB,IAAA,WACAM,QAAAC,QAAA,UAAA4B,QAAA,YAAA8D,EAAAJ,EAAAzF,EAAAJ,IAAA,YAAA6G,mBACA,MAEAvG,QAAAC,QAAA,UAAA4B,QAAA,eAAA8D,EAAAJ,EAEA,EAaAQ,UAAA,SAAAZ,EAAAzG,EAAAoH,GAKA,GAAA,GAAAA,EACA,OAAA,EAKA,IAAA9J,EAAAoC,OAAA+G,GAAAC,MAKAO,EAAAjH,EAAAgB,IAAA,MAKA2G,EAAA3H,EAAAgB,IAAA,eAEAuG,EAAAC,OAAAC,SAMA,GALAD,OAAAC,OAAA,eAKA,GAAAnK,EAAAjB,OACAiF,QAAAC,QAAA,UAAA4B,QAAA,eAAA8D,EAAAJ,QAGA,GAAA9F,KAAA6G,YAAAtK,EAAAqK,EAAAV,IAAAjH,EAAAgB,IAAA,SASAD,KAAA6G,YAAAtK,EAAAqK,EAAAV,KACA3F,QAAAC,QAAA,UAAA4B,QAAA,eAAA8D,EAAAJ,GAIA7G,EAAAmC,gBAAA,WACAnC,EAAAiB,IAAA,SAAA,QAfA,CAEA,IAAAuB,EAAAlB,QAAAC,QAAA,UAAA4B,QAAA,YAAA8D,GACA7F,EAAAE,QAAAC,QAAA,OAAA4B,QAAA,WAAAX,EAAAxB,IAAA,WACAM,QAAAC,QAAA,UAAA4B,QAAA,YAAA8D,EAAAJ,EAAAzF,EAAAJ,IAAA,YAAA6G,oBAEA7H,EAAAqC,mBAAA,UACA,CAUAmF,OAAAC,OAAAF,EACA,EAEAD,mBAAA,SAAA7I,EAAA+D,GACA,IACAsF,EAAApI,OAAAjB,EAAAsJ,QAAAC,QAAA,qBAGAC,EAAAvI,OAAAoI,GAAAI,KAAA,SAAAxB,MACAyB,EAAAzI,OAAAoI,GAAAI,KAAA,WAAAxB,MACA0B,EAAA1I,OAAAoI,GAAAI,KAAA,SAAAxB,MAEAlE,EAAAvB,IAAA,gBAAAgH,GACAzF,EAAAvB,IAAA,kBAAAkH,GACA3F,EAAAvB,IAAA,gBAAAmH,GAGA,MAAAC,EAAA7F,EAAAxB,IAAA,MACA,GAAA,iBAAAqH,IAAA,IAAAA,EAAAC,OAAA,KAAA,CACA,MAAAC,OAAA,IAAAH,EACAH,EAAA,IAAAE,EAAA,IAAAC,EACAH,EAAA,IAAAE,EAEA,cAAA3F,EAAAxB,IAAA,cACAwB,EAAAvB,IAAA,QAAAsH,GAGAjH,QAAAC,QAAA,kBAAAO,QAAA,YACA,CACA,EAEA8F,YAAA,SAAAtK,EAAAqK,EAAAV,GACA,GAAA,OAAAuB,SAAAC,cAAA,mBAAAxB,EAAA,MAAA,OAEA,MAAAyB,EAAAF,SAAAC,cAAA,mBAAAxB,EAAA,MAAA0B,WAAAD,UAAApL,EAAAqK,GAEA,IAAAe,EACA,OAAA,EAEA,MAAAE,EAAAF,EAAAG,UACA,GAAAC,MAAAF,GACA,OAAA,EAGA,MAAAG,EAAA,IAAAC,KAAAJ,GAGA,OAFAJ,SAAAC,cAAA,mBAAAxB,EAAA,MAAA0B,WAAAM,WAAAF,EAAApB,KAEArK,CACA,GAKA,IACAxD,EAAA,4BAAA,IAAA,WClFA,OApFAgM,WAAArL,OAAAoF,OAAA,CACAgB,WAAA,WAIAE,KAAAM,SAAAC,QAAAC,QAAA,YAAA,aAAAR,KAAAmI,uBAEA5H,QAAAC,QAAA,YAAAsB,MAAA,oBAAA9B,KAAAoI,kBACA7H,QAAAC,QAAA,YAAAsB,MAAA,qBAAA9B,KAAAqI,mBACA9H,QAAAC,QAAA,YAAAsB,MAAA,qBAAA9B,KAAAsI,kBAAAtI,MACAO,QAAAC,QAAA,YAAAsB,MAAA,gBAAA9B,KAAAuI,aAAAvI,KACA,EAEAsI,kBAAA,SAAA5C,EAAAzG,GAEA,GADAN,OAAA+G,GAAAxL,KAAA,WACA,CACA,IAAAqC,EAAA,EACAoC,OAAA+G,GAAA8C,SAAA,cACA7J,OAAA+G,GAAAuB,QAAA,eAAAE,KAAA,cAAAxI,OAAA+G,GAAAxL,KAAA,MAAA,MAAAsO,SAAA,mBACA,KAAA,CACAjM,EAAA,EACAoC,OAAA+G,GAAA+C,YAAA,cACA9J,OAAA+G,GAAAuB,QAAA,eAAAE,KAAA,cAAAxI,OAAA+G,GAAAxL,KAAA,MAAA,MAAAuO,YAAA,mBACA,CAEA,OAAAlM,CACA,EAEA6L,iBAAA,SAAA1C,EAAAzG,GACA,OAAAyG,EAAA,GAAAgD,OACA,EAEAL,kBAAA,SAAApJ,GACA,OAAA,GAAAA,EAAAgB,IAAA,QACA,EAEAsI,aAAA,SAAA9G,GAOA,OANA,GAAAA,EAAAxB,IAAA,SACA0I,UAAAlH,EAAAxB,IAAA,sBAEA0I,UAAAlH,EAAAxB,IAAA,wBAGA0I,SACA,EAEAR,sBAAA,SAAAlJ,GACA,WAAAA,EAAAgB,IAAA,iBACAhB,EAAAiB,IAAA,QAAA,GAEAjB,EAAAiB,IAAA,QAAA,GAEAjB,EAAAiB,IAAA,gBAAAF,KAAA4I,eACA3J,EAAAiB,IAAA,qBAAAF,KAAA6I,oBACA5J,EAAAiB,IAAA,eAAAF,KAAA8I,aACA,EAEAF,cAAA,SAAAtJ,GAMA,OALA,GAAAU,KAAAzD,OAAAyD,KAAAN,YAAA,IAAAM,KAAA+I,eAAA,WAAA/I,KAAA+I,cACAzJ,GAAA,cAEAA,EAAA7D,QAAA,aAAA,IAEA6D,CACA,EAEAuJ,mBAAA,SAAAvJ,GAMA,OALA,GAAAU,KAAAzD,OAAAyD,KAAAN,YAAA,IAAAM,KAAA+I,eAAA,WAAA/I,KAAA+I,cACAzJ,GAAA,oBAEAA,EAAA7D,QAAA,mBAAA,IAEA6D,CACA,EAEAwJ,aAAA,WACA,OAAA,GAAA9I,KAAAzD,OAAAyD,KAAAN,YAAA,IAAAM,KAAA+I,eAAA,WAAA/I,KAAA+I,cACA,WAEA,EAEA,GAIA,IACAhQ,EAAA,gCAAA,IAAA,WCsGA,OA5LAgM,WAAArL,OAAAoF,OAAA,CACAgB,WAAA,WACAE,KAAAM,SAAAC,QAAAC,QAAA,gBAAA,aAAAR,KAAAgJ,UACAhJ,KAAAM,SAAAC,QAAAC,QAAA,SAAA,aAAAR,KAAAgJ,UACAzI,QAAAC,QAAA,gBAAAsB,MAAA,qBAAA9B,KAAAsI,kBAAAtI,MACAO,QAAAC,QAAA,SAAAsB,MAAA,qBAAA9B,KAAAsI,kBAAAtI,MACAO,QAAAC,QAAA,gBAAAsB,MAAA,gBAAA9B,KAAAuI,aAAAvI,MACAO,QAAAC,QAAA,SAAAsB,MAAA,gBAAA9B,KAAAuI,aAAAvI,KACA,EAEAgJ,SAAA,SAAA/J,GASA,GARAA,EAAAiB,IAAA,gBAAAF,KAAAiJ,eACAhK,EAAAiB,IAAA,kBAAAF,KAAAkJ,iBACAjK,EAAAiB,IAAA,WAAA,IAMA,GAAAjB,EAAAgB,IAAA,WAAA3E,OAAA,CACA,IAAA6N,EAAAlH,EAAAmH,OAAAnK,EAAAgB,IAAA,YAAA,SAAAoJ,GAAA,OAAA,GAAAA,EAAAF,QAAA,IACAA,EAAAlH,EAAA7G,IAAA+N,GAAA,SAAAE,GAAA,OAAAA,EAAA9M,KAAA,GACA,CAMA,IAAA+M,EAAArK,EAAAgB,IAAA,cACA,IAAAqJ,GAAAC,MAAAC,QAAAF,GACArK,EAAAiB,IAAA,QAAAoJ,QACA,IAAAH,GACAlK,EAAAiB,IAAA,QAAAiJ,EAEA,EAEAF,cAAA,WACA,IAAAQ,EAAA,GAEA,GAAA,IAAAzJ,KAAAzD,OAAAgN,MAAAC,QAAAxJ,KAAAzD,QAAA,EAAAyD,KAAAzD,MAAAjB,QACA,EAAA0E,KAAAzD,MAAAjB,OACA,IAAAoO,GAAA,OAEAA,GAAA,EAgEA,GA7DAzH,EAAAC,KAAAlC,KAAAI,SAAA,SAAAuJ,EAAA/M,GACA2M,MAAAC,QAAAxJ,KAAAzD,SACAgN,MAAAC,QAAAxJ,KAAAzD,MAAA,MAAA,IAAA0F,EAAApF,QAAAmD,KAAAzD,MAAA,GAAAoN,EAAApN,QAGA0F,EAAApF,QAAAmD,KAAAzD,MAAAoN,EAAApN,UAFAmN,GAAA,GAOAC,EAAApN,OAAAyD,KAAAzD,QACAmN,GAAA,QAOA,IAAAC,EAAA/J,UACA+J,EAAA/J,SAAA,GAGA+J,EAAAzD,QAAAlG,KAAApC,GACA+L,EAAArK,QAAAU,KAAAV,QACAqK,EAAA/M,MAAAA,EACA+M,EAAAC,WAAA,IAAAC,WAAAC,mBAAA,SAAAD,WAAAC,kBAAA7H,EAAA8H,OAAAJ,EAAAC,OAAAD,EAAAC,MAEA,IAAAT,GAAA,EAKAI,MAAAC,QAAAxJ,KAAAzD,QAAA,EAAAyD,KAAAzD,MAAAjB,QACA,IAAA2G,EAAApF,QAAAmD,KAAAzD,MAAA,GAAApB,MAAA,KAAAwO,EAAApN,SACA,IAAA0F,EAAApF,QAAAmD,KAAAzD,MAAAoN,EAAApN,SACA4M,GAAA,GAEAlH,EAAAuH,QAAAxJ,KAAAzD,QAAAoN,EAAApN,OAAAyD,KAAAzD,MAEA,GAAAoN,EAAAR,UAAAnJ,KAAAN,YAAA,IAAAM,KAAAzD,QACA4M,GAAA,GAFAA,GAAA,EAeAQ,EAAAR,SAAAA,EACAQ,EAAAK,WAAAb,EACAQ,EAAAM,SAAAjK,KAAAiK,SACAN,EAAAO,gBAAAlK,KAAAkK,gBACA,IAAAC,EAAA5J,QAAAC,QAAA,OAAA4B,QAAA,eAAA,sCACAqH,GAAAU,EAAAR,EACA,GAAA3J,MAEA,GAAAA,KAAAoK,WAAA,CACA,YAAApK,KAAAzD,QACAmN,GAAA,GAEA,IAAAW,EAAA,CACAnE,QAAAlG,KAAApC,GACA0B,QAAAU,KAAAV,QACAgL,aAAAtK,KAAAzD,MACA2M,gBAAAlJ,KAAAkJ,gBACAQ,WAAAA,GAGAS,EAAA5J,QAAAC,QAAA,OAAA4B,QAAA,eAAA,qCACAqH,GAAAU,EAAAE,EAEA,CAEA,OAAAZ,CACA,EAEAP,gBAAA,WACA,GAAA,YAAAlJ,KAAAsK,eAAAtK,KAAA0J,WAAA,CACA,YAAA1J,KAAAsK,eACAtK,KAAAsK,aAAA,IAEA,IAAAD,EAAA,CACAnE,QAAAlG,KAAAkG,QACA5G,QAAAU,KAAAV,QACAgL,aAAAtK,KAAAsK,cAGA,OADA/J,QAAAC,QAAA,OAAA4B,QAAA,eAAA,yCACA+H,CAAAE,EACA,CACA,EAEA9B,aAAA,SAAA9G,GACA,IAAA8I,EAAA,EACAnK,EAAAqB,EAAAxB,IAAA,WAOA,OANA,GAAAG,EAAA9E,QACA2G,EAAAC,KAAAT,EAAAxB,IAAA,UAAA,SAAA0F,GACA,IAAA6E,EAAAvI,EAAAkF,KAAA/G,GAAA,SAAAiJ,GAAA,OAAAA,EAAA9M,OAAAoJ,CAAA,IACA4E,EAAAE,OAAAF,GAAAE,OAAAD,EAAAE,KACA,IAEAH,CACA,EAEAjC,kBAAA,SAAA5C,EAAAzG,GACA,IAAAkK,EAAAlK,EAAAgB,IAAA,UAAA,GACA,iBAAAkJ,IAAAA,EAAA,CAAAA,IAEA,IAAA5M,EAAAoC,OAAA+G,GAAAC,MAEA,GADAhH,OAAA+G,GAAAxL,KAAA,WAEAiP,EAAAhN,KAAAI,GACAoC,OAAA+G,GAAA8C,SAAA,cACA7J,OAAA+G,GAAAiF,SAAAxD,KAAA,cAAAxI,OAAA+G,GAAAxL,KAAA,MAAA,MAAAsO,SAAA,wBACA,CACA7J,OAAA+G,GAAA+C,YAAA,cACA9J,OAAA+G,GAAAiF,SAAAxD,KAAA,cAAAxI,OAAA+G,GAAAxL,KAAA,MAAA,MAAAuO,YAAA,oBACA,IAAA1N,EAAAoO,EAAAtM,QAAAN,GACA,IAAA,GAAAxB,EACAoO,EAAAvN,OAAAb,EAAA,QACA,GAAAwO,MAAAC,QAAAL,GAAA,CACA,IAAAyB,OAAA,IAAAzB,EAAA,GAAAA,EAAA,GAAAhO,MAAA,KAAA,GACA0P,EAAAD,EAAA/N,QAAAN,IACA,IAAAsO,GACAD,EAAAhP,OAAAiP,EAAA,GAEA1B,EAAAyB,EAAA/O,KAAA,IACA,CACA,CAMA,OAAAoG,EAAA6I,MAAA3B,EACA,GAIA,IACApQ,EAAA,6BAAA,IAAA,WCyDA,OAvPAgM,WAAArL,OAAAoF,OAAA,CACAgB,WAAA,WACAE,KAAAM,SAAAC,QAAAC,QAAA,aAAA,aAAAR,KAAAgJ,UACAzI,QAAAC,QAAA,aAAAsB,MAAA,qBAAA9B,KAAAsI,kBAAAtI,MACAO,QAAAC,QAAA,aAAAsB,MAAA,gBAAA9B,KAAAuI,aAAAvI,KACA,EAEAgJ,SAAA,SAAA/J,GASA,GARAA,EAAAiB,IAAA,gBAAAF,KAAAiJ,eACAhK,EAAAiB,IAAA,kBAAAF,KAAAkJ,iBACAjK,EAAAiB,IAAA,WAAA,IAMA,GAAAjB,EAAAgB,IAAA,iBAAA3E,OAAA,CACA,IAAA6N,EAAAlH,EAAAmH,OAAAnK,EAAAgB,IAAA,kBAAA,SAAAoJ,GAAA,OAAA,GAAAA,EAAAF,QAAA,IACAA,EAAAlH,EAAA7G,IAAA+N,GAAA,SAAAE,GAAA,OAAAA,EAAA9M,KAAA,GACA,CAMA,IAAA+M,EAAArK,EAAAgB,IAAA,cACA,IAAAqJ,GAAAC,MAAAC,QAAAF,GACArK,EAAAiB,IAAA,QAAAoJ,QACA,IAAAH,GACAlK,EAAAiB,IAAA,QAAAiJ,EAEA,EAEAF,cAAA,WACA,IAAAQ,EAAA,GAEA,GAAA,IAAAzJ,KAAAzD,OAAAgN,MAAAC,QAAAxJ,KAAAzD,QAAA,EAAAyD,KAAAzD,MAAAjB,QACA,EAAA0E,KAAAzD,MAAAjB,OACA,IAAAoO,GAAA,OAEAA,GAAA,EAGA,IAAA1J,KAAA+K,oBACA/K,KAAAgL,cAAA,gBACAhL,KAAAiL,WAAA,YAEAjL,KAAAiL,WAAA,QAGA,eAAAjL,KAAAkL,iBACAlL,KAAAmL,eAAA,MAEAnL,KAAAmL,eAAA,SAEA,IAAAC,EAAApL,KAEAqL,EAAAC,SAAAtL,KAAAqL,cAAA,EACAE,EAAA,EACAC,EAAA,EAqEA,GAnEAvJ,EAAAC,KAAAlC,KAAAyL,eAAA,SAAAC,EAAA9O,GACAoD,KAAA2L,mBAGAD,EAAA9B,WAAA,IAAAC,WAAAC,mBAAA,SAAAD,WAAAC,kBAAA7H,EAAA8H,OAAA2B,EAAA9B,OAAA8B,EAAA9B,MAFA8B,EAAA9B,MAAA,GAIAL,MAAAC,QAAAxJ,KAAAzD,SACAgN,MAAAC,QAAAxJ,KAAAzD,MAAA,MAAA,IAAA0F,EAAApF,QAAAmD,KAAAzD,MAAA,GAAAmP,EAAAnP,QAGA0F,EAAApF,QAAAmD,KAAAzD,MAAAmP,EAAAnP,UAFAmN,GAAA,GAOAgC,EAAAnP,OAAAyD,KAAAzD,QACAmN,GAAA,QAOA,IAAAgC,EAAA9L,UACA8L,EAAA9L,SAAA,GAGA,eAAAwL,EAAAF,kBAAAK,GAAAF,IACAK,EAAAE,OAAA,4BAAAL,EAAA,gBAAAC,EAEAD,IAAAF,GACAE,EAAA,EACAC,GAAA,GAEAD,GAAA,GAIAG,EAAAT,WAAAG,EAAAH,WACAS,EAAAxF,QAAAlG,KAAApC,GACA8N,EAAApM,QAAAU,KAAAV,QACAoM,EAAA9O,MAAAA,EAEA,IAAAuM,GAAA,EAKAI,MAAAC,QAAAxJ,KAAAzD,QAAA,EAAAyD,KAAAzD,MAAAjB,QACA,IAAA2G,EAAApF,QAAAmD,KAAAzD,MAAA,GAAApB,MAAA,KAAAuQ,EAAAnP,SACA,IAAA0F,EAAApF,QAAAmD,KAAAzD,MAAAmP,EAAAnP,SACA4M,GAAA,IAEAlH,EAAAuH,QAAAxJ,KAAAzD,QAAAmP,EAAAnP,OAAAyD,KAAAzD,SAEA,GAAAmP,EAAAvC,WAAAnJ,KAAAN,YAAA,IAAAM,KAAAzD,OAAA,KAAAyD,KAAAzD,SADA4M,GAAA,GAKAuC,EAAAvC,SAAAA,EACAuC,EAAA1B,WAAAb,EACAuC,EAAAzB,SAAAjK,KAAAiK,SACAyB,EAAAxB,gBAAAlK,KAAAkK,gBACA,IAAAC,EAAA5J,QAAAC,QAAA,OAAA4B,QAAA,eAAA,mCACAqH,GAAAU,EAAAuB,EACA,GAAA1L,MAEA,GAAAA,KAAAoK,WAAA,CACA,YAAApK,KAAAzD,QACAmN,GAAA,GAEA,IAAAW,EAAA,CACAnE,QAAAlG,KAAApC,GACA0B,QAAAU,KAAAV,QACA/C,MAAAyD,KAAAzD,MACA+N,aAAAtK,KAAAzD,MACA2M,gBAAAlJ,KAAAkJ,gBACAQ,WAAAA,GAGAS,EAAA5J,QAAAC,QAAA,OAAA4B,QAAA,eAAA,kCACAqH,GAAAU,EAAAE,EAEA,CAEA,OAAAZ,CACA,EAEAP,gBAAA,WACA,GAAA,YAAAlJ,KAAAsK,eAAAtK,KAAA0J,WAAA,CACA,YAAA1J,KAAAsK,eACAtK,KAAAsK,aAAA,IAEA,IAAAD,EAAA,CACAnE,QAAAlG,KAAAkG,QACA5G,QAAAU,KAAAV,QACAgL,aAAAtK,KAAAsK,cAGA,OADA/J,QAAAC,QAAA,OAAA4B,QAAA,eAAA,sCACA+H,CAAAE,EACA,CACA,EAEA9B,aAAA,SAAA9G,GACA,IAAA8I,EAAA,EACAnK,EAAAqB,EAAAxB,IAAA,WACA,GAAA,GAAAG,EAAA9E,OAIA,GAAA,GAAAgQ,SAAA7J,EAAAxB,IAAA,uBAIAgC,EAAAC,KAAAT,EAAAxB,IAAA,UAAA,SAAA0F,GACA,IAAA6E,EAAAvI,EAAAkF,KAAA/G,GAAA,SAAAiJ,GAAA,OAAAA,EAAA9M,OAAAoJ,CAAA,IACA4E,GAAAE,OAAAD,EAAAE,KACA,QACA,CAIA,IAAAvB,EAAAlH,EAAAkF,KAAA/G,GAAA,SAAAiJ,GAAA,OAAA5H,EAAAxB,IAAA,UAAAoJ,EAAA9M,KAAA,SAIA,IAAA4M,IACAoB,EAAApB,EAAAuB,KAEA,CAEA,OAAAH,CACA,EAEAjC,kBAAA,SAAA5C,EAAAzG,GAEA,GAAA,IAAAA,EAAAgB,IAAA,sBAAA,CACA,IAAAkJ,EAAAxK,OAAA+G,GAAAC,MACAvF,EAAAnB,EAAAgB,IAAA,iBACAgC,EAAAC,KAAA9B,GAAA,SAAAuJ,EAAA/M,GACA+M,EAAApN,QAAA4M,GACAQ,EAAAK,YAAA,EACAL,EAAAR,UAAA,IAEAQ,EAAAK,YAAA,EACAL,EAAAR,UAAA,GAEAQ,EAAAK,YAKArL,OAAA,aAAAgL,EAAAzD,QAAA,IAAAtJ,GAAA4L,SAAA,cACA7J,OAAA,mBAAAgL,EAAAzD,QAAA,IAAAtJ,GAAA4L,SAAA,sBALAmB,EAAAR,UAAA,EACAxK,OAAA,aAAAgL,EAAAzD,QAAA,IAAAtJ,GAAA6L,YAAA,cACA9J,OAAA,mBAAAgL,EAAAzD,QAAA,IAAAtJ,GAAA6L,YAAA,oBAKA,GACA,KAAA,CAEA,iBADAU,EAAAlK,EAAAgB,IAAA,UAAA,MACAkJ,EAAA,CAAAA,IACA,IAAA5M,EAAAoC,OAAA+G,GAAAC,MAEA,GADAhH,OAAA+G,GAAAxL,KAAA,WAEAiP,EAAAhN,KAAAI,GACAoC,OAAA+G,GAAA8C,SAAA,cACA7J,OAAA+G,GAAAiF,SAAAxD,KAAA,cAAAxI,OAAA+G,GAAAxL,KAAA,MAAA,MAAAsO,SAAA,wBACA,CACA7J,OAAA+G,GAAA+C,YAAA,cACA9J,OAAA+G,GAAAiF,SAAAxD,KAAA,cAAAxI,OAAA+G,GAAAxL,KAAA,MAAA,MAAAuO,YAAA,oBACA,IAAA1N,EAAAoO,EAAAtM,QAAAN,GACA,IAAA,GAAAxB,EACAoO,EAAAvN,OAAAb,EAAA,QACA,GAAAwO,MAAAC,QAAAL,GAAA,CACA,IAAAyB,EAAAzB,EAAA,GAAAhO,MAAA,KACA0P,EAAAD,EAAA/N,QAAAN,IACA,IAAAsO,GACAD,EAAAhP,OAAAiP,EAAA,GAEA1B,EAAAyB,EAAA/O,KAAA,IACA,CACA,CACA,CAEA,OAAAoG,EAAA6I,MAAA3B,EACA,GAIA,IACApQ,EAAA,yBAAA,IAAA,WCxGA,OAjJAgM,WAAArL,OAAAoF,OAAA,CACAgB,WAAA,WACAE,KAAAM,SAAAC,QAAAC,QAAA,aAAA,oBAAAR,KAAA6L,kBACA7L,KAAAM,SAAAC,QAAAC,QAAA,aAAA,aAAAR,KAAAgJ,UACAzI,QAAAC,QAAA,aAAAsB,MAAA,gBAAA9B,KAAAuI,aAAAvI,MAEAA,KAAAM,SAAAC,QAAAC,QAAA,aAAA,eAAAR,KAAA8L,mBAAA9L,KACA,EAEAgJ,SAAA,SAAA/J,GAOA,GANAA,EAAAiB,IAAA,gBAAAF,KAAAiJ,eACAhK,EAAAiB,IAAA,kBAAAF,KAAAkJ,iBAKA,GAAAjK,EAAAgB,IAAA,WAAA3E,OAAA,CAIA,IAAA6N,EAAAlH,EAAAkF,KAAAlI,EAAAgB,IAAA,YAAA,SAAAoJ,GAAA,OAAA,GAAAA,EAAAF,QAAA,SAEA,IAAAA,GACAlK,EAAAiB,IAAA,QAAAiJ,EAAA5M,MAEA,CACA,EAEAsP,iBAAA,SAAA5M,GACA,GAAAA,EAAAgB,IAAA,eAEAhB,EAAA8B,QAAA,WAEA,EAEAkI,cAAA,WACA,IAAAQ,EAAA,GACA,GAAA,IAAAzJ,KAAAzD,MACA,IAAAmN,GAAA,OAEAA,GAAA,EAyCA,GAtCAzH,EAAAC,KAAAlC,KAAAI,SAAA,SAAAuJ,EAAA/M,GACA+M,EAAApN,OAAAyD,KAAAzD,QACAmN,GAAA,QAOA,IAAAC,EAAA/J,UACA+J,EAAA/J,SAAA,GAGA+J,EAAAR,UAAA,EACAQ,EAAAzD,QAAAlG,KAAApC,GACA+L,EAAArK,QAAAU,KAAAV,QACAqK,EAAAW,aAAAtK,KAAAzD,MACAoN,EAAA/M,MAAAA,EACA+M,EAAAC,WAAA,IAAAC,WAAAC,mBAAA,SAAAD,WAAAC,kBAAA7H,EAAA8H,OAAAJ,EAAAC,OAAAD,EAAAC,MACAD,EAAAM,SAAAjK,KAAAiK,SAKAjK,KAAAN,OAAA,GAAAM,KAAAmJ,UAEAnJ,KAAAzD,OAAAoN,EAAApN,MADAoN,EAAAR,UAAA,EAIAQ,EAAAR,UAAA,EAGAQ,EAAAO,gBAAAlK,KAAAkK,gBACA,IAAAC,EAAA5J,QAAAC,QAAA,OAAA4B,QAAA,eAAA,mCAEAqH,GAAAU,EAAAR,EACA,GAAA3J,MAEA,GAAAA,KAAAoK,WAAA,CACA,YAAApK,KAAAzD,QACAmN,GAAA,GAEA,IAAAW,EAAA,CACAnE,QAAAlG,KAAApC,GACA0B,QAAAU,KAAAV,QACAgL,aAAAtK,KAAAzD,MACA2M,gBAAAlJ,KAAAkJ,gBACAQ,WAAAA,GAEAS,EAAA5J,QAAAC,QAAA,OAAA4B,QAAA,eAAA,kCACAqH,GAAAU,EAAAE,EACA,CAEA,OAAAZ,CACA,EAEAP,gBAAA,WACA,GAAA,YAAAlJ,KAAAsK,eAAAtK,KAAA0J,WAAA,CACA,YAAA1J,KAAAsK,eACAtK,KAAAsK,aAAA,IAEA,IAAAD,EAAA,CACAnE,QAAAlG,KAAAkG,QACA5G,QAAAU,KAAAV,QACAgL,aAAAtK,KAAAsK,cAGA,OADA/J,QAAAC,QAAA,OAAA4B,QAAA,eAAA,sCACA+H,CAAAE,EACA,CACA,EAEA9B,aAAA,SAAA9G,GAKA,IAAA8I,EAAA,EAEA,GAAA,GAAA9I,EAAAxB,IAAA,WAAA3E,OAAA,CAIA,IAAA6N,EAAAlH,EAAAkF,KAAA1F,EAAAxB,IAAA,YAAA,SAAAoJ,GAAA,OAAA5H,EAAAxB,IAAA,UAAAoJ,EAAA9M,KAAA,SACA,IAAA4M,IACAoB,EAAApB,EAAAuB,KAGA,CACA,OAAAH,CACA,EAEAuB,mBAAA,SAAApG,EAAAzG,GACAN,OAAA,UAAAA,OAAA+G,GAAAxE,KAAA,QAAA,MAAAuH,YAAA,cACA9J,OAAA+G,GAAAuB,QAAA,MAAAE,KAAA,SAAAsB,YAAA,oBACA9J,OAAA+G,GAAA8C,SAAA,cACA7J,OAAA+G,GAAAuB,QAAA,MAAAE,KAAA,cAAAxI,OAAA+G,GAAAxL,KAAA,MAAA,MAAAsO,SAAA,mBAGA,GAKA,IACAzP,EAAA,0BAAA,IAAA,WC5FA,OAvDAgM,WAAArL,OAAAoF,OAAA,CACAgB,WAAA,WACAE,KAAAM,SAAAC,QAAAC,QAAA,UAAA,aAAAR,KAAA+L,iBACA/L,KAAAM,SAAAC,QAAAC,QAAA,UAAA,cAAAR,KAAAgM,cACA,EAEAD,gBAAA,SAAA9M,GAEA,GAAA,IAAAA,EAAAgB,IAAA,UAAA,IAAAhB,EAAAgB,IAAA,eAAA,CACA,IAAAgM,EAAAhN,EAAAgB,IAAA,WACAhB,EAAAiB,IAAA,cAAA+L,EACA,CACA,EAEAD,cAAA,SAAAtG,EAAAzG,GACA,IAAAiN,EAAAvN,OAAA+G,GACAC,EAAAuG,EAAAvG,MACAwG,EAAAC,WAAAzG,GACAsG,EAAAC,EAAAhL,KAAA,OACAmL,EAAAH,EAAAhL,KAAA,OACAoL,EAAAJ,EAAAhL,KAAA,QAAAgL,EAAAhL,KAAA,QAAA,IAEA,GAAA+K,GAAAE,EAAAF,EAAA,CACA,IAAAxK,EAAAlB,QAAAC,QAAA,UAAA4B,QAAA,YAAAnD,EAAAgB,IAAA,OACAI,EAAAE,QAAAC,QAAA,OAAA4B,QAAA,WAAAX,EAAAxB,IAAA,WACAM,QAAAC,QAAA,UAAA4B,QAAA,YAAAnD,EAAAgB,IAAA,MAAA,aAAAI,EAAAJ,IAAA,YAAAsM,uBACA,MACAhM,QAAAC,QAAA,UAAA4B,QAAA,eAAAnD,EAAAgB,IAAA,MAAA,cAGA,GAAAoM,GAAAF,EAAAE,EAAA,CACA5K,EAAAlB,QAAAC,QAAA,UAAA4B,QAAA,YAAAnD,EAAAgB,IAAA,OACAI,EAAAE,QAAAC,QAAA,OAAA4B,QAAA,WAAAX,EAAAxB,IAAA,WACAM,QAAAC,QAAA,UAAA4B,QAAA,YAAAnD,EAAAgB,IAAA,MAAA,aAAAI,EAAAJ,IAAA,YAAAuM,uBACA,MACAjM,QAAAC,QAAA,UAAA4B,QAAA,eAAAnD,EAAAgB,IAAA,MAAA,cASA,GANAwM,QAAA9G,EAAAxK,MAAA,KACAsR,aAAA,IAAAA,QAAA,GAAAA,QAAA,GAAAnR,OAAA,EACAoR,SAAAJ,EAAAnR,MAAA,KACAuR,cAAA,IAAAA,SAAA,GAAAA,SAAA,GAAApR,OAAA,EACAqR,OAAAC,KAAAC,IAAA,GAAAH,UAEAJ,GAAA3G,IAAA8G,QAAAC,UAAA,GAAAC,OAAAR,GAAAQ,OAAAP,WAAAE,KAAA,CACA7K,EAAAlB,QAAAC,QAAA,UAAA4B,QAAA,YAAAnD,EAAAgB,IAAA,OACAI,EAAAE,QAAAC,QAAA,OAAA4B,QAAA,WAAAX,EAAAxB,IAAA,WACAM,QAAAC,QAAA,UAAA4B,QAAA,YAAAnD,EAAAgB,IAAA,MAAA,cAAAI,EAAAJ,IAAA,YAAA6M,uBAAAR,EACA,MACA/L,QAAAC,QAAA,UAAA4B,QAAA,eAAAnD,EAAAgB,IAAA,MAAA,cAEA,GAKA,IACAlH,EAAA,0BAAA,IAAA,WCzDA,IAAA6M,EAAArF,QAAAC,QAAA,UAwBA,OAtBAuE,WAAArL,OAAAoF,OAAA,CACAiO,eAAA,GAEAjN,WAAA,WACAE,KAAAM,SAAAsF,EAAA,aAAA5F,KAAAgN,eACA,EAEAA,eAAA,SAAA/N,GACA,GAAAA,EAAAgB,IAAA,gBAAA,CACAD,KAAA+M,eAAA9N,EACA,IAAA2D,EAAA3D,EAAAgB,IAAA,gBACAD,KAAAM,SAAAC,QAAAC,QAAA,SAAAoC,GAAA,oBAAA5C,KAAAY,YACA,CACA,EAEAA,YAAA,SAAAqM,GACAjN,KAAA+M,eAAA7M,IAAA,QAAA+M,EAAAhN,IAAA,UAEAD,KAAA+M,eAAAhM,QAAA,WACA,GAIA,IACAhI,EAAA,2BAAA,IAAA,WC1BA,IAAA6M,EAAArF,QAAAC,QAAA,UACAsF,EAAA,mBA+EA,OA7EAf,WAAArL,OAAAoF,OAAA,CAEAgB,WAAA,WACAE,KAAAM,SAAAsF,EAAA,aAAA5F,KAAAkN,iBACAlN,KAAAM,SAAAsF,EAAA,cAAA5F,KAAAmN,aACA,EAEAD,gBAAA,SAAAE,GACAA,EAAAnN,IAAA,kBAEAD,KAAAM,SAAAC,QAAAC,QAAA,QAAA,UAAA,SAAA6M,GACArN,KAAAsN,yBAAAF,EACA,GACA,EAEAE,yBAAA,SAAAF,GAEA,IAAAH,EAAA1M,QAAAC,QAAA,QAAA4M,EAAAnN,IAAA,WAAAmC,QAAA,iBAAAgL,EAAAnN,IAAA,uBAGA,IAAAgN,IAEAA,EAAA/M,IAAA,eAAAkN,EAAAnN,IAAA,OACAD,KAAAM,SAAAC,QAAAC,QAAA,SAAAyM,EAAAhN,IAAA,OAAA,oBAAAD,KAAAY,aACAZ,KAAAM,SAAAC,QAAAC,QAAA,SAAA4M,EAAAnN,IAAA,OAAA,oBAAAD,KAAAY,aACA,EAEAA,YAAA,SAAA3B,GACA,QAAA,IAAAA,EAAAgB,IAAA,gBACA,IAAAmN,EAAAnO,EACAgO,EAAA1M,QAAAC,QAAA,QAAAvB,EAAAgB,IAAA,WAAAmC,QAAA,iBAAAgL,EAAAnN,IAAA,uBAEAgN,EAAAhO,EACAmO,EAAAxH,EAAAxD,QAAA,YAAA6K,EAAAhN,IAAA,iBAEAgN,EAAAhN,IAAA,MAAA,IACAsN,EAAAH,EAAAnN,IAAA,MAEA,GAAA,IAAAmN,EAAAnN,IAAA,UAAAmN,EAAAnN,IAAA,UAAAgN,EAAAhN,IAAA,SACAM,QAAAC,QAAA,UAAA4B,QAAA,eAAAmL,EAAAzH,OACA,CACA,IAAArE,EAAAlB,QAAAC,QAAA,UAAA4B,QAAA,YAAAmL,GACAlN,EAAAE,QAAAC,QAAA,OAAA4B,QAAA,WAAAX,EAAAxB,IAAA,WACAM,QAAAC,QAAA,UAAA4B,QAAA,YAAAmL,EAAAzH,EAAAzF,EAAAJ,IAAA,YAAAuN,qBACA,CACA,EAEAL,aAAA,SAAAzH,EAAAzG,EAAAoH,GAEA,IAAAiE,EAAA3L,OAAA+G,GAAAC,MACA,GAAA1G,EAAAgB,IAAA,iBACA,IAAAmN,EAAAnO,EACAsO,EAAAtO,EAAAgB,IAAA,MAEAwN,EADAlN,QAAAC,QAAA,QAAAvB,EAAAgB,IAAA,WAAAmC,QAAA,iBAAAgL,EAAAnN,IAAA,kBACAA,IAAA,SACAyN,EAAApD,OACA,GAAArL,EAAAgB,IAAA,gBAEAsN,GADAH,EAAA7M,QAAAC,QAAA,UAAA4B,QAAA,YAAAnD,EAAAgB,IAAA,kBACAA,IAAA,MAEAwN,EADAC,EAAAN,EAAAnN,IAAA,SAIA,QAAA,IAAAmN,EACA,GAAA,IAAAM,EACAnN,QAAAC,QAAA,UAAA4B,QAAA,eAAAmL,EAAAzH,QACA,GAAAwE,GAAAmD,EACAlN,QAAAC,QAAA,UAAA4B,QAAA,eAAAmL,EAAAzH,OACA,CACA,IAAArE,EAAAlB,QAAAC,QAAA,UAAA4B,QAAA,YAAAmL,GACAlN,EAAAE,QAAAC,QAAA,OAAA4B,QAAA,WAAAX,EAAAxB,IAAA,WACAM,QAAAC,QAAA,UAAA4B,QAAA,YAAAmL,EAAAzH,EAAAzF,EAAAJ,IAAA,YAAAuN,qBACA,CAEA,GAIA,IACAzU,EAAA,+BAAA,IAAA,WC9DA,OApBAgM,WAAArL,OAAAoF,OAAA,CACAgB,WAAA,WACAS,QAAAC,QAAA,WAAAsB,MAAA,eAAA9B,KAAA2N,YACA,EAEAA,YAAA,SAAA1O,EAAA1C,GACA0C,EAAAgB,IAAA,eACAhB,EAAAiB,IAAA,QAAA3D,GACA0C,EAAAiB,IAAA,aAAA,GAKA+B,EAAAuH,QAAAjN,IACA0C,EAAA8B,QAAA,eAAA9B,GAGA,GAIA,IACAlG,EAAA,2BAAA,CAAA,6BAAA,SAAA6U,GCuEA,OA7FA7I,WAAArL,OAAAoF,OAAA,CACA+O,MAAA,CAAA,EAEA/N,WAAA,WACAE,KAAAM,SAAAC,QAAAC,QAAA,UAAA,aAAAR,KAAA8N,iBACA,EAEAA,iBAAA,SAAArM,GACA,QAAA,IAAAzB,KAAA6N,MAAApM,EAAAxB,IAAA,OACA,OAAA,EAGAD,KAAAM,SAAAC,QAAAC,QAAA,SAAAiB,EAAAxB,IAAA,OAAA,cAAAD,KAAA+N,MAAA/N,MAIAyB,EAAAnB,SAAAC,QAAAC,QAAA,QAAAiB,EAAAxB,IAAA,WAAA,gBAAAD,KAAAiB,aAAAQ,GACAA,EAAAnB,SAAAC,QAAAC,QAAA,QAAAiB,EAAAxB,IAAA,WAAA,gBAAAD,KAAAgO,WAAAvM,GACAA,EAAAnB,SAAAC,QAAAC,QAAA,QAAAiB,EAAAxB,IAAA,WAAA,kBAAAD,KAAAgO,WAAAvM,GACAA,EAAAnB,SAAAC,QAAAC,QAAA,QAAAiB,EAAAxB,IAAA,WAAA,gBAAAD,KAAAiO,YAAAxM,GACAA,EAAAnB,SAAAC,QAAAC,QAAA,QAAAiB,EAAAxB,IAAA,WAAA,iBAAAD,KAAAkO,aAAAzM,GACAA,EAAAnB,SAAAC,QAAAC,QAAA,QAAAiB,EAAAxB,IAAA,WAAA,kBAAAD,KAAAmO,gBAAA1M,GAEAA,EAAAnB,SAAAC,QAAAC,QAAA,UAAA,YAAAR,KAAAkO,aAAAzM,GACAA,EAAAnB,SAAAC,QAAAC,QAAA,UAAA,eAAAR,KAAAiO,YAAAxM,GAEAzB,KAAA6N,MAAApM,EAAAxB,IAAA,QAAA,CACA,EAEA8N,MAAA,SAAArQ,EAAA+D,GACA,IAAApB,EAAAE,QAAAC,QAAA,OAAA4B,QAAA,WAAAX,EAAAxB,IAAA,WACAgC,EAAAK,KAAAjC,EAAAJ,IAAA,gBAAA,GACAM,QAAAC,QAAA,UAAA4B,QAAA,0BAAA1I,OAAA6I,KAAAlC,EAAAJ,IAAA,iBAEAM,QAAAC,QAAA,QAAAiB,EAAAxB,IAAA,WAAAmC,QAAA,SAAA/B,EACA,EAEAY,aAAA,WACAjB,KAAAC,IAAA,cAEAD,KAAAE,IAAA,YAAA,GACAK,QAAAC,QAAA,QAAAR,KAAAC,IAAA,WAAAc,QAAA,kBAAAf,MACA,EAEAkO,aAAA,SAAAzM,QAEA,IAAAA,GAAAA,EAAAxB,IAAA,WAAAD,KAAAC,IAAA,YAEAD,KAAAE,IAAA,YAAA,GACAF,KAAAe,QAAA,YACA,EAEAkN,YAAA,SAAAxM,GAIA,QAAA,IAAAA,GAAAA,EAAAxB,IAAA,WAAAD,KAAAC,IAAA,UACA,OAAA,EAGA,IAAAI,EAAAE,QAAAC,QAAA,OAAA4B,QAAA,WAAApC,KAAAC,IAAA,WACA,GAAAgC,EAAAK,KAAAjC,EAAAJ,IAAA,kBACAD,KAAAE,IAAA,YAAA,GACAF,KAAAe,QAAA,YAEA,EAEAoN,gBAAA,WAEAnO,KAAAE,IAAA,WAAAF,KAAAC,IAAA,UACAD,KAAAE,IAAA,QAAAF,KAAAC,IAAA,qBACAD,KAAAE,IAAA,YAAA,GACAF,KAAAe,QAAA,WACA,EAEAiN,WAAA,SAAAI,QACA,IAAAA,EAAA1J,aACA,IAAA0J,EAAA1J,OAAA2J,OACApM,EAAAK,KAAA8L,EAAA1J,OAAA2J,OAAA,QACA,IAAAD,EAAA1J,OAAA2J,MAAAC,gBAAA,IAAAF,EAAA1J,OAAA2J,MAAAE,gBAKA,IAAAvO,KAAAC,IAAA,aACAD,KAAAE,IAAA,QAAAF,KAAAC,IAAA,aAEAD,KAAAE,IAAA,YAAA,GACAF,KAAAe,QAAA,YACA,GAKA,IACAhI,EAAA,0BAAA,IAAA,WC5DA,OAnCAgM,WAAArL,OAAAoF,OAAA,CACAgB,WAAA,WACAE,KAAAM,SAAAC,QAAAC,QAAA,SAAA,kBAAAR,KAAAwO,YACA,EAEAA,YAAA,SAAAJ,EAAAK,EAAAC,EAAAC,GAEA,QAAA,IAAAP,EAAAQ,MAAA,CAGA,QAAA,IAAAR,EAAAQ,MAAAzJ,KAAA,CACA,IAAA0J,EAAApH,SAAAqH,cAAA,QACA7M,EAAAC,KAAAkM,EAAAQ,MAAAzJ,MAAA,SAAA4J,EAAAnS,GACA,IAAAoS,EAAAvH,SAAAwH,eAAAF,GACAF,EAAAK,YAAAF,GACAH,EAAAK,YACAzH,SAAAqH,cAAA,MAEA,IACAnQ,OAAA,iBAAA8K,KAAAoF,EACA,CAGA,QAAA,IAAAT,EAAAQ,MAAAO,QAAA,CAEAA,QAAAC,IAAA,OADA,GACA,iBACAnN,EAAAC,KAAAkM,EAAAQ,MAAAO,SAAA,SAAAJ,EAAAnS,GACAuS,QAAAC,IAAAL,EACA,IACAI,QAAAC,IAAA,OALA,GAKA,oBACA,CAvBA,CAwBA,GAKA,IAEArW,EAAA,4BAAA,IAAA,WCtCAwH,QAAAC,QAAA,UAgCA,OA/BAuE,WAAArL,OAAAoF,OAAA,CACAgB,WAAA,SAAAb,GACAsB,QAAAC,QAAA,QAAAsB,MAAA,aAAA9B,KAAAqP,cACA,EAEAA,cAAA,SAAAV,GACA,IAAAtO,EAAAE,QAAAC,QAAA,OAAA4B,QAAA,WAAAuM,GACAjK,GAAA,EAoBA,OAlBArE,IAIA,IAAAA,EAAAJ,IAAA,UAAA3E,QACA2G,EAAAC,KAAA7B,EAAAJ,IAAA,UAAA0B,QAAA,SAAA2N,IACA5K,EAAAA,GAAA,CAAA,GACA4K,EAAArP,IAAA,OAAAqP,EAAArP,IAAA,MACA,IAGAgC,EAAAC,KAAA7B,EAAAJ,IAAA,UAAA0B,QAAA,SAAA4N,GACA,UAAAA,EAAAtP,IAAA,SAAAsP,EAAAtP,IAAA,UAAA3E,OAAA,KACAoJ,EAAAA,GAAA,CAAA,GACA6K,EAAAtP,IAAA,OAAAsP,EAAAtP,IAAA,UAEA,KAEAyE,CACA,GAIA,IACA3L,EAAA,+BAAA,IAAA,WC6FA,OA/HAgM,WAAArL,OAAAoF,OAAA,CACAgB,WAAA,WACAE,KAAAM,SAAAC,QAAAC,QAAA,UAAA,aAAAR,KAAAoI,kBACApI,KAAAM,SAAAC,QAAAC,QAAA,UAAA,eAAAR,KAAAoI,kBACApI,KAAAM,SAAAC,QAAAC,QAAA,UAAA,cAAAR,KAAAwP,eAEAxP,KAAAM,SAAAC,QAAAC,QAAA,UAAA,oBAAAR,KAAAqI,mBACArI,KAAAM,SAAAC,QAAAC,QAAA,UAAA,iBAAAR,KAAAqI,kBACA,EAEAmH,cAAA,SAAA9J,EAAAzG,EAAAoH,GACA,GAAA,GAAApH,EAAAgB,IAAA,YACA,OAAA,EAGAhB,EAAAgB,IAAA,UACAD,KAAAoI,iBAAA1C,EAAAzG,EAEA,EAEAmJ,iBAAA,SAAA1C,EAAAzG,GACA,GAAA,GAAAA,EAAAgB,IAAA,cAAAhB,EAAAgB,IAAA,WACA,OAAA,EAGA,IAAAqK,EAAA3L,OAAA+G,GAAAC,MACA8J,EAAAlP,QAAAC,QAAAvB,EAAAgB,IAAA,SAAAmC,QAAA,oBAAAsD,EAAAzG,GACAyQ,GAAA,EAEAC,EAAA3P,KAAA4P,QAAA3Q,GAkBA,GAdA0Q,GAAArF,IAAAqF,IAGA,EAAA1Q,EAAAgB,IAAA,UAAA3E,SAAA2D,EAAAgB,IAAA,YAEAyP,GAAA,GAIAtK,OAAAkF,GAAAuF,SAEAH,GAAA,QAGA,IAAAD,EACA,IAAAK,EAAAL,OAEAK,EAAAJ,EAGA1P,KAAA+P,WAAAD,EAAA7Q,EACA,EAEA2Q,QAAA,SAAA3Q,GACA,IAAA+Q,EAAA/Q,EAAAgB,IAAA,QAEA,QAAA,IAAA+P,EAAA,CAEA,OAAAA,GACA,IAAA,GACA,MACA,IAAA,WACAA,EAAAC,OAAAC,eACA,MACA,IAAA,SACAF,EAAA/Q,EAAAgB,IAAA,eAKA,QAGA+P,GADAA,GADAA,EAAAA,EAAAvU,QAAA,KAAA,MACAA,QAAA,KAAA,MACAA,QAAA,MAAA,KAEA,OAAAuU,CAnBA,CAoBA,EAEA3H,kBAAA,SAAApJ,GAEA,GAAA,GAAAA,EAAAgB,IAAA,cAAAhB,EAAAgB,IAAA,YAAAhB,EAAAgB,IAAA,SACA,OAAA,EAMA,GAAAhB,EAAAgB,IAAA,UAAAA,IAAA,kBACA,OAAA,EAGAqK,aAAArL,EAAAgB,IAAA,SAEA,IAAAyP,GAAA,EAEAtK,OAAAkF,cAAAuF,SACAH,GAAA,GAGA,IAAAD,EAAAlP,QAAAC,QAAAvB,EAAAgB,IAAA,SAAAmC,QAAA,qBAAAnD,GACA,QAAA,IAAAwQ,EACA,IAAAK,EAAAL,OAEAK,EAAAJ,EAGA1P,KAAA+P,WAAAD,EAAA7Q,EAEA,EAEA8Q,WAAA,SAAAD,EAAA7Q,GACA,GAAA6Q,EAQAvP,QAAAC,QAAA,UAAA4B,QAAA,eAAAnD,EAAAgB,IAAA,MAAA,sBARA,CAEA,IAAAI,EAAAE,QAAAC,QAAA,QAAAvB,EAAAgB,IAAA,WAAAmC,QAAA,iBAEA,IAAA/B,GACAE,QAAAC,QAAA,UAAA4B,QAAA,YAAAnD,EAAAgB,IAAA,MAAA,iBAAAI,EAAAJ,IAAA,YAAAkQ,sBAEA,CAGA,GAIA,IAEApX,EAAA,0BAAA,IAAA,WCjEA,OAjEAgM,WAAArL,OAAAoF,OAAA,CACAgB,WAAA,WACAE,KAAAM,SAAAC,QAAAC,QAAA,SAAA,kBAAAR,KAAAoQ,cAEA7P,QAAAC,QAAA,UAAAsB,MAAA,0BAAA9B,KAAAqQ,uBACA,EAEAD,aAAA,SAAAhC,EAAAK,EAAAC,EAAAC,GAGA,GAAA1M,EAAAK,KAAA8L,EAAA1J,OAAA2J,OAAA,QACA,IAAAD,EAAA1J,OAAA2J,MAAAC,gBAAA,IAAAF,EAAA1J,OAAA2J,MAAAE,SAAA,CAEA1E,WAAAyG,UAAAlC,EAAA1J,OAAA2J,MAAAC,UACAzE,WAAA0E,SAAAH,EAAA1J,OAAA2J,MAAAE,SAEA,IAAAlO,EAAAE,QAAAC,QAAA,OAAA4B,QAAA,WAAAuM,GACApO,QAAAC,QAAA,QAAAmO,GAAAvM,QAAA,SAAA/B,EACA,CAoBA,GAjBA4B,EAAAK,KAAA8L,EAAA1J,OAAA6L,QAAA,GACAtO,EAAAC,KAAAkM,EAAA1J,OAAA6L,QAAA,SAAAlG,EAAAnE,GACA,iBAAA,EACA3F,QAAAC,QAAA,UAAA4B,QAAA,YAAA8D,EAAAmE,EAAAmG,KAAAnG,EAAA0E,SAEAxO,QAAAC,QAAA,UAAA4B,QAAA,YAAA8D,EAAA,iBAAAmE,EAEA,IAGApI,EAAAK,KAAA8L,EAAA1J,OAAAS,MAAA,GACAlD,EAAAC,KAAAkM,EAAA1J,OAAAS,MAAA,SAAAX,EAAAsB,GACAvF,QAAAC,QAAA,QAAAmO,GAAAvM,QAAA,eAAA0D,GACAvF,QAAAC,QAAA,QAAAmO,GAAAvM,QAAA,YAAA0D,EAAAtB,EACA,SAGA,IAAA4J,EAAA1J,OAAA+L,WACA,IAAArC,EAAA1J,OAAA+L,KAAA1B,QAAA,CACA,IAAA2B,EAAA,yEACAvB,QAAAC,IAAA,uCAAAsB,GACAvB,QAAAC,IAAAhB,EAAA1J,OAAA+L,KAAA1B,SACAI,QAAAC,IAAA,8BAAAsB,EACA,CASA/R,OAAA,YAAAgQ,EAAA,6BAAAgC,MACA,EAEAN,uBAAA,SAAA3L,GACA,MAAA9B,EAAArC,QAAAC,QAAA,UAAA4B,QAAA,wBAAAsC,GACA,OAAA+C,SAAAmJ,eAAA,YAAAhO,IACA6E,SAAAmJ,eAAA,YAAAhO,GAAAiO,OAEA,GAKA,IAEA9X,EAAA,6BAAA,IAAA,WC/CA,OArBAgM,WAAArL,OAAAoF,OAAA,CACAgB,WAAA,WACAE,KAAAM,SAAAC,QAAAC,QAAA,SAAA,kBAAAR,KAAA8Q,eACA,EAEAA,eAAA,SAAA1C,QAEA,IAAAA,EAAA/D,KAAA0G,WAAA,IAAA3C,EAAA/D,KAAA0G,KAAAC,UAAA,IAAA5C,EAAA/D,KAAA0G,KAAAC,WACAC,OAAAC,SAAA9C,EAAA/D,KAAA0G,KAAAC,UAGA,GAAA/O,EAAAK,KAAA8L,EAAA1J,cAAA,IAAA0J,EAAA/D,KAAA8G,cAEA,IAAA/C,EAAA/D,KAAA8G,QAAAH,UAAA,IAAA5C,EAAA/D,KAAA8G,QAAAH,WACAC,OAAAC,SAAA9C,EAAA/D,KAAA8G,QAAAH,SAGA,GAKA,IACAjY,EAAA,4BAAA,IAAA,WCcA,OArCAgM,WAAArL,OAAAoF,OAAA,CACAgB,WAAA,WACAE,KAAAM,SAAAC,QAAAC,QAAA,SAAA,kBAAAR,KAAAoR,aACA,EAEAA,aAAA,SAAAhD,GACA,GAAA,GAAAnM,EAAAK,KAAA8L,EAAA1J,cAAA,IAAA0J,EAAA/D,KAAA8G,cACA,IAAA/C,EAAA/D,KAAA8G,QAAAE,iBAAA,IAAAjD,EAAA/D,KAAA8G,QAAAE,gBAAA,CACA,IAAAC,EAAAlD,EAAA/D,KAAAiH,QACAD,EAAA1S,OAAA,YAAA2S,EAAA,0BACA,MAAAC,EAAAnD,EAAA/D,KAAA8G,QAAAE,gBAAA5V,QAAA,gBAAA,IACA4V,EAAAnQ,KAAA,WAAA,KACAmQ,EAAAnQ,KAAA,YAAA,aACAmQ,EAAAnQ,KAAA,aAAAqQ,GAEAF,EAAA5H,KAAA2E,EAAA/D,KAAA8G,QAAAE,iBAAAV,OACAU,EAAAR,QAEA,IAAAW,EAAAH,EAAAI,SAAAC,IACAC,EAAAN,EAAAI,SAAAC,IAAAL,EAAAO,cACAC,EAAAlT,OAAAsS,QAAAa,YAAAnT,OAAAsS,QAAAc,SACAC,EAAArT,OAAAsS,QAAAa,YAEAD,EAAAF,GAAAK,EAAAR,GAIA7S,OAAA,cAAAsT,QAAA,CACAH,UAAAT,EAAAI,SAAAC,IAAA,IACA,IAEA,CAEA,GAKA,IAEA3Y,EAAA,0BAAA,IAAA,WCwHA,OAhKAgM,WAAArL,OAAAoF,OAAA,CACAgB,WAAA,WAEAE,KAAAM,SAAAC,QAAAC,QAAA,UAAA,cAAA,SAAAvB,GACA,QAAAA,EAAAgB,IAAA,eAAAD,KAAAgJ,SAAA/J,EACA,GAAAe,MAEAO,QAAAC,QAAA,cAAAsB,MAAA,gBAAA9B,KAAAuI,aAAAvI,MACAO,QAAAC,QAAA,mBAAAsB,MAAA,gBAAA9B,KAAAuI,aAAAvI,KACA,EAEAgJ,SAAA,SAAA/J,GAOA,GANAA,EAAAiB,IAAA,gBAAAF,KAAAiJ,eACAhK,EAAAiB,IAAA,wBAAAF,KAAAkS,uBAKA,GAAAjT,EAAAgB,IAAA,WAAA3E,OAAA,CAEA,IAAAgO,EAAArK,EAAAgB,IAAA,SAKA,GAAA,mBAAAhB,EAAAgB,IAAA,QAIA,IAAAkJ,EAAAlH,EAAAmH,OAAAnK,EAAAgB,IAAA,YAAA,SAAAoJ,GAAA,OAAA,GAAAA,EAAAF,QAAA,IAEA5M,EADA4M,EAAAlH,EAAA7G,IAAA+N,GAAA,SAAAE,GAAA,OAAAA,EAAA9M,KAAA,SAEA,GAAA,cAAA0C,EAAAgB,IAAA,QAAA,CAYA,QAJA,KAJAkJ,EAAAlH,EAAAkF,KAAAlI,EAAAgB,IAAA,YAAA,SAAAoJ,GAAA,OAAA,GAAAA,EAAAF,QAAA,OAKAA,EAAAlH,EAAA6B,MAAA7E,EAAAgB,IAAA,kBAGA,IAAAkJ,QACA,IAAAA,EAAA5M,MACAA,EAAA4M,EAAA5M,WACA,QAAA,IAAA4M,EACA5M,EAAA4M,EAAAS,KAEA,MAMA,IAAAN,GAAA,KAAAA,GACAC,MAAAC,QAAAF,GACArK,EAAAiB,IAAA,QAAAoJ,QACA,IAAAH,GACAlK,EAAAiB,IAAA,QAAA3D,EAEA,CACA,EAEA0M,cAAA,WACA,IAAAQ,EAAA,GA4CA,OA1CAxH,EAAAC,KAAAlC,KAAAI,SAAA,SAAAuJ,GAKA,GAAA1H,EAAAuH,QAAAxJ,KAAAzD,QAGA,GAAA,oBAAAyD,KAAAD,MAAA,EAAAC,KAAAzD,MAAAjB,SACA,GAAA2G,EAAApF,QAAAmD,KAAAzD,MAAA,GAAApB,MAAA,KAAAwO,EAAApN,OACA,IAAA4M,GAAA,OACA,IAAA,GAAAlH,EAAApF,QAAAmD,KAAAzD,MAAAoN,EAAApN,OACA4M,GAAA,OAEA,GAAAlH,EAAAuH,QAAAxJ,KAAAzD,QAAAoN,EAAApN,OAAAyD,KAAAzD,MAEA,GAAA,GAAAoN,EAAAR,UAAAnJ,KAAAN,YACA,IAAAM,KAAAzD,MACA4M,GAAA,OAEAA,GAAA,OALA,IAAAA,GAAA,OAYA,IAAAQ,EAAA/J,UACA+J,EAAA/J,SAAA,GAGA+J,EAAAR,SAAAA,EACAQ,EAAAzD,QAAAlG,KAAApC,GACA+L,EAAArK,QAAAU,KAAAV,QACAqK,EAAAW,aAAAtK,KAAAzD,MACAoN,EAAAC,WAAA,IAAAC,WAAAC,mBAAA,SAAAD,WAAAC,kBAAA7H,EAAA8H,OAAAJ,EAAAC,OAAAD,EAAAC,MAEAD,EAAAO,gBAAAlK,KAAAkK,gBACA,IAAAC,EAAA5J,QAAAC,QAAA,OAAA4B,QAAA,eAAA,oCACAqH,GAAAU,EAAAR,EACA,GAAA3J,MAEAyJ,CACA,EAEAyI,sBAAA,WACA,IAAAC,EAAA,GAEA,mBAAAnS,KAAAD,OAIAoS,GAHAA,GAAA,aAGA,WADAnS,KAAAoS,YAAA,GACA,KAGA,OAAAD,CACA,EAEA5J,aAAA,SAAA9G,GACA,IAAA8I,EAAA,EACAnK,EAAAqB,EAAAxB,IAAA,WACA,GAAA,GAAAG,EAAA9E,OAIA,GAAA,mBAAAmG,EAAAxB,IAAA,QAIAgC,EAAAC,KAAAT,EAAAxB,IAAA,UAAA,SAAA0F,GACA,IAAA6E,EAAAvI,EAAAkF,KAAA/G,GAAA,SAAAiJ,GAAA,OAAAA,EAAA9M,OAAAoJ,CAAA,IACA4E,GAAAE,OAAAD,EAAAE,KACA,QACA,CAIA,IAAAvB,EAAAlH,EAAAkF,KAAA/G,GAAA,SAAAiJ,GAAA,OAAA5H,EAAAxB,IAAA,UAAAoJ,EAAA9M,KAAA,SAIA,IAAA4M,IACAA,EAAA1H,EAAAxB,IAAA,WAAA,IAEAsK,EAAApB,EAAAuB,IACA,CAEA,OAAAH,CACA,GAKA,IAEAxR,EAAA,iCAAA,IAAA,WCjIA,OAlCAgM,WAAArL,OAAAoF,OAAA,CACAgB,WAAA,WACAE,KAAAM,SAAAC,QAAAC,QAAA,SAAA,kBAAAR,KAAAoR,aACA,EAEAA,aAAA,SAAAhD,GACA,IAAA/N,EAAAE,QAAAC,QAAA,OAAA4B,QAAA,WAAAgM,EAAA/D,KAAAiH,SAIA,GAAA,GAAArP,EAAAK,KAAA8L,EAAA1J,QACA,OAAA,EAGA,GAAA0J,EAAA/D,KAAAgI,SAAAC,iBAEAjS,EAAAJ,IAAA,UAAAsS,MAAAlS,EAAAJ,IAAA,iBACA,GAAAmO,EAAA/D,KAAAgI,SAAAG,eACAjS,QAAAC,QAAA,WAAAO,QAAA,UAIA,GAAAqN,EAAA/D,KAAAgI,SAAAG,eAIAnS,EAAAU,QAAA,OAIA,GAKA,IACAhI,EAAA,2BAAA,IAAA,WCmCA,OAvEAgM,WAAArL,OAAAoF,OAAA,CACAgB,WAAA,WACAE,KAAAM,SAAAC,QAAAC,QAAA,WAAA,aAAAR,KAAAgJ,UACAzI,QAAAC,QAAA,WAAAsB,MAAA,gBAAA9B,KAAAuI,aAAAvI,KACA,EAEAgJ,SAAA,SAAA/J,GACAA,EAAAiB,IAAA,wBAAAF,KAAAyS,uBACAxT,EAAAiB,IAAA,gBAAAF,KAAA0S,eACAzT,EAAAiB,IAAA,gBAAAF,KAAAiJ,cACA,EAEAyJ,cAAA,WACA,OAAA1S,KAAA2S,cACA,IAAA,OAEA,OADApS,QAAAC,QAAA,OAAA4B,QAAA,eAAA,yBACA+H,CAAAnK,MAEA,IAAA,SAEA,OADAO,QAAAC,QAAA,OAAA4B,QAAA,eAAA,wBACA+H,CAAAnK,MAGA,IAAA,WAEA,OADAO,QAAAC,QAAA,OAAA4B,QAAA,eAAA,4BACA+H,CAAAnK,MAEA,QAEA,OADAO,QAAAC,QAAA,OAAA4B,QAAA,eAAA,0BACA+H,CAAAnK,MAEA,EAEAyS,sBAAA,WACA,GAAA,GAAAzS,KAAA4S,qBAEA,OADArS,QAAAC,QAAA,OAAA4B,QAAA,eAAA,4BACA+H,CAAAnK,KAEA,EAEAiJ,cAAA,WACA,IAAAmC,EAAApL,KACAyJ,EAAA,GAiBA,OAhBAxH,EAAAC,KAAAlC,KAAAI,SAAA,SAAAuJ,GACA,GAAA,GAAAA,EAAAR,SACA,IAAAA,GAAA,OAEAA,GAAA,EAGAQ,EAAAR,SAAAA,EACAQ,EAAAzD,QAAAkF,EAAAxN,GACA+L,EAAArK,QAAA8L,EAAA9L,QACAqK,EAAAW,aAAAc,EAAA7O,MAEA,IAAA4N,EAAA5J,QAAAC,QAAA,OAAA4B,QAAA,eAAA,oBAAAgJ,EAAAuH,aAAA,WACAlJ,GAAAU,EAAAR,EACA,IAEAF,CACA,EAEAlB,aAAA,SAAA9G,GAKA,OAHAA,EAAAxB,IAAA,iBACAwB,EAAAxB,IAAA,QAGA,GAIA,IAEAlH,EAAA,yBAAA,IAAA,WCoCA,OA9GAgM,WAAArL,OAAAoF,OAAA,CAEA+T,WAAA,CAAA,EAEAC,cAAA,CAAA,EAEAhT,WAAA,WACAE,KAAAM,SAAAC,QAAAC,QAAA,SAAA,aAAAR,KAAAgJ,UACAhJ,KAAAM,SAAAC,QAAAC,QAAA,YAAA,aAAAR,KAAA+S,iBACA,EAEA/J,SAAA,SAAA6J,GACA7S,KAAA6S,WAAAA,EAEA,IAAAlE,EAAAkE,EAAA5S,IAAA,UACAD,KAAAM,SAAAC,QAAAC,QAAA,QAAAmO,GAAA,SAAA3O,KAAAgT,cAEAhT,KAAAM,SAAAC,QAAAC,QAAA,WAAA,oBAAAR,KAAAiT,iBACAjT,KAAAM,SAAAC,QAAAC,QAAA,YAAA,oBAAAR,KAAAkT,iBACA,EAEAH,iBAAA,SAAAI,GACAnT,KAAAoT,aAAAD,EAAAlT,IAAA,gBACA,EAEA+S,aAAA,SAAA3S,GAEA,IAAAgT,EAAAhT,EAAAJ,IAAA,UAAA0B,OAEA2R,EAAA,CAAA,EACAC,EAAA,CAAA,EAEA,IAAA,IAAAtU,KAAAoU,EAAA,CAEA,IAAA9D,EAAA8D,EAAApU,GACAiH,EAAAqJ,EAAAtP,IAAA,MAGA,GAAA,WAAAsP,EAAAtP,IAAA,QACAqT,EAAApN,GAAAqJ,OACA,GAAA,YAAAA,EAAAtP,IAAA,QAAA,CAEAsT,EADAC,EAAAjE,EAAAtP,IAAA,uBACAsP,CACA,CACA,CAEA,IAAA,IAAAiE,KAAAF,EAAA,CAEA,IAAAG,EAAAH,EAAAE,GAEAE,EAAAjJ,OAAAgJ,EAAAxT,IAAA,kBAEAsT,EAAAC,GAEAE,GAAAH,EAAAC,GAAAvT,IAAA,SAEA,GAAAwT,EAAAxT,IAAA,0BAEAyT,GAAAD,EAAAxT,IAAA,UAIAD,KAAA8S,cAAAU,GAAAE,CACA,CAEA1T,KAAA2T,aACA,EAEAV,gBAAA,SAAAhU,GACA,IAAAuU,EAAAvU,EAAAgB,IAAA,MACAyT,EAAAjJ,OAAAxL,EAAAgB,IAAA,kBAEA2T,EADAnJ,OAAAxL,EAAAgB,IAAA,UACAyT,EACA1T,KAAA8S,cAAAU,GAAAI,EAEA5T,KAAA2T,aACA,EAEAT,iBAAA,SAAAjU,GACA,IAAAuU,EAAAvU,EAAAgB,IAAA,sBACA4T,EAAAtT,QAAAC,QAAA,UAAA4B,QAAA,YAAAoR,GACAE,EAAAjJ,OAAAoJ,EAAA5T,IAAA,kBAIA2T,EAFAnJ,OAAAxL,EAAAgB,IAAA,UAEAyT,EAEA1T,KAAA8S,cAAAU,GAAAI,EAEA5T,KAAA2T,aACA,EAEAA,YAAA,WAEA,IAAAC,EAAA,EAEA,IAAA,IAAAH,KAAAzT,KAAA8S,cACAc,GAAAnJ,OAAAzK,KAAA8S,cAAAW,IAGAG,GAAA5T,KAAAoT,eAEAQ,GAAAnJ,OAAAzK,KAAAoT,eAGApT,KAAA6S,WAAA3S,IAAA,QAAA0T,EAAAE,QAAA,IACA9T,KAAA6S,WAAA9R,QAAA,WACA,GAIA,IACAhI,EAAA,4BAAA,IAAA,WC/FA,OAjBAgM,WAAArL,OAAAoF,OAAA,CAEAgB,WAAA,WACAE,KAAAM,SAAAC,QAAAC,QAAA,YAAA,aAAAR,KAAA+T,iBACA,EAEAA,iBAAA,SAAA9U,GACA,IAAAuU,EAAAvU,EAAAgB,IAAA,sBACAwT,EAAAlT,QAAAC,QAAA,UAAA4B,QAAA,YAAAoR,GAEAC,GACAA,EAAAvT,IAAA,uBAAA,EAEA,GAKA,ICdAnH,EAAA,mBAAA,IAAA,WAkCA,OAjCA6F,SAAAC,MAAAC,OAAA,CACAgB,WAAA,WAEAE,KAAAE,IAAA,SAAAF,KAAAG,WAAAC,QAAAC,UAAAJ,IAAA,OAEAD,KAAAE,IAAA,SAAA,CAAA,GAEAK,QAAAC,QAAA,QAAAO,QAAA,aAAAf,MAEAA,KAAA4B,GAAA,eAAA5B,KAAAY,YAAAZ,KACA,EAUAwF,YAAA,SAAA/D,GACAlB,QAAAC,QAAA,QAAAO,QAAA,eAAAf,KAAAyB,EACA,EAEAuS,WAAA,SAAAC,GACA1T,QAAAC,QAAA,QAAAO,QAAA,cAAAf,KAAAiU,EACA,EAEArT,YAAA,WACAL,QAAAC,QAAA,QAAAO,QAAA,eAAAf,KACA,GAIA,IAEAjH,EAAA,wBAAA,CAAA,qBAAA,SAAAmb,GCpBA,OArBAtV,SAAAI,WAAAF,OAAA,CACAG,MAAAiV,EACAxS,WAAA,QAEA5B,WAAA,SAAA6B,EAAAvB,GACAJ,KAAAI,QAAAA,EACA6B,EAAAC,KAAAP,GAAA,SAAA1C,QACA,IAAAA,EAAAkV,MACA,KAAAlV,EAAAkV,IAAAC,WAAAvE,SAAA5Q,EAAAkV,IAAA,GACAlV,EAAAkV,IAAA7I,SAAArM,EAAAkV,KACA,IAIA5T,QAAAC,QAAA,QAAAJ,EAAAC,UAAAJ,IAAA,OAAA6B,MAAA,WAAA9B,KAAAqU,QAAArU,KACA,EAEAqU,QAAA,SAAA/P,GACA,OAAAtE,KAAAuE,UAAA,CAAAlK,KAAAiK,GACA,GAGA,ICpBAvL,EAAA,2BAAA,CAAA,0BAAA,SAAAub,GAigBA,OAhgBAvP,WAAArL,OAAAoF,OAAA,CACAgB,WAAA,WACAE,KAAAuU,MAAA,CAAA,EACAvU,KAAAwU,cAAA,CAAA,EAEAxU,KAAAM,SAAAC,QAAAC,QAAA,QAAA,SAAAR,KAAAyU,eAGAzU,KAAAM,SAAAC,QAAAC,QAAA,UAAA,mBAAAR,KAAA0U,YAMA1U,KAAAM,SAAAC,QAAAC,QAAA,QAAA,eAAAR,KAAAwF,aAGAxF,KAAAM,SAAAC,QAAAC,QAAA,QAAA,cAAAR,KAAAgU,YAMA,IAAA5I,EAAApL,KACAiC,EAAAC,KAAA2H,WAAA8K,eAAAC,cAAA,SAAAC,GACAzJ,EAAA9K,SAAAC,QAAAC,QAAA,UAAAqU,GAAA,aAAAzJ,EAAA0J,iBACA,IAGA9U,KAAAM,SAAAC,QAAAC,QAAA,QAAA,eAAAR,KAAA+U,qBAGA/U,KAAAgV,KAAA,CAAA,CACA,EASAN,WAAA,SAAA7S,QACA,IAAAA,EAAAzB,QAAA,WACAJ,KAAAyU,cAAA5S,EAAAzB,QAAAC,UAEA,EASAoU,cAAA,SAAApU,GACA,IAAA4U,EAAA,IAAAX,EAAAjU,EAAAJ,IAAA,YAAA2U,aAAA,CAAAvU,UAAAA,IACAL,KAAAuU,MAAAlU,EAAAJ,IAAA,OAAAgV,EACA,IAAA7J,EAAApL,KAEAiC,EAAAC,KAAA+S,EAAAtT,QAAA,SAAAuT,GAQA9J,EAAA4J,KAAAE,EAAAjV,IAAA,UAAA,EAEAmL,EAAA+J,UAAAD,EACA,GACA,EAcAC,UAAA,SAAAD,GAEA,IAAA9J,EAAApL,KAEAoV,EAAAF,EAAAjV,IAAA,MAEAoV,EAAAD,EASA7E,GAPA2E,EAAAjV,IAAA,QAOAmV,EAAAE,MAAA,IAAAC,OAAA,oBACAhF,IAQAA,EAAAA,EAAAnV,KAAA,SAAAmU,GAEA,IAAAjL,EAAAiL,EAAA9T,QAAA,SAAA,IAAAA,QAAA,IAAA,IAAAA,QAAA,UAAA,IAKA,GAFAgG,WAAAlB,QAAAC,QAAA,QAAA0U,EAAAjV,IAAA,WAAAmC,QAAA,iBAAAkC,GAEA,oBAAA7C,WAAA,CAEAA,WAAAvB,IAAA,SAAA,GAGAuB,WAAAG,GAAA,eAAAsT,EAAA1P,YAAA0P,GAEA,IAAAvM,EAAAyC,EAAA7C,aAAA9G,YAEA2J,EAAAoK,iBAAAN,EAAA5Q,EAAAqE,GAEA0M,EAAAjK,EAAAqK,WAAA,QAAAnR,EAAAqE,EAAA0M,EAXA,CAYA,KAIA,IAAAd,EAAAa,EAAAE,MAAA,IAAAC,OAAA,kBACAhB,IAQAA,EAAAA,EAAAnZ,KAAA,SAAAsP,GAEA,IAAArQ,EAAAqQ,EAAAjP,QAAA,IAAA,IAAAA,QAAA,SAAA,IAEAwY,EAAAiB,EAAA/U,WAAAoE,UAAA,CAAAlK,KAAAA,IAEA,QAAA,IAAA4Z,EAAA,CAGAA,EAAArS,GAAA,eAAAsT,EAAAlB,WAAAkB,GAEA,IAAAvM,EAAAsL,EAAAhU,IAAA,SAEAoV,EAAAjK,EAAAqK,WAAA,OAAApb,EAAAsO,EAAA0M,EAPA,CAQA,KAOAA,GAFAA,EAAAA,EAAA5Z,QAAA,0BAAA,IAEAA,QAAA,YAAA,IAEA,IACAuE,KAAA4O,MAAA,uBAAAyG,EAAA,OAAArV,KAAA0V,qBAAAL,GAAA,YACA,MAAAM,EAAA,IAAAC,KACAV,EAAAhV,IAAA,QAAAuK,OAAAkL,EAAAE,KAAA7V,KAAA0V,qBAAAL,KAAAvB,QAAAoB,EAAAjV,IAAA,QACA,CAAA,MAAAvC,GAEAyR,QAAAC,IAAA1R,EACA,CAGA,QAAAwX,EAAAjV,IAAA,UAAAiV,EAAAhV,IAAA,QAAA,IAIA,EAWAsV,iBAAA,SAAAN,EAAA5Q,EAAAqE,GACA,IAAA4H,EAAA2E,EAAAjV,IAAA,UACAsQ,EAAAjM,GAAAqE,EACAuM,EAAAhV,IAAA,SAAAqQ,EACA,EAYAhI,aAAA,SAAA9G,GAKA,IAAAlF,EAAAgE,QAAAC,QAAAiB,EAAAxB,IAAA,SAAAmC,QAAA,gBAAAX,GAGAkH,EAAAlH,EAAAxB,IAAA,cACA,IAAA1D,IACAA,GAAA,IAAAA,KAEAoM,EAAApM,GAIA,IAAAuZ,EAAA,IAAAC,EAAA9F,OAAA+F,WAAA/F,OAAAgG,cAAAhG,OAAAiG,eACAC,EAAAL,EAAAM,cAAAzN,GACA0N,EAAAP,EAAAQ,cAAA3N,GAaA,OAVApM,OADA,IAAA4Z,GAAAxX,OAAA4X,UAAAJ,GACAE,EAEA,EAIA5U,EAAAxB,IAAA,aACA1D,EAAA,GAGAA,CACA,EAeAkZ,WAAA,SAAA1V,EAAAuE,EAAAqE,EAAAyM,GACAA,EAAAA,GAAAF,UAAAjV,IAAA,MAEAuW,IAAA,IAAAzW,EAAA,IAAAuE,EAAA,IACA,IAAAmS,EAAA,IAAAlB,OAAAiB,IAAA,KAEAE,QAAA,IAAA3W,EAAA,IAAAuE,EAAA,SACA,IAAAqS,EAAA,IAAApB,OAAAmB,QAAA,KAKA,OAFAtB,GADAA,EAAAA,EAAA3Z,QAAAgb,EAAA9N,IACAlN,QAAAkb,EAAAhO,EAGA,EASAiO,eAAA,SAAA1B,GACA,IAAAE,EAAAF,EAAAjV,IAAA,MACAmL,EAAApL,KACAiC,EAAAC,KAAAgT,EAAAjV,IAAA,WAAA,SAAA1D,EAAA+H,GACA8Q,EAAAhK,EAAAqK,WAAA,QAAAnR,EAAA/H,EAAA6Y,EACA,IAGA,IAAAb,EAAAa,EAAAE,MAAA,IAAAC,OAAA,kBAYA,OAXAhB,GACAtS,EAAAC,KAAAqS,GAAA,SAAA7J,GAEA,IAAArQ,EAAAqQ,EAAAjP,QAAA,IAAA,IAAAA,QAAA,SAAA,IACAwY,EAAAiB,EAAA/U,WAAAoE,UAAA,CAAAlK,KAAAA,IACA,QAAA,IAAA4Z,EAAA,CACA,IAAA4C,EAAA,IAAAtB,OAAA7K,EAAA,KACA0K,EAAAA,EAAA3Z,QAAAob,EAAA5C,EAAAhU,IAAA,SAFA,CAGA,IAGAmV,CACA,EAUA5P,YAAA,SAAA0P,EAAAzT,GAEA,IAAA6C,EAAA7C,EAAAxB,IAAA,OACA1D,EAAAyD,KAAAuI,aAAA9G,GAEAzB,KAAAwV,iBAAAN,EAAA5Q,EAAA/H,GACA,IAAA8Y,EAAArV,KAAA4W,eAAA1B,GAIAG,GADAA,EAAAA,EAAA5Z,QAAA,0BAAA,MACAA,QAAA,YAAA,IACA,IACAuE,KAAA4O,MAAA,uBAAAyG,EAAA,OAAArV,KAAA0V,qBAAAL,GAAA,mBACA,MAAAM,EAAA,IAAAC,KACAV,EAAAhV,IAAA,QAAAuK,OAAAkL,EAAAE,KAAA7V,KAAA0V,qBAAAL,KAAAvB,QAAAoB,EAAAjV,IAAA,QACA,CAAA,MAAAvC,GACAsC,KAAA4O,SAAAO,QAAAC,IAAA1R,EACA,CACA,QAAAwX,EAAAjV,IAAA,UAAAiV,EAAAhV,IAAA,QAAA,IAIA,EAEA4U,iBAAA,SAAArT,GAEA,GAAAA,EAAAxB,IAAA,YAAA,iBAAAwB,EAAAxB,IAAA,WAAA,CAEA,IAAAsU,EAAA9S,EAAAxB,IAAA,WAAAqV,MAAA,IAAAC,OAAA,kBACAhB,GACAtS,EAAAC,KAAAqS,GAAA,SAAAuC,GACAA,EAAAA,EAAArb,QAAA,SAAA,IAAAA,QAAA,IAAA,IAAAA,QAAA,KAAA,IACAuE,KAAAwU,cAAAsC,GAAA9W,KAAAwU,cAAAsC,IAAA,GACA9W,KAAAwU,cAAAsC,GAAA3a,KAAAsF,EACA,GAAAzB,KARA,CAUA,EAEA+U,oBAAA,SAAAG,GACA,IAAA9J,EAAApL,UACA,IAAAA,KAAAwU,cAAAU,EAAAjV,IAAA,UACAgC,EAAAC,KAAAlC,KAAAwU,cAAAU,EAAAjV,IAAA,UAAA,SAAAwB,GAEA,IAAAlF,EAAA,GAmBAwa,GAZAxa,EADA,SAAAkF,EAAAxB,IAAA,QACAwB,EAAAxB,IAAA,SAGAwB,EAAAxB,IAAA,YASAqV,MAAA,IAAAC,OAAA,wCACAtT,EAAAC,KAAA6U,GAAA,SAAAC,GAEA,IAAAC,EAAA,IAAAD,EAAAvb,QAAA,mBACA,IAAAA,QAAA,kBAAA,IAAA,IAEAc,EAAAA,EAAAd,QAAAub,EAAAC,EACA,IACA,IAAA1C,EAAAhY,EAAA+Y,MAAA,IAAAC,OAAA,kBACAtT,EAAAC,KAAAqS,GAAA,SAAA7J,GAGA,IAAArQ,EAAAqQ,EAAAjP,QAAA,IAAA,IAAAA,QAAA,SAAA,IAAAA,QAAA,KAAA,IAWAyZ,EAAA9J,EAAAmJ,MAAA9S,EAAAxB,IAAA,WAAAsE,UAAA,CAAAlK,KAAAA,IACAwc,EAAA,IAAAtB,OAAA7K,EAAA,KACA/B,EAAAuM,EAAAjV,IAAA,cAMA,IAAA,IACA0I,EAAAyC,EAAA8L,sBAAAvO,EAAAuM,IAWA3Y,EADA,SAAAkF,EAAAxB,IAAA,QACA1D,EAAAd,QAAAob,EAAA,wBAAAxc,EAAA,KACAsO,EAAA,WAEAA,CAEA,IAEAlH,EAAAvB,IAAA,QAAA3D,GACA6O,EAAA4J,KAAAE,EAAAjV,IAAA,UAEAwB,EAAAV,QAAA,YAEAqK,EAAA4J,KAAAE,EAAAjV,IAAA,UAAA,CACA,GAEA,EAEAoU,QAAA,SAAAha,EAAAsU,GACA,OAAA3O,KAAAuU,MAAA5F,GAAApK,UAAA,CAAAlK,KAAAA,GACA,EAEA2Z,WAAA,SAAAkB,EAAAjB,GACA,IAAAoB,EAAArV,KAAA4W,eAAA1B,GAGAG,GADAA,EAAAA,EAAA5Z,QAAA,IAAA,IAAAA,QAAA,IAAA,KACAA,QAAA,YAAA,IACA,IACAuE,KAAA4O,MAAA,uBAAAyG,EAAA,OAAArV,KAAA0V,qBAAAL,GAAA,kBACA,MAAAM,EAAA,IAAAC,KACAV,EAAAhV,IAAA,QAAAuK,OAAAkL,EAAAE,KAAA7V,KAAA0V,qBAAAL,KAAAvB,QAAAoB,EAAAjV,IAAA,QACA,CAAA,MAAAvC,GACAyR,QAAAC,IAAA1R,EACA,CACA,QAAAwX,EAAAjV,IAAA,UAAAiV,EAAAhV,IAAA,QAAA,IACA,EASAgX,sBAAA,SAAAC,EAAAjC,GAmBA,OAjBA,IAAAa,EAAA9F,OAAA+F,WAAA/F,OAAAgG,cAAAhG,OAAAiG,eAEAI,cAAAa,EAAAjC,EAAAjV,IAAA,OAgBA,EAEAyV,qBAAA,SAAAN,GACA,IAAAgC,EAAA,GACAC,EAAA,GACAC,EAAA,UACAxB,EAAA,IAAAC,EAAA9F,OAAA+F,WAAA/F,OAAAgG,cAAAhG,OAAAiG,eAuBA,OApBAd,GADAA,EAAAA,EAAA3Z,QAAA,MAAA,KACAA,QAAA,UAAA,KACAN,MAAA,IAEAoc,SAAA,SAAAC,GAEAF,EAAA9b,KAAAgc,GACAH,GAAAG,GAGA,EAAAH,EAAA/b,SACA8b,GAAAtB,EAAAM,cAAAiB,GACAA,EAAA,IAEAD,GAAAI,EAEA,IAEA,EAAAH,EAAA/b,SACA8b,GAAAtB,EAAAM,cAAAiB,IAEAD,CACA,EAEAxI,MAAA,SAAAG,GACAkC,OAAAwG,qBAAAtI,QAAAC,IAAAL,EACA,GAKA,IAEAhW,EAAA,kCAAA,IAAA,WCzcA,OA7DAgM,WAAArL,OAAAoF,OAAA,CAEAgB,WAAA,WACAE,KAAAM,SAAA1B,SAAA8Y,MAAAlX,QAAA,cAAA,OAAAR,KAAA2X,oBACA,EAEAA,oBAAA,SAAAC,EAAAnW,GAkBA,GAZAmW,EAAAC,QAAA,CAAA,EACAD,EAAAC,QAAAC,GAAA,CAAA,EAGAvX,QAAAC,QAAA,WAAAO,QAAA,OAAA6W,EAAAnW,QAGA,IAAAmW,EAAAC,QAAAC,GAAAC,cACAH,EAAA1X,IAAA,UAAA,CAAA0X,EAAAC,QAAAC,GAAAC,oBAIA,IAAAH,EAAAC,QAAAC,GAAAE,WAAA,IAAAJ,EAAAC,QAAAC,GAAAG,SAAA,CAEA,IAAAvR,EAAAkR,EAAAre,OAAAmN,YAEA,IAAAkR,EAAAC,QAAAC,GAAAG,WACAvR,EAAAwR,eAAAN,EAAAC,QAAAC,GAAAG,eAGA,IAAAL,EAAAC,QAAAC,GAAAE,YACA,IAAAJ,EAAAC,QAAAC,GAAAE,KAAAG,WACAzR,EAAAyR,SAAAC,SAAAR,EAAAC,QAAAC,GAAAE,KAAAG,eAGA,IAAAP,EAAAC,QAAAC,GAAAE,KAAAK,gBACA3R,EAAAyR,SAAAG,UAAAV,EAAAC,QAAAC,GAAAE,KAAAK,oBAGA,IAAAT,EAAAC,QAAAC,GAAAE,KAAAO,QACA5Z,OAAA,4CAAAuD,MAAA,WACAlC,KAAAwY,KAAAZ,EAAAC,QAAAC,GAAAE,KAAAO,OAAAvY,KAAAzD,MACA,KAIAqb,EAAA1X,IAAA,SAAAwG,EAEA,CAEAhN,OAAA6I,KAAAqV,EAAAC,QAAAC,IAAAxc,OAAA,IACA6T,QAAAC,IAAA,yDAAA,gCACAD,QAAAC,IAAA,mMAGA,GAKA,IACArW,EAAA,wBAAA,IAAA,WC8NA,OA7RAgM,WAAArL,OAAAoF,OAAA,CAEAgB,WAAA,WACAE,KAAAM,SAAAC,QAAAC,QAAA,QAAA,aAAAR,KAAAyY,WACAzY,KAAAM,SAAAC,QAAAC,QAAA,QAAA,cAAAR,KAAA0Y,eACA,EAEAD,UAAA,SAAAxZ,GACAe,KAAA2Y,kBAAA1Z,EACA,EAEA0Z,kBAAA,SAAA1Z,GACAA,EAAAiB,IAAA,oBAAAF,KAAA4Y,mBACA3Z,EAAAiB,IAAA,sBAAAF,KAAA6Y,qBACA5Z,EAAAiB,IAAA,kBAAAF,KAAA8Y,iBACA7Z,EAAAiB,IAAA,gBAAAF,KAAA4I,eAEA3J,EAAAuC,SAAAxB,KAAAwB,QACA,EAEAoX,kBAAA,WACA,OAAA5Y,KAAA+Y,aACA,EAEAF,oBAAA,WACA,OAAA7Y,KAAAgZ,eACA,EAEAF,gBAAA,WACA,QAAA,IAAA9Y,KAAAiZ,UAAA,GAAAjZ,KAAAiZ,SAIA,MAAA,oHADA,GAAAjZ,KAAAiK,SAAA,gCAAA,gFAEA,EAEAyO,eAAA,SAAAQ,GACAA,EAAAja,MAAAiB,IAAA,KAAAgZ,EAAAxT,IACA,IAAAA,EAAA/G,OAAAua,EAAAxT,IAAAyB,KAAA,eAAA,GAIA,GAHA+R,EAAA5Y,SAAAC,QAAAC,QAAA,QAAA0Y,EAAAja,MAAAgB,IAAA,WAAA,gBAAAD,KAAAiB,aAAAiY,QAGA,IAAAA,EAAAja,MAAAgB,IAAA,cAAA,aAAAiZ,EAAAja,MAAAgB,IAAA,aAEA,OADAtB,OAAA+G,GAAAyT,QACA,EAIA,IAAAC,EAAApZ,KAAAqZ,kBAAAH,EAAAja,MAAAgB,IAAA,gBAEAiZ,EAAAja,MAAAiB,IAAA,cAAAkZ,GAEA,IAAAE,EAAA,CACAC,QAAA,CAAAC,EAAAC,EAAA7B,KACAA,EAAA8B,SAAAC,aAAA,kBAAAhb,OAAA+G,GAAAxE,KAAA,oBACA0W,EAAA8B,SAAAC,aAAA,gBAAA,EAAA,EAEAP,WAAAA,EACAQ,UAAAR,EACAM,UAAA,EACAG,eAAAT,EACAU,KAAA,SACAC,YAAA,EACAC,cAAA,OACAC,QAAAja,KAAAka,WAAAhB,EAAAja,OACAkb,QAAAna,KAAAoa,WAAAlB,EAAAja,QAGA,MAAAob,EAAAra,KAAAsa,oBACAD,IACAf,EAAA5S,OAAA2T,GAIA,IAAAE,EAAAha,QAAAC,QAAA,aAAA4B,QAAA,kBAAAkX,EAAAJ,QACA,IAAAqB,IACAjB,EAAAiB,GAGA,IAAA3C,EAAA4C,UAAA9U,EAAA4T,GAEA,GAAAJ,EAAAja,MAAAgB,IAAA,iBAAAiZ,EAAAja,MAAAgB,IAAA,WACA2X,EAAA6C,YAAA,IAAAxS,KACA2P,EAAA8C,QAAA9C,EAAA6C,aACAvB,EAAAja,MAAAiB,IAAA,QAAA0X,EAAA6C,cAGA,GAAAvB,EAAAja,MAAAgB,IAAA,iBACA,iBAAAiZ,EAAAja,MAAAgB,IAAA,OACAiZ,EAAAja,MAAAgB,IAAA,MAAA0a,SAAA,MACA,iBAAAzB,EAAAja,MAAAgB,IAAA,UACAD,KAAA4a,UAAA1B,EAAAja,MAAAgB,IAAA,SAAA,IAAAgI,QAEA2P,EAAA6C,YAAA,IAAAxS,KACA2P,EAAA8C,QAAA9C,EAAA6C,aAAA,GACAvB,EAAAja,MAAAiB,IAAA,QAAA0X,EAAA6C,cAIAla,QAAAC,QAAA,cAAAO,QAAA,OAAA6W,EAAAsB,EAAAja,MAAAia,GAEA3Y,QAAAC,QAAA,aAAAO,QAAA,OAAA6W,EAAAsB,EAAAja,MAAAia,EACA,EAEAjY,aAAA,SAAAZ,GAEA,GAAA4B,EAAA4Y,SAAA7a,KAAAf,MAAAgB,IAAA,UAAA,CAEA,MAAA6a,EAAA9a,KAAA0F,GAAAgC,cAAA,wBAAAnL,MACAyD,KAAAf,MAAAiB,IAAA,QAAA4a,EACA,CAGA,IAAA,IADA9a,KAAA0F,GAAAqV,QAAAzT,QACAC,OAAA,OACAhH,QAAAC,QAAA,kBAAAO,QAAA,aAEA,cAAAf,KAAAf,MAAAgB,IAAA,cACA,OAIA,GAAA,aAAAD,KAAAf,MAAAgB,IAAA,aACA,OAAA,EAEA,IAAA+a,EAAArc,OAAAqB,KAAA0F,IAAAyB,KAAA,SAAAxB,MACAsV,EAAAtc,OAAAqB,KAAA0F,IAAAyB,KAAA,WAAAxB,MACAuV,EAAAvc,OAAAqB,KAAA0F,IAAAyB,KAAA,SAAAxB,MACAwV,EAAAnb,KAAAf,MAAAgB,IAAA,SACAmb,GAAA,EAGAA,EADAnZ,EAAA4Y,SAAAM,GACAA,EAAAC,KAEAD,EAGA,IAAAL,EAAA,CACAM,KAAAA,EACAJ,KAAAA,EACAC,OAAAA,EACAC,KAAAA,GAGAlb,KAAAf,MAAAiB,IAAA,QAAA4a,EACA,EAEAZ,WAAA,SAAAzY,GACA,IAAAwY,EAAA,KACA,QAAA,IAAAxY,EAAAxB,IAAA,oBAAA,CACA,MAAAob,EAAA5Z,EAAAxB,IAAA,oBACAob,IACApB,EAAAO,UAAAtS,WAAA,IAAAD,KAAA7C,OAAAiW,IAAA5Z,EAAAxB,IAAA,gBAEA,CACA,OAAAga,CACA,EAEAG,WAAA,SAAA3Y,GACA,IAAA0Y,EAAA,KACA,QAAA,IAAA1Y,EAAAxB,IAAA,kBAAA,CACA,MAAAqb,EAAA7Z,EAAAxB,IAAA,kBACAqb,IACAnB,EAAAK,UAAAtS,WAAA,IAAAD,KAAA7C,OAAAkW,IAAA7Z,EAAAxB,IAAA,gBAEA,CACA,OAAAka,CACA,EAEAd,kBAAA,SAAAD,IAEAA,GAAApZ,KAAAf,QACAma,EAAApZ,KAAAf,MAAAgB,IAAA,gBAGAmZ,IACAA,EAAA,WAGA,MAAAmC,EAAA,CACA,aAAA,QACA,aAAA,QACA,aAAA,QACA,aAAA,QACA,aAAA,QACA,aAAA,QACA,aAAA,QACA,aAAA,QACA,aAAA,QACA,oBAAA,WACAC,QAAAvL,OAAAmJ,WAAAnJ,OAAAmJ,WAAA,WAEA,OAAA1f,OAAA6I,KAAAgZ,GAAAZ,SAAAvB,GAAAmC,EAAAnC,GAAAA,CACA,EAEAxQ,cAAA,SAAAtJ,GAIA,MAHA,iBAAAU,KAAAyb,YACAnc,GAAA,kBAEAA,CACA,EAEAgb,kBAAA,WACA,IAAAoB,EAAA,CAAA,EAwBA,OAvBAzL,UACAA,OAAAsI,QAAAtI,OAAA0L,eACAD,EAAAnD,OAAA,CAAA,EACAtI,OAAAsI,SACAmD,EAAAnD,OAAAH,SAAAnI,OAAAsI,QAEAtI,OAAA0L,cACAD,EAAAnD,OAAAD,UAAArI,OAAA0L,eAGA1L,OAAAkI,UAAAlI,OAAAoI,iBACAqD,EAAAvD,SAAA,CAAA,EACAlI,OAAAkI,WACAuD,EAAAvD,SAAAC,SAAAnI,OAAAkI,UAEAlI,OAAAoI,gBACAqD,EAAAvD,SAAAG,UAAArI,OAAAoI,gBAGApI,OAAA2L,cACAF,EAAAxD,eAAAjI,OAAA2L,eAGA3Z,EAAA4Z,QAAAH,IAAAA,CACA,EAIAla,SAAA,WAEA,GAAA,aAAAxB,KAAAC,IAAA,aACA,OAAAD,KAAAC,IAAA,SAEA,IAAAyF,EAAA1F,KAAAC,IAAA,MACA+a,EAAArc,OAAA+G,GAAAyB,KAAA,SAAAxB,MACAsV,EAAAtc,OAAA+G,GAAAyB,KAAA,WAAAxB,MACAuV,EAAAvc,OAAA+G,GAAAyB,KAAA,SAAAxB,MACAwV,EAAAnb,KAAAC,IAAA,SACAmb,GAAA,EAGAA,EADAnZ,EAAA4Y,SAAAM,GACAA,EAAAC,KAEAD,EAGA,IAAA5e,EAAA,GAcA,YAZA,IAAA6e,IACA7e,GAAA6e,QAGA,IAAAJ,QAAA,IAAAC,IACA1e,GAAA,IAAAye,EAAA,IAAAC,QAGA,IAAAC,IACA3e,GAAA,IAAA2e,GAGA3e,CAUA,EAEAqe,UAAA,SAAAkB,EAAAC,GACA,MAAAC,EAAA,IAAA/T,KAAA6T,GACAG,EAAA,IAAAhU,KAAA8T,GAGA,OAFAC,EAAAE,SAAA,EAAA,EAAA,EAAA,GACAD,EAAAC,SAAA,EAAA,EAAA,EAAA,GACAF,EAAAlU,YAAAmU,EAAAnU,SACA,GAKA,IAEA/O,EAAA,6BAAA,IAAA,WClQA,OA9BAgM,WAAArL,OAAAoF,OAAA,CAEAgB,WAAA,WACAE,KAAAM,SAAAC,QAAAC,QAAA,aAAA,aAAAR,KAAAmc,eACAnc,KAAAM,SAAAC,QAAAC,QAAA,SAAA,kBAAAR,KAAAoc,eACA,EAEAD,cAAA,SAAAld,GACAsB,QAAAC,QAAA,aAAAsB,MAAA,kBAAA9B,KAAAqc,eAAArc,KAAAf,EAAArB,GACA,EAEAye,eAAA,SAAAjO,EAAAlI,GACA,IAAAjH,EAAAsB,QAAAC,QAAA,UAAA4B,QAAA,YAAA8D,GACAjH,EAAAiB,IAAA,QAAAkO,GACA7N,QAAAC,QAAA,UAAA4B,QAAA,eAAAnD,EAAAgB,IAAA,MAAA,iBACA,EAEAmc,eAAA,WACA,IAAAE,EAAA,EACA3d,OAAA,gBAAAuD,MAAA,WACA,IACAqa,WAAAhK,MAAA+J,EACA,CAAA,MAAA5e,GACAyR,QAAAC,IAAA,4CACA,CACAkN,GACA,GACA,GAIA,IACAvjB,EAAA,+BAAA,IAAA,WC6CA,OA7EAgM,WAAArL,OAAAoF,OAAA,CAEAgB,WAAA,WACAE,KAAAM,SAAAC,QAAAC,QAAA,gBAAA,aAAAR,KAAAmc,cACA,EAEAA,cAAA,SAAAld,GACA,MAAA0P,EAAA1P,EAAAgB,IAAA,UAEAD,KAAAwc,iBAAA7N,EAAA1P,GAEAwd,YAAAzc,KAAAwc,iBAAA,KAAA7N,EAAA1P,EACA,EAEAud,iBAAA,SAAA7N,EAAA1P,GACA,IACAsB,QAAAC,QAAA,QAAAmO,GAAA5N,QAAA,iBAAA9B,GACAsd,WAAAG,OAAA,WACAH,WAAAI,QAAA1d,EAAAgB,IAAA,YAAA,CACA2c,OAAA,aACAC,MAAA,SAAAC,GACA7d,EAAAiB,IAAA,QAAA4c,GACAvc,QAAAC,QAAA,QAAAmO,GAAA5N,QAAA,gBAAA9B,EACA,GACA,GACA,CAAA,MAAAvB,GAEAiB,OAAA8I,UAAA7F,GAAA,eAAAmb,IAEA,IAGAC,EAHAC,EAAAC,6BAIAje,EAAAkB,WAAAwB,OAAA4V,SAAA9V,IACA,WAAAA,EAAAxB,IAAA,UACA+c,EAAAvb,EAAAxB,IAAA,MACA,IAGAM,QAAAC,QAAA,UAAA4B,QAAA,YAAA4a,EAAA,uBAAA/d,EAAAkB,WAAAC,QAAAC,UAAAJ,IAAA,YAAAkd,yBAGAnd,KAAAod,gCAAAne,EAAAge,EAAAI,SAAAL,EAAAD,EAAA,GAEA,CACA,EAEAK,gCAAA,SAAAne,EAAAoe,EAAAL,EAAAD,GAGA,KADAM,EAAA/hB,QAAA,GAAA+hB,EAAA1C,SAAA,mBAAA0C,EAAA/hB,QAAA,GACA,CACA,IAAAgiB,EAAA7V,SAAAqH,cAAA,OACAwO,EAAA3D,aAAA,KAAA,8BACA2D,EAAAC,WAAAte,EAAAkB,WAAAC,QAAAC,UAAAJ,IAAA,YAAAud,sBASA,IAAAC,EAAA,IAAAC,YAAA,kBAAA,CAAAC,OAPA,CACAN,SAAAA,EACAO,QAAAN,EACAN,cAAAA,EACAD,WAAAA,KAIAtV,SAAAoW,cAAAJ,GAGA,MAAAK,EAAArW,SAAAsW,uBAAA,iCACAxU,MAAA5P,UAAAG,MAAAK,KAAA2jB,GACAvG,SAAAjI,IACAA,EAAA0O,OAAAV,EAAA,GAGA,CACA,GAKA,IACAvkB,EAAA,wBAAA,IAAA,WCaA,OA5FAgM,WAAArL,OAAAoF,OAAA,CAEAmf,WAAA,GACAC,iBAAA,GAEApe,WAAA,WACAE,KAAAM,SAAA1B,SAAA8Y,MAAAlX,QAAA,eAAA,aAAAR,KAAAme,2BACA,EAEAA,2BAAA,SAAA1c,GACAzB,KAAAie,WAAA9hB,KAAAsF,GAEA,IAAAkN,EAAAlN,EAAAxB,IAAA,UAEAD,KAAAM,SAAAC,QAAAC,QAAA,QAAAmO,GAAA,cAAA,SAAAtO,GAEA,IAAA+d,EAAA3c,EAAAxB,IAAA,WAAAqV,MAAA,IAAAC,OAAA,mBACA6I,IAEAnc,EAAAC,KAAAkc,GAAA,SAAAC,GACA,IAAAC,EAAAD,EAAA5iB,QAAA,UAAA,IAAAA,QAAA,IAAA,IACAgG,EAAApB,EAAAJ,IAAA,UAAAsE,UAAA,CAAAD,IAAAga,SACA,IAAA7c,IAEAzB,KAAAke,iBAAA/hB,KAAAsF,GACAzB,KAAAM,SAAAC,QAAAC,QAAA,SAAAiB,EAAAxB,IAAA,OAAA,oBAAAD,KAAAue,sBACA,GAAAve,MAGAA,KAAAue,uBACA,GAAAve,KACA,EAEAue,qBAAA,SAAA9c,GACAQ,EAAAC,KAAAlC,KAAAie,YAAA,SAAAO,GACA,IAAAjiB,EAAAiiB,EAAAve,IAAA,SACAgC,EAAAC,KAAAlC,KAAAke,kBAAA,SAAAzc,GAKA,IAAAsV,EAAAxa,EAAA+Y,MAAA,IAAAC,OAAA,yCACAtT,EAAAC,KAAA6U,GAAA,SAAAC,IAKA,EAAAA,EAAAna,QAAA,mBAAA4E,EAAAxB,IAAA,UACA1D,EAAAA,EAAAd,QAAAub,EAAA,UAAAvV,EAAAxB,IAAA,OAAA,KAEA,IAEA,IAAAoe,EAAA,UAAA5c,EAAAxB,IAAA,OAAA,IAEA,MAAAwe,EAAA,aAAAhd,EAAAxB,IAAA,QAAAD,KAAA0e,oBAAAjd,GAAAA,EAAAD,WAMAjF,EAAAA,EAAAd,QAAA4iB,EAAA,yBACA5c,EAAAxB,IAAA,OAAA,KACAwe,EAAA,UACA,GAAAze,MACAwe,EAAAte,IAAA,QAAA3D,GACAiiB,EAAAzd,QAAA,WACA,GAAAf,KACA,EAEA0e,oBAAA,SAAAjd,GACA,MAAAkd,EAAAjlB,OAAA6I,KAAAd,EAAAD,YACA,IAAAod,EAAA,GAAAC,EAAA,GAgBA,OAdA5c,EAAAC,KAAAyc,GAAA,SAAAzY,GACA,IAAA,IAAA2Y,EAAAhiB,QAAAqJ,GAAA,CACA,MAAAqJ,EAAAhP,QAAAC,QAAA,UAAA4B,QAAA,YAAA8D,GACA,QAAA,IAAAqJ,EAAA,CAEA,IAAA,IADA,CAAA,SAAA,OAAA,SAAA,WAAA,kBAAA,UAAA,KAAA,OAAA,UAAA,SAAA,UAAA,aAAA,gBAAA,uBAAA,qBAAA,mBAAA,gBAAA,YAAA,gBACA1S,QAAA0S,EAAAtP,IAAA,UAAAsP,EAAA/N,WAAA4S,WAAA9Y,OAAA,EAAA,CACA,MAAAsB,EAAA6N,OAAAvE,EAAA/K,MAAA,KAAA2jB,OAAA,EACAF,GAAA,MAAArP,EAAAtP,IAAA,SAAA,IAAArD,EAAA,MAAA2S,EAAA/N,WAAA,OACAqd,EAAA1iB,KAAA+J,EACA,CACA,CACA,CACA,IAEA0Y,CACA,GAKA,IC3FA7lB,EAAA,uBAAA,IAAA,WAkCA,OAjCAgM,WAAArL,OAAAoF,OAAA,CACAgB,WAAA,WACAE,KAAAM,SAAAC,QAAAC,QAAA,QAAA,cAAAR,KAAA+e,cACA/e,KAAAM,SAAAC,QAAAC,QAAA,kBAAA,iBAAAR,KAAA+e,cAEAxe,QAAAC,QAAA,QAAAsB,MAAA,YAAA9B,KAAA+e,aACA,EAEAA,aAAA,SAAA7F,GAEAA,IAAAA,EAAAxT,IAAA,mBAAAwT,EAAAjZ,KAEA,aAAAiZ,EAAAjZ,IAAA,UACAiZ,EAAAxT,GAAA,YAAAwT,EAAAjZ,IAAA,UAAA,SAIAtB,OAAAua,EAAAxT,IAAAyB,KAAA,YAAAjF,MAAA,SAAAwD,GACA,IAAAsZ,EAAArgB,OAAAqB,MAAAgf,KAAA,UAAA,CACAC,MAAA,gBACAC,QAAAvgB,OAAAqB,MAAAqK,KAAA,QACAtJ,QAAA,mBACAoe,mBAAA,EACAC,cAAA,IAGAzgB,OAAAqB,MAAA4B,GAAA,sBAAA,WACAod,EAAAK,OACA,GACA,GACA,GAIA,IAEAtmB,EAAA,2BAAA,IAAA,WCtBA,OAjBAgM,WAAArL,OAAAoF,OAAA,CACAgB,WAAA,WACAS,QAAAC,QAAA,WAAAsB,MAAA,gBAAA9B,KAAAuI,aAAAvI,KACA,EAEAuI,aAAA,SAAA9G,GACA,GAAA,YAAAA,EAAAxB,IAAA,QAAA,CACA,IAAAkF,EAAA5E,QAAAC,QAAA,OAAA4B,QAAA,WAAAX,EAAAxB,IAAA,WACAiQ,OAAA,IAAA/K,EAAAA,EAAAlF,IAAA,kBAAA,GACAqf,EAAA3gB,OAAA,gBAAA8K,KAAAyG,GAAAsI,OACA,OAAA/W,EAAAxB,IAAA,SAAAxE,QAAA6jB,EAAA,GACA,CAEA,OAAA7d,EAAAxB,IAAA,QACA,GAIA,IChBAlH,EAAA,+BAAA,IAAA,WAwOA,OAvOAgM,WAAArL,OAAAoF,OAAA,CACAgB,WAAA,WACAE,KAAAM,SAAAC,QAAAC,QAAA,YAAA,cAAAR,KAAAuf,kBACAvf,KAAAM,SAAAC,QAAAC,QAAA,YAAA,cAAAR,KAAAwf,YAGAxf,KAAAyf,iBAEAzf,KAAA0f,eAAA,CAAA,OAEA,IAAA/gB,OAAAghB,aAEAhhB,OAAAghB,WAAAvf,QAAAwf,MAAA,CACAC,MAAA,uCACAC,YAAA,yCACAC,aAAA,qCACAC,UAAA,uCACAC,WAAA,wCACAC,OAAA,oCACAC,QAAA,qCAEAC,KAAA,kCACAC,MAAA,iCAEAhB,MAAA,8BACAiB,KAAA,kCACAC,OAAA,8CAGAC,OAAA,oCACAC,KAAA,kCACAC,OAAA,oCACAC,MAAA,uCAEAC,MAAA,4BACAC,YAAA,gCAIAC,KAAA,2BACAC,OAAA,sBAIAC,MAAA,mCAGAC,UAAA,uCACAC,KAAA,2BACAC,cAAA,iCAIA,EAEA5B,iBAAA,SAAArG,GACA,GAAA,GAAAA,EAAAja,MAAAgB,IAAA,gBACA,OAAA,EAKA,IAAAmL,EAAApL,KASAohB,EAAA,CACA,CAAA,iBAAA,CAAA,UACA,CAAA,YAAA,CAAA,OAAA,SAAA,YAAA,UACA,CAAA,QAAA,CAAA,KAAA,OACA,CAAA,YAAA,CAAA,cACA,CAAA,cAAA,CAAA,aAAA,WACA,CAAA,QAAA,CAAA,UACA,CAAA,UAAA,CAAA,OAAA,UAGA,GAAAlI,EAAAja,MAAAgB,IAAA,mBAAA,GAAAohB,aAAAC,KACAF,EAAAjlB,KAAA,CAAA,QAAA,CAAA,iBAGAwC,OAAAua,EAAAxT,IAAAyB,KAAA,eAAAwY,WAAA,CACAyB,QAAAA,EACAG,QAAA,CACAC,WAxBA,SAAAC,GACA,OAAArW,EAAAoW,WAAAC,EACA,EAuBAC,YAtBA,SAAAD,GACA,OAAArW,EAAAsW,YAAAD,EACA,GAsBA1P,OAAA,IACA4P,WAAA,CACA1C,MAAA,UACA2C,aAAA,GAEAC,cAAA,EACAC,UAAA,CACAC,SAAA,SAAArkB,GACAwb,EAAAja,MAAAiB,IAAA,QAAAvB,OAAAqB,MAAA2f,WAAA,QACA,KAIA,IAAAqC,EAAArjB,OAAAua,EAAAxT,IAAAyB,KAAA,gBAAA8a,KAAA,kBAAA9a,KAAA,UACA6a,EAAAE,aAAA,WACA,OAAAvjB,OAAA,SAAA,CACAwjB,MAAAxjB,OAAAqjB,GAAA9gB,KAAA,SACAuI,KAAAzJ,KAAAoiB,WAEA,GACA,EAEAZ,WAAA,SAAAC,GACA,IAAArW,EAAApL,KACAqiB,EAAA1jB,OAAAghB,WAAA0C,GACAb,EAAAjhB,QAAAC,QAAA,OAAA4B,QAAA,eAAA,4BACAkgB,EAAA/hB,QAAAC,QAAA,OAAA4B,QAAA,eAAA,8BACA,OAAAigB,EAAAE,YAAA,CACAF,EAAAG,OAAA,CACAC,UAAA,8BACAC,SAAAlB,EAAA,CAAA,GACAmB,QAAA1S,OAAA2S,2BACA7U,MAAA,SAAArQ,GACA0N,EAAAyX,gBAAAnlB,EAAA+jB,EACA,EACApX,KAAA,CACAyY,OAAA,cAGAT,EAAAU,SAAA,CACAV,EAAAE,YAAA,CACAS,SAAA,CACAX,EAAAG,OAAA,CACAE,SAAAJ,EAAA,CAAA,GACAK,QAAA,YAKAM,QACA,EAEAvB,YAAA,SAAAD,GACA,IAAArW,EAAApL,KACAqiB,EAAA1jB,OAAAghB,WAAA0C,GACAX,EAAAnhB,QAAAC,QAAA,OAAA4B,QAAA,eAAA,6BACA,OAAAigB,EAAAG,OAAA,CACAC,UAAA,kBACAC,SAAAhB,EAAA,CAAA,GACAiB,QAAA1S,OAAAiT,4BACAnV,MAAA,SAAArQ,GACA0N,EAAA+X,iBAAAzlB,EAAA+jB,EACA,IACAwB,QACA,EAEAE,iBAAA,SAAAzlB,EAAA+jB,GAGA,GAFAA,EAAAhf,OAAA,oBAEAzC,KAAAyf,iBACAzf,KAAAyf,iBAAA2D,WADA,CAMApjB,KAAAyf,iBAAA4D,GAAAC,MAAAC,OAAA9D,iBAAA4D,GAAAC,MAAA,CACAE,MAAAvT,OAAAwT,4BACAjB,OAAA,CAAAhK,KAAA,YAGA,IAAApN,EAAApL,KAGAA,KAAAyf,iBAAA7d,GAAA,UAAA,WAGA,IAAA8hB,EAAAtY,EAAAqU,iBAAAkE,QAAA1jB,IAAA,aAAA6D,QAAA8f,SACAxY,EAAAyY,YAAAH,EAAAjC,EACA,IAGAzhB,KAAAyf,iBAAA2D,MAnBA,CAoBA,EAEAP,gBAAA,SAAAnlB,EAAA+jB,GACA,IAAAqC,EAAArC,EAAAhf,OAAA,sBACAgf,EAAAhf,OAAA,oBACA,IAAA+V,EAAAsL,EAAA1P,WACApU,KAAA0f,eAAA+B,EAEA9iB,OAAAjB,EAAAsJ,QAAAC,QAAA,uCAAArF,GAAA,oBAAA,SAAAlE,GACA,OAAA,CACA,IAEAiB,OAAAjB,EAAAsJ,QAAAC,QAAA,uCAAArF,GAAA,qBAAA,SAAAlE,GACAiB,OAAAjB,EAAAsJ,QAAA2D,SAAAA,SAAAxD,KAAA,cAAAxB,IAAA6S,GACA7Z,OAAAjB,EAAAsJ,QAAA2D,SAAAA,SAAAxD,KAAA,aAAA0J,OACA,GACA,EAEA2O,WAAA,SAAA9hB,GACA,IAAAqmB,EAAAplB,OAAAjB,EAAAsJ,QAAA2D,SAAAxD,KAAA,cACA6c,EAAArlB,OAAAjB,EAAAsJ,QAAA2D,SAAAxD,KAAA,aACA8c,EAAAtlB,OAAAjB,EAAAsJ,QAAA2D,SAAAxD,KAAA,oBAEA,GADAnH,KAAA0f,eAAAjd,OAAA,uBACA9D,OAAAjB,EAAAsJ,QAAAkd,SAAA,eAAA,CACA,IAAA1L,EAAAuL,EAAApe,MACAwe,EAAAH,EAAAre,MACAye,IAAAH,EAAA/pB,KAAA,WACA,GAAAse,EAAAld,QAAA,GAAA6oB,EAAA7oB,QACA0E,KAAA0f,eAAAjd,OAAA,oBAAA,CAAA+V,KAAAA,EAAA2L,IAAAA,EAAAC,YAAAA,GAEA,CACAL,EAAApe,IAAA,IACAqe,EAAAre,IAAA,IACAse,EAAA/pB,KAAA,WAAA,GACAyE,OAAAjB,EAAAsJ,QAAAC,QAAA,2BAAAwB,YAAA,OACA,EAEAob,YAAA,SAAAP,EAAA7B,GACAA,EAAAhf,OAAA,uBACA,SAAA6gB,EAAAvjB,KACA0hB,EAAAhf,OAAA,qBAAA6gB,EAAAa,KAEA1C,EAAAhf,OAAA,oBAAA,CAAA+V,KAAA8K,EAAAe,SAAAF,IAAAb,EAAAa,KAGA,GAIA,IACAprB,EAAA,8BAAA,IAAA,WCtMA,OAtCAgM,WAAArL,OAAAoF,OAAA,CAEAgB,WAAA,WACAE,KAAAM,SAAAC,QAAAC,QAAA,cAAA,aAAAR,KAAAgJ,UACAhJ,KAAAM,SAAAC,QAAAC,QAAA,cAAA,cAAAR,KAAAskB,WACA,EAEAtb,SAAA,SAAA/J,GACAA,EAAAiB,IAAA,gBAAAF,KAAAukB,cACA,EAEAD,WAAA,SAAApL,GACAva,OAAAua,EAAAxT,IAAAyB,KAAA,eAAAqd,QAEA,EAEAD,cAAA,WAGA,IAFA,IAAA9a,EAAAhC,SAAAqH,cAAA,QAEA/T,EAAA,EAAAA,GAAAiF,KAAAykB,gBAAA,EAAA1pB,IAAA,CACA,IAAAoP,EAAA5J,QAAAC,QAAA,OAAA4B,QAAA,eAAA,kCACAsiB,EAAA3pB,EAAA,EACA2N,EAAA,GAGA1I,KAAAzD,OAAAmoB,IACAhc,EAAA,WAEA,IAAAic,EAAAxa,EAAA,CAAAvM,GAAAoC,KAAApC,GAAA0B,QAAAU,KAAAV,QAAAolB,IAAAA,EAAAhc,QAAAA,EAAAuB,SAAAjK,KAAAiK,WACAR,EAAAyF,YACAzH,SAAAmd,cAAAC,yBAAAF,GAEA,CACA,OAAAlb,EAAA2Y,SACA,GAKA,IAEArpB,EAAA,yBAAA,IAAA,WCAA,OAzCAgM,WAAArL,OAAAoF,OAAA,CACAgB,WAAA,WACAE,KAAAM,SAAAC,QAAAC,QAAA,SAAA,aAAAR,KAAAgJ,SACA,EAEAA,SAAA,SAAA/J,GAEAe,KAAAM,SAAAC,QAAAC,QAAA,SAAAvB,EAAAgB,IAAA,OAAA,cAAAD,KAAAwf,YACAxf,KAAAM,SAAAC,QAAAC,QAAA,SAAAvB,EAAAgB,IAAA,OAAA,cAAAD,KAAA8kB,WACA,EAEAtF,WAAA,SAAA9hB,EAAAuB,GACA,IACA1C,EADAoC,OAAAjB,EAAAqnB,eACApa,SAAAxD,KAAA,gBAAAxB,MACA3F,KAAAglB,UAAA/lB,EAAA1C,EACA,EAEAuoB,WAAA,SAAApf,EAAAzG,EAAAoH,GACA,IAAAA,GACArG,KAAAglB,UAAA/lB,EAAAyG,EAAAC,MACA,EAEAqf,UAAA,SAAA/lB,EAAA1C,GACA,GAAAA,EAAA,CACA,IACA0oB,EAAA,CACArb,MAAArN,EACAA,MAAAA,EACA4M,SAAA,GAJAlK,EAAAgB,IAAA,WAMA9D,KAAA8oB,GAEAhmB,EAAAgB,IAAA,SACA9D,KAAAI,GAGA0C,EAAA8B,QAAA,WAbA,CAcA,GAKA,IClCAhI,EAAA,iCAAA,IAAA,WA8DA,OA7DAgM,WAAArL,OAAAoF,OAAA,CACAgB,WAAA,WAIAE,KAAAklB,YAAA,GACAllB,KAAAmlB,YAAA,GAKA5kB,QAAAC,QAAA,eAAAsB,MAAA,iBAAA9B,KAAAolB,cAAAplB,MACAO,QAAAC,QAAA,eAAAsB,MAAA,iBAAA9B,KAAAqlB,cAAArlB,MAKAO,QAAAC,QAAA,eAAAsB,MAAA,kBAAA9B,KAAAslB,eAAAtlB,MACAO,QAAAC,QAAA,eAAAsB,MAAA,kBAAA9B,KAAAulB,eAAAvlB,MAUAO,QAAAC,QAAA,iBAAAsB,MAAA,iBAAA9B,KAAAolB,cAAAplB,MACAO,QAAAC,QAAA,iBAAAsB,MAAA,iBAAA9B,KAAAqlB,cAAArlB,MAMAO,QAAAC,QAAA,iBAAAsB,MAAA,kBAAA9B,KAAAslB,eAAAtlB,MACAO,QAAAC,QAAA,iBAAAsB,MAAA,kBAAA9B,KAAAulB,eAAAvlB,KAKA,EAEAolB,cAAA,SAAArnB,EAAAynB,GACAxlB,KAAAklB,YAAAM,GAAAznB,CACA,EAEAunB,eAAA,WACA,OAAAtlB,KAAAklB,WACA,EAEAG,cAAA,SAAAtnB,EAAAynB,GACAxlB,KAAAmlB,YAAAK,GAAAznB,CACA,EAEAwnB,eAAA,WACA,OAAAvlB,KAAAmlB,WACA,GAKA,IACApsB,EAAA,kBAAA,IAAA,WC+VA,OAvaAgM,WAAA0gB,SAAA3mB,OAAA,CACA4mB,QAAA,MAEA5lB,WAAA,WACAE,KAAAM,SAAAN,KAAAf,MAAA,WAAAe,KAAAijB,OAAAjjB,MACAA,KAAAM,SAAAN,KAAAf,MAAA,yBAAAe,KAAAoB,gBAAApB,MACAA,KAAAM,SAAAN,KAAAf,MAAA,4BAAAe,KAAAsB,mBAAAtB,MACAA,KAAAM,SAAAN,KAAAf,MAAA,iBAAAe,KAAA2lB,kBAAA3lB,MAEAA,KAAAmK,SAAA,kBAAAnK,KAAAf,MAAAgB,IAAA,gBACA,EAEAzE,KAAA,SAAAyD,GACAkQ,QAAAC,IAAA,wBACA,EAEAhO,gBAAA,WACA,IAAAC,EAAArB,KAAAf,MAAAgB,IAAA,mBACA,IAAAoB,IACA1C,OAAAqB,KAAA0F,IAAA8C,SAAAnH,GACArB,KAAAf,MAAAiB,IAAA,kBAAA,IAEA,EAEAoB,mBAAA,WACA,IAAAD,EAAArB,KAAAf,MAAAgB,IAAA,sBACA,IAAAoB,IACA1C,OAAAqB,KAAA0F,IAAA+C,YAAApH,GACArB,KAAAf,MAAAiB,IAAA,qBAAA,IAEA,EAEAylB,kBAAA,WACA,IAAA9lB,EAAAG,KAAAf,MAAAgB,IAAA,WACAtB,OAAA,iBAAAqB,KAAA0F,IAAAxE,KAAA,eAAA0kB,KAAAC,UAAAhmB,GACA,EAEAimB,SAAA,WASA,GARA9lB,KAAAkM,IAAAlM,KAAAkM,IAAA8W,WACAhjB,KAAAkM,IAAA6Z,SACA/lB,KAAAgmB,WAAAhmB,KAAAkM,UAMA,IAAAlM,KAAAf,MAAAgB,IAAA,SAAA,IAAAmF,OAAApF,KAAAf,MAAAgB,IAAA,SAAA4P,OAAA,CACA,GAAA,UAAA7P,KAAAf,MAAAgB,IAAA,QACA,IAAA+P,EAAAhQ,KAAAf,MAAAgB,IAAA,oBAEA+P,EAAAhQ,KAAAf,MAAAgB,IAAA,QAQA,GALAwK,OAAAwb,UAAAxb,OAAAwb,WAAA,SAAA1pB,GAAA,MAAA,iBAAAA,GAAA2pB,SAAA3pB,IAAAqQ,KAAAuZ,MAAA5pB,KAAAA,CAAA,EACAkO,OAAAwb,UAAAjW,KACAA,EAAAA,EAAAoE,YAGA,YAAApE,EAAA,CACA,IAAA7K,EAAA5E,QAAAC,QAAA,OAAA4B,QAAA,WAAApC,KAAAf,MAAAgB,IAAA,WAEAgW,EAAA9Q,EAAAlF,IAAA,iBAIA,UAAAgW,GAAA,KAAAA,EAAAmQ,WAAA,KACAnQ,EAAA,KAEA,IAAA/F,EAAAvR,OAAA,UAAA8K,KAAAtE,EAAAlF,IAAA,mBAAAuY,OAQA6N,EAAA,CACAC,oBARArQ,EAAAtX,OAAA,UAAA8K,KAAAwM,GAAAuC,OASA+N,iBARA5nB,OAAA,UAAA8K,KAAAtE,EAAAlF,IAAA,kBAAAuY,OASAtI,eAAAA,EACAsW,oBAAA,GAIAC,EAAA9nB,OAAAA,OAAAqB,KAAA0F,IAAAyB,KAAA,eAAA,IACA,IAAAuf,YAAA/nB,OAAAqB,KAAA0F,IAAAyB,KAAA,eAAA,GAAAkf,GAGA,IAAA5E,EAAAzhB,KACAymB,EAAA7kB,GAAA,UAAA,SAAAlE,GACA+jB,EAAAxiB,MAAAiB,IAAA,QAAAxC,EAAAsJ,OAAAzK,MACA,GACA,MACAoC,OAAAqB,KAAA0F,IAAAyB,KAAA,eAAA6I,KAAAA,EAEA,CAEAzP,QAAAC,QAAAR,KAAAf,MAAAgB,IAAA,SAAAc,QAAA,cAAAf,MACAO,QAAAC,QAAA,UAAAO,QAAA,cAAAf,KACA,EAEA2mB,gBAAA,WACA,IAAAvb,EAAApL,KACA,MAAA,CAEA4mB,cAAA,WAEA5mB,KAAAN,QAAAM,KAAAzD,OAAA,IAAAyD,KAAAwb,UAAAxb,KAAAzD,MAAA,KACA,IAAAsqB,EAAA5kB,EAAAkF,KAAAnH,KAAA8mB,mBAAA,SAAAD,GACA,GAAA,EAAAloB,OAAA,kBAAAkoB,GAAAvrB,OACA,OAAA,CAEA,IAGA,OAFAiF,QAAAC,QAAA,OAAA4B,QAAA,eAAA,kBAAAykB,EAEA1c,CAAAnK,KACA,EAEA+mB,YAAA,WAEA,OADAxmB,QAAAC,QAAA,OAAA4B,QAAA,eAAA,uBACA+H,CAAAnK,KACA,EAEAgnB,mBAAA,WACA,IAAA1nB,EAAA,GAIA,YAHA,IAAAU,KAAA6I,qBACAvJ,EAAAU,KAAA6I,mBAAAvJ,IAEAA,CACA,EAEA2nB,kBAAA,WACA,IAAA7nB,EAAAY,KAAAZ,YAMA,YAJA,IAAAY,KAAAknB,oBACA9nB,EAAAY,KAAAknB,kBAAA9nB,IAGA,IAAAgG,OAAAhG,GAAAyQ,OACA,gBAAA5N,EAAA8H,OAAA3K,GAAA,IAEA,EAEA,EAEA+nB,gBAAA,WACA,IAAAC,EAAA,cAAApnB,KAAAD,KAAA,QAgBA,OAZAC,KAAAD,OAAAC,KAAAqnB,aACAD,EAAAA,EAAA,IAAApnB,KAAAqnB,WAAA,cAGA,IAAArnB,KAAAgL,eAAA,EAAA5F,OAAApF,KAAAgL,eAAA6E,OAAAvU,SACA8rB,GAAA,IAAApnB,KAAAgL,cAAA,SAGA,oBAAAsc,kBACAF,EAAAE,gBAAAF,IAGAA,CACA,EAEAG,cAAA,WACA,IAAAjoB,EAAAU,KAAAV,QAoBA,OAlBAU,KAAAsP,MACAhQ,GAAA,YAEAA,EAAAA,EAAA7D,QAAA,WAAA,SAGA,IAAAuE,KAAAqD,eAAA,EAAA+B,OAAApF,KAAAqD,eAAAwM,OAAAvU,SACAgE,GAAA,IAAAU,KAAAqD,oBAOA,IAAArD,KAAA4I,gBACAtJ,EAAAU,KAAA4I,cAAAtJ,IAGAA,CACA,EAEA4K,gBAAA,WACA,YAAA,IAAAL,WAAAC,kBAAAD,WAAAC,kBAAA,OACA,EAEA0d,cAAA,WACA,OAAA,GAAAxnB,KAAAynB,cACA,WAEA,EAEA,EAEAC,cAAA,WACA,OAAA,GAAA1nB,KAAAiK,SACA,gCAEA,EAEA,EAEA0d,yBAAA,WACA,GAAA,GAAA3nB,KAAA4nB,6BACA,MAAA,qBAGA,MAAA,iBADA5nB,KAAA6nB,4BAAA7nB,KAAAD,MACA,GAEA,EAEA8nB,4BAAA,SAAA9nB,GAEA,OAAAA,GACA,IAAA,UACA,MAAA,iBACA,IAAA,WACA,MAAA,gBACA,IAAA,OACA,MAAA,iBACA,IAAA,QACA,MAAA,QACA,IAAA,YACA,MAAA,aACA,IAAA,WACA,MAAA,cACA,IAAA,MACA,MAAA,cACA,IAAA,QACA,MAAA,MACA,QACA,MAAA,KAEA,EAEA+nB,gBAAA,WACA,MAAA,cAAA9nB,KAAA+nB,kBAAA,IAAA3iB,OAAApF,KAAAgoB,aAAAnY,OACA,cAAA7P,KAAAgoB,YAAA,IAEA,EAEA,EAEAC,YAAA,WAGA,YAAA,IAAAjoB,KAAAkoB,UAAAloB,KAAAkoB,UAAA,EACA,EAEAC,gBAAA,WAIA,IAAAC,EAAA3gB,SAAAqH,cAAA,KACAsZ,EAAAhG,UAAApiB,KAAAkoB,UAEA,IAAAG,GAAA,EAOA,IALA,GAAAjjB,OAAAzG,OAAAypB,GAAA5P,QAAA3I,OAAAvU,QACA,EAAAqD,OAAAypB,GAAAjhB,KAAA,OAAA7L,UACA+sB,GAAA,QAGA,IAAAroB,KAAAkoB,WAAAG,EAAA,CAOA,IAAAC,EAAA7gB,SAAAqH,cAAA,QACAwZ,EAAAC,UAAA9jB,IAAA,KAAA,iBAAA,WACA6jB,EAAA3O,aAAA,YAAA3Z,KAAAioB,eACAK,EAAA3O,aAAA,WAAA,KACA2O,EAAA3O,aAAA,mBAAA,oBAAA3Z,KAAApC,IAGA,IAAA4qB,EAAA/gB,SAAAqH,cAAA,QAQA,OAPA0Z,EAAAC,YAAAzoB,KAAAkoB,UAXAzsB,QAAA,kBAAA,IAAAoU,OAYA2Y,EAAA5qB,GAAA,oBAAAoC,KAAApC,GACA4qB,EAAAD,UAAA9jB,IAAA,cACA+jB,EAAA7O,aAAA,OAAA,WAEA2O,EAAApZ,YAAAsZ,GAEAF,EAAAI,SACA,CACA,MAAA,EAEA,EAEAC,eAAA,WACA,QAAA,IAAA3oB,KAAA4oB,UACA,MAAA,GAIA,IAIAC,EAAAC,EAKAC,EAAAC,EATAxQ,EAAA/Q,SAAAqH,cAAA,KAEA,OADA0J,EAAA4J,UAAApiB,KAAA4oB,UACA,GAAAxjB,OAAAoT,EAAA+E,WAAA1N,OAAAvU,OAAA,IAGAwtB,EAAArhB,SAAAwH,eAAAjP,KAAA4oB,YACAC,EAAAphB,SAAAqH,cAAA,MACAI,YAAA4Z,GACA,GAAA1jB,OAAAzG,OAAAkqB,GAAArQ,QAAA3I,OAAAvU,QAEAytB,EAAAthB,SAAAmd,cAAAC,yBAAA7kB,KAAA4oB,YACAI,EAAAvhB,SAAAqH,cAAA,QACAyZ,UAAA9jB,IAAA,wBACAukB,EAAArP,aAAA,cAAA,QACAqP,EAAArP,aAAA,KAAA,kBAAA3Z,KAAApC,IACAorB,EAAA9Z,YAAA6Z,GACAC,EAAAN,WAEA,GAEA,EAEAO,oBAAA,WAEA,OAAAjpB,KAAAN,MAEA,IAAAM,KAAAwb,SAAAxb,KAAAwb,QACAxb,KAAAwb,QAEAxb,KAAAZ,YAIA,GAHAY,KAAAzD,MAOAyD,KAAAzD,KAEA,EAEA2sB,yBAAA,SAAA/R,GAIA,IAKAd,EALAc,EAAA/C,WAAA3Y,QAAA,IAAA,MAIAA,QAAA,wBAAAwU,OAAAgG,eACAxa,QAAA,KAAAwU,OAAAiG,eAIA,OAFA3V,QAAAC,QAAA,OAAA4B,QAAA,WAAAgJ,EAAAnM,MAAAgB,IAAA,WACAA,IAAA,YAAAkpB,gBACA9S,CACA,EAEA+S,gBAAA,WACA,MAAA,aAAAppB,KAAAyb,WAAA,iBAAAzb,KAAAyb,SAIA,EAEA,EAEA4N,OAAA,CACA,qBAAA,cACA,oBAAA,aACA,oBAAA,aACA,eAAA,aACA,gBAAA,cACA,mBAAA,aAGAC,YAAA,SAAA5rB,GACA,IAAAgI,EAAA/G,OAAAjB,EAAAqnB,eACAxkB,QAAAC,QAAA,WAAA4B,QAAA,eAAAsD,EAAA1F,KAAAf,MACA,EAEAsqB,WAAA,SAAA7rB,GACA,IAAAgI,EAAA/G,OAAAjB,EAAAqnB,eACA1e,EAAA3I,EAAA2I,QACA9F,QAAAC,QAAA,SAAAR,KAAAf,MAAAgB,IAAA,OAAAc,QAAA,cAAA2E,EAAA1F,KAAAf,MAAAoH,GACA9F,QAAAC,QAAAR,KAAAf,MAAAgB,IAAA,SAAAc,QAAA,cAAA2E,EAAA1F,KAAAf,MAAAoH,GACA9F,QAAAC,QAAA,UAAAO,QAAA,cAAA2E,EAAA1F,KAAAf,MAAAoH,EACA,EAEAmjB,WAAA,SAAA9rB,GACA,IAAAgI,EAAA/G,OAAAjB,EAAAqnB,eACAxkB,QAAAC,QAAA,SAAAR,KAAAf,MAAAgB,IAAA,OAAAc,QAAA,cAAA2E,EAAA1F,KAAAf,OACAsB,QAAAC,QAAAR,KAAAf,MAAAgB,IAAA,SAAAc,QAAA,cAAA2E,EAAA1F,KAAAf,OACAsB,QAAAC,QAAA,UAAAO,QAAA,cAAA2E,EAAA1F,KAAAf,MACA,EAEAwqB,WAAA,SAAA/rB,GACA6C,QAAAC,QAAA,SAAAR,KAAAf,MAAAgB,IAAA,OAAAc,QAAA,cAAArD,EAAAsC,KAAAf,OACAsB,QAAAC,QAAAR,KAAAf,MAAAgB,IAAA,SAAAc,QAAA,cAAArD,EAAAsC,KAAAf,OACAsB,QAAAC,QAAA,UAAAO,QAAA,cAAArD,EAAAsC,KAAAf,MACA,EAEAyqB,YAAA,SAAAhsB,GACA6C,QAAAC,QAAA,SAAAR,KAAAf,MAAAgB,IAAA,OAAAc,QAAA,eAAArD,EAAAsC,KAAAf,OACAsB,QAAAC,QAAAR,KAAAf,MAAAgB,IAAA,SAAAc,QAAA,eAAArD,EAAAsC,KAAAf,OACAsB,QAAAC,QAAA,UAAAO,QAAA,eAAArD,EAAAsC,KAAAf,MACA,EAEA0qB,UAAA,SAAAjsB,GACA,IAAAgI,EAAA/G,OAAAjB,EAAAqnB,eACAxkB,QAAAC,QAAA,SAAAR,KAAAf,MAAAgB,IAAA,OAAAc,QAAA,aAAA2E,EAAA1F,KAAAf,OACAsB,QAAAC,QAAAR,KAAAf,MAAAgB,IAAA,SAAAc,QAAA,aAAA2E,EAAA1F,KAAAf,OACAsB,QAAAC,QAAA,UAAAO,QAAA,aAAA2E,EAAA1F,KAAAf,MACA,EAEA2qB,SAAA,WACArpB,QAAAC,QAAAR,KAAAf,MAAAgB,IAAA,SAAAc,QAAA,cAAAf,KACA,GAIA,IAEAjH,EAAA,oBAAA,IAAA,WCraA,OALAgM,WAAA0gB,SAAA3mB,OAAA,CACA4mB,QAAA,aACAvb,SAAA,yBAIA,IACApR,EAAA,uBAAA,IAAA,WCIA,OAXAgM,WAAA0gB,SAAA3mB,OAAA,CACA4mB,QAAA,aACAvb,SAAA,uBAEA2b,SAAA,WACA9lB,KAAAkM,IAAAlM,KAAAkM,IAAA8W,WACAhjB,KAAAkM,IAAA6Z,SACA/lB,KAAAgmB,WAAAhmB,KAAAkM,IACA,GAIA,IACAnT,EAAA,6BAAA,CAAA,yBAAA,SAAA8wB,GCWA,OAxBA9kB,WAAA+kB,eAAAhrB,OAAA,CACA4mB,QAAA,YACAqE,UAAAF,EAEA/pB,WAAA,SAAAM,GACAJ,KAAAyB,WAAArB,EAAAqB,UACA,EAEAqkB,SAAA,WACA,GAAA9lB,KAAAyB,WAAAxB,IAAA,UAAA0B,OAAArG,QACA0E,KAAAyB,WAAAH,mBAAA,YACAtB,KAAAyB,WAAAH,mBAAA,WACAtB,KAAAyB,WAAAL,gBAAA,WACApB,KAAAyB,WAAAF,YAAA,KAEAvB,KAAAyB,WAAAH,mBAAA,WACAtB,KAAAyB,WAAAL,gBAAA,WACApB,KAAAyB,WAAAL,gBAAA,YACApB,KAAAyB,WAAAF,YAAA,GAGA,GAIA,IAEAxI,EAAA,mBAAA,IAAA,WCqBA,OAhDAgM,WAAA0gB,SAAA3mB,OAAA,CACA4mB,QAAA,aACAvb,SAAA,6BAEArK,WAAA,WACAE,KAAAM,SAAAC,QAAAC,QAAA,SAAAR,KAAAf,MAAAgB,IAAA,OAAA,cAAAD,KAAAgqB,aACAhqB,KAAAiqB,MAAAjqB,KAAAf,MAAAgB,IAAA,eACAD,KAAAijB,QACA,EAEA+G,YAAA,SAAAtkB,EAAAzG,GACA,IAAA1C,EAAAoC,OAAA+G,GAAAC,MAEAukB,EAAA9kB,OAAA7I,GAAAsT,OAAApU,QADA,QACA,KAAAN,MAAA,KACAgvB,EAAAD,EAAA5uB,OACA8uB,EAAA7tB,EAAAjB,OAOA,GAAA,cAAA0E,KAAAf,MAAAgB,IAAA,qBACA,QAAAD,KAAAf,MAAAgB,IAAA,oBACAtB,OAAA+G,GAAAxE,KAAA,YAAAlB,KAAAf,MAAAgB,IAAA,gBACAD,KAAAiqB,MAAAjqB,KAAAf,MAAAgB,IAAA,eAAAmqB,MACA,CACApqB,KAAAiqB,MAAAjqB,KAAAf,MAAAgB,IAAA,eAAAkqB,EACA,IAAAE,EAAArqB,KAAAf,MAAAgB,IAAA,eACAkqB,EAAAE,GACA1rB,OAAA+G,GAAAC,IAAAukB,EAAApwB,MAAA,EAAAuwB,GAAAxuB,KAAA,KAEA,CAEAmE,KAAAijB,QACA,EAEA0D,gBAAA,WACA,IAAAvb,EAAApL,KACA,MAAA,CACAsqB,aAAA,WACA,OAAAlf,EAAA6e,KACA,EAEA,GAKA,IACAlxB,EAAA,mBAAA,CAAA,6BAAA,qBAAA,SAAAmG,EAAAqrB,GCXA,OAvCAxlB,WAAA0gB,SAAA3mB,OAAA,CACA4mB,QAAA,aACAvb,SAAA,uBAEArK,WAAA,WACAE,KAAAf,MAAA2C,GAAA,gBAAA5B,KAAAwqB,YAAAxqB,KACA,EAEA8lB,SAAA,WAKA,IAAA2E,EAAA9rB,OAAAqB,KAAA0F,IAAAsd,SAAA,kBAUA,GATAhjB,KAAA0qB,oBAAA,IAAAxrB,EAAA,CAAAwG,GAAA+kB,EAAAtqB,WAAAH,KAAAf,MAAAgB,IAAA,UAAAwB,WAAAzB,KAAAf,QACA,EAAAe,KAAAf,MAAAgB,IAAA,UAAA3E,QACA0E,KAAA0qB,oBAAAzH,cAOA,IAAAjjB,KAAAf,MAAAgB,IAAA,gBAAA,IAAAmF,OAAApF,KAAAf,MAAAgB,IAAA,gBAAA4P,OAAA,CACA,IAAA8a,EAAAhsB,OAAAqB,KAAA0F,IAAAsd,SAAA,mBACAhjB,KAAA4qB,eAAA,IAAAL,EAAA,CAAA7kB,GAAAilB,EAAA1rB,MAAAe,KAAAf,QACA0rB,EAAAzpB,KAAA,YAAA,UACAypB,EAAAzpB,KAAA,OAAA,UACAypB,EAAAzpB,KAAA,gBAAA,aACAypB,EAAAzpB,KAAA,eAAA,EACA,CACA,EAEAspB,YAAA,WACAxqB,KAAA0qB,oBAAAzH,QACA,GAKA,IACAlqB,EAAA,iCAAA,CAAA,kBAAA,oBAAA,qBAAA,SAAA8xB,EAAAC,EAAAC,GCcA,OAtDAhmB,WAAAimB,WAAAlsB,OAAA,CACA4mB,QAAA,WAEAuF,QAAA,CACAH,YAAA,mBACAvb,MAAA,YACAwb,WAAA,mBAGAjrB,WAAA,WACAE,KAAAM,SAAAN,KAAAf,MAAA,iBAAAe,KAAAijB,OAAAjjB,KACA,EAEAkrB,YAAA,WACA,OAAAlrB,KAAAf,MAAAgB,IAAA,WACA,wBAEA,gBAEA,EAEA6lB,SAAA,WACA9lB,KAAAf,MAAAgB,IAAA,aACAD,KAAA8qB,YAAAna,KAAA,IAAAma,EAAA,CAAA7rB,MAAAe,KAAAf,SACAe,KAAAuP,MAAAoB,KAAA,IAAAka,EAAA,CAAA5rB,MAAAe,KAAAf,SACAe,KAAA+qB,WAAApa,KAAA,IAAAoa,EAAA,CAAA9rB,MAAAe,KAAAf,SAEA,EAEA0nB,gBAAA,WACA,MAAA,CACAwE,qBAAA,WACA,IAAAC,EAAA,UAAAprB,KAAAX,UAAA,IAgBA,YAdA,IAAAW,KAAAqrB,WACAD,GAAA,QAAAprB,KAAAqrB,SAAA,UAGA,IAAArrB,KAAAsrB,iBAAA,EAAAlmB,OAAApF,KAAAsrB,iBAAAzb,OAAAvU,SACA8vB,GAAAprB,KAAAsrB,gBAAA,KAMAtrB,KAAAD,OAAAC,KAAAqnB,aACA+D,GAAA,IAAAprB,KAAAqnB,WAAA,cAEA+D,CACA,EAEA,GAIA,IAEAryB,EAAA,qCAAA,CAAA,mCAAA,SAAAwyB,GCrDA,OALAxmB,WAAA+kB,eAAAhrB,OAAA,CACA4mB,QAAA,iBACAqE,UAAAwB,GAIA,IACAxyB,EAAA,+BAAA,CAAA,uCAAA,SAAA8I,GCuBA,OA9BAkD,WAAAimB,WAAAlsB,OAAA,CACA4mB,QAAA,WACAvb,SAAA,8BAEA8gB,QAAA,CACA1a,OAAA,yBAGAuV,SAAA,WACA9lB,KAAAuQ,OAAAI,KAAA,IAAA9O,EAAA,CAAA1B,WAAAH,KAAAf,MAAAgB,IAAA,YACA,EAEA0mB,gBAAA,WACA,MAAA,CACAzc,gBAAA,WACA,YAAA,IAAAL,WAAAC,kBAAAD,WAAAC,kBAAA,OACA,EAEA,EAEAuf,OAAA,CACA,4BAAA,aAGAmC,UAAA,WACAjrB,QAAAC,QAAA,kBAAAO,QAAA,kBAAAf,KAAAf,MACA,GAKA,IACAlG,EAAA,mCAAA,CAAA,iCAAA,SAAA0yB,GC3BA,OALA1mB,WAAA+kB,eAAAhrB,OAAA,CACA4mB,QAAA,MACAqE,UAAA0B,GAIA,IACA1yB,EAAA,4BAAA,CAAA,qCAAA,SAAA2yB,GC8DA,OApEA3mB,WAAAimB,WAAAlsB,OAAA,CACA4mB,QAAA,MACAvb,SAAA,0BAEA8gB,QAAA,CACAU,KAAA,0BAGA7rB,WAAA,WAEAE,KAAAG,WAAAH,KAAAf,MAAAgB,IAAA,QAEAD,KAAAM,SAAAC,QAAAC,QAAA,kBAAA,qBAAAR,KAAAijB,OAEA,EAEA6C,SAAA,WACA9lB,KAAA2rB,KAAAhb,KAAA,IAAA+a,EAAA,CAAAvrB,WAAAH,KAAAG,aACA,EAEAwmB,gBAAA,WACA,MAAA,CACAzc,gBAAA,WACA,YAAA,IAAAL,WAAAC,kBAAAD,WAAAC,kBAAA,OACA,EACA6e,eAAA,WACA,QAAA,IAAA3oB,KAAA4oB,UACA,MAAA,GAIA,IAIAC,EAAAC,EAKAC,EAAAC,EATAxQ,EAAA/Q,SAAAqH,cAAA,KAEA,OADA0J,EAAA4J,UAAApiB,KAAA4oB,UACA,GAAAxjB,OAAAoT,EAAA+E,WAAA1N,OAAAvU,OAAA,IAGAwtB,EAAArhB,SAAAwH,eAAAjP,KAAA4oB,YACAC,EAAAphB,SAAAqH,cAAA,MACAI,YAAA4Z,GACA,GAAA1jB,OAAAzG,OAAAkqB,GAAArQ,QAAA3I,OAAAvU,QAEAytB,EAAAthB,SAAAmd,cAAAC,yBAAA7kB,KAAA4oB,YACAI,EAAAvhB,SAAAqH,cAAA,QACAyZ,UAAA9jB,IAAA,wBACAukB,EAAA9Z,YAAA6Z,GACAC,EAAAN,WAEA,GAEA,EAEA,EAEAW,OAAA,CACA,yBAAA,UAGAuC,OAAA,WACArrB,QAAAC,QAAA,kBAAAO,QAAA,eAAAf,KAAAf,MAAArB,GACA,EAEAqD,aAAA,WACAjB,KAAAG,WAAAc,aAAAjB,KAAAf,MAAAgB,IAAA,QACA,GAMA,IACAlH,EAAA,oBAAA,CAAA,kBAAA,oBAAA,mBAAA,8BAAA,SAAA8xB,EAAAC,EAAAC,EAAAc,GCRA,OA9DA9mB,WAAAimB,WAAAlsB,OAAA,CACA4mB,QAAA,WAEAuF,QAAA,CACAH,YAAA,mBACAvb,MAAA,YACAwb,WAAA,mBAGAjrB,WAAA,WACAE,KAAAM,SAAAN,KAAAf,MAAA,iBAAAe,KAAAijB,OAAAjjB,KACA,EAEAkrB,YAAA,WACA,OAAAlrB,KAAAf,MAAAgB,IAAA,WACA,wBAEA,gBAEA,EAEA6lB,SAAA,WACA9lB,KAAAf,MAAAgB,IAAA,aAEA,YAAAD,KAAAf,MAAAgB,IAAA,QACAD,KAAAuP,MAAAoB,KAAA,IAAAkb,EAAA,CAAA5sB,MAAAe,KAAAf,UAEAe,KAAA8qB,YAAAna,KAAA,IAAAma,EAAA,CAAA7rB,MAAAe,KAAAf,SACAe,KAAAuP,MAAAoB,KAAA,IAAAka,EAAA,CAAA5rB,MAAAe,KAAAf,SACAe,KAAA+qB,WAAApa,KAAA,IAAAoa,EAAA,CAAA9rB,MAAAe,KAAAf,UAIA,EAEA0nB,gBAAA,WACA,MAAA,CACAwE,qBAAA,WACA,IAAAC,EAAA,UAAAprB,KAAAX,UAAA,IAiBA,YAfA,IAAAW,KAAAqrB,WACAD,GAAA,QAAAprB,KAAAqrB,SAAA,UAGA,IAAArrB,KAAAsrB,iBAAA,EAAAlmB,OAAApF,KAAAsrB,iBAAAzb,OAAAvU,SACA8vB,GAAAprB,KAAAsrB,gBAAA,KAMAtrB,KAAAD,OAAAC,KAAAqnB,aACA+D,GAAA,IAAAprB,KAAAqnB,WAAA,cAGA+D,CACA,EAEA,GAKA,ICxDAryB,EAAA,wBAAA,CAAA,kBAAA,sBAAA,SAAA+yB,EAAAC,GAmBA,OAlBAhnB,WAAArL,OAAAoF,OAAA,CACAgB,WAAA,WAEAS,QAAAC,QAAA,SAAAsB,MAAA,gBAAA9B,KAAAgsB,cAEAzrB,QAAAC,QAAA,SAAAsB,MAAA,kBAAA9B,KAAAisB,eACA,EAEAD,aAAA,SAAA/sB,GACA,OAAA6sB,CACA,EAEAG,eAAA,WACA,OAAAF,CACA,GAKA,ICvBAhzB,EAAA,yBAAA,IAAA,WA2EA,OA1EAgM,WAAArL,OAAAoF,OAAA,CACAgB,WAAA,WAIAE,KAAAM,SAAAC,QAAAC,QAAA,UAAA,YAAAR,KAAAgE,UACAhE,KAAAM,SAAAC,QAAAC,QAAA,UAAA,eAAAR,KAAAiE,aAKA1D,QAAAC,QAAA,QAAAsB,MAAA,aAAA9B,KAAAqP,cACA,EAEArL,SAAA,SAAAvC,EAAAqE,EAAAomB,GACA,IAAA7rB,EAAAE,QAAAC,QAAA,OAAA4B,QAAA,WAAAX,EAAAxB,IAAA,gBAOA,IAAAI,EAAAJ,IAAA,eAAAwB,EAAAxB,IAAA,SACAI,EAAAJ,IAAA,eAAAwB,EAAAxB,IAAA,OAAA,CAAA,GAGAI,EAAAJ,IAAA,eAAAwB,EAAAxB,IAAA,OAAA6F,GAAAomB,EAKA3rB,QAAAC,QAAA,QAAAiB,EAAAxB,IAAA,WAAAmC,QAAA,YAAA,eAAA/B,EAAAJ,IAAA,YAAAksB,wBACA,EAEAloB,YAAA,SAAAxC,EAAAqE,GACA,IAAAzF,EAAAE,QAAAC,QAAA,OAAA4B,QAAA,WAAAX,EAAAxB,IAAA,WAEAI,EAAAJ,IAAA,eAAAwB,EAAAxB,IAAA,OAAAgC,EAAAmqB,KAAA/rB,EAAAJ,IAAA,eAAAwB,EAAAxB,IAAA,OAAA6F,GAMA,GAAA7D,EAAAK,KAAAjC,EAAAJ,IAAA,eAAAwB,EAAAxB,IAAA,gBACAI,EAAAJ,IAAA,eAAAwB,EAAAxB,IAAA,OAGA,GAAAgC,EAAAK,KAAAjC,EAAAJ,IAAA,iBAEAM,QAAAC,QAAA,QAAAiB,EAAAxB,IAAA,WAAAmC,QAAA,eAAA,eAEA,EAEAiN,cAAA,SAAAV,GACA,IAAAtO,EAAAE,QAAAC,QAAA,OAAA4B,QAAA,WAAAuM,GACAjK,GAAA,EAeA,OAbArE,GAIA,IAAAA,EAAAJ,IAAA,UAAA3E,QACA2G,EAAAC,KAAA7B,EAAAJ,IAAA,UAAA0B,QAAA,SAAA2N,IACA5K,EAAAA,GAAA,CAAA,GACA4K,EAAArP,IAAA,OAAAqP,EAAArP,IAAA,MACA,IAKAyE,CACA,GAIA,IC/EA3L,EAAA,qBAAA,IAAA,WA6JA,OA5JAgM,WAAArL,OAAAoF,OAAA,CACAgB,WAAA,WACAE,KAAAM,SAAAC,QAAAC,QAAA,SAAA,aAAAR,KAAAqsB,sBACA,EASAA,sBAAA,SAAAhsB,GACAE,QAAAC,QAAA,QAAAH,EAAAJ,IAAA,OAAA6B,MAAA,SAAA9B,KAAAssB,OACA,EAeAA,OAAA,SAAAjsB,GAMAE,QAAAC,QAAA,SAAAO,QAAA,gBAAAV,GACAE,QAAAC,QAAA,QAAAH,EAAAJ,IAAA,OAAAc,QAAA,gBAAAV,GAKA,IAAAksB,EAAAhsB,QAAAC,QAAA,SAAA4B,QAAA,iBAAA/B,GAgBA,IAfA,IAAAksB,IAGAtqB,EAAAC,KAAA7B,EAAAJ,IAAA,UAAA0B,QAAA,SAAAF,GACAA,EAAAvB,IAAA,SAAA,EACA,IAMAG,EAAAJ,IAAA,mBAAA+B,kBAIA,GADAzB,QAAAC,QAAA,QAAAH,EAAAJ,IAAA,OAAAmC,QAAA,eAAA/B,GAIA,OAFAE,QAAAC,QAAA,SAAAO,QAAA,gBAAAV,QACAE,QAAAC,QAAA,QAAAH,EAAAJ,IAAA,OAAAc,QAAA,gBAAAV,GAIA,IAAA,IAAAksB,EAAA,CAGA,IAAAC,EAAAvqB,EAAAmH,OAAA/I,EAAAJ,IAAA,UAAA0B,QAAA,SAAA2N,GAGA,MAAA,iBAAAA,EAAArP,IAAA,OAAA,kBAAAqP,EAAArP,IAAA,KAGA,IAMA,GAAA,GAAAgC,EAAAK,KAAAkqB,GAGA,OAFAjsB,QAAAC,QAAA,SAAAO,QAAA,gBAAAV,GACAE,QAAAC,QAAA,QAAAH,EAAAJ,IAAA,OAAAc,QAAA,gBAAAV,IACA,CAEA,CAMAE,QAAAC,QAAA,SAAAO,QAAA,yBAAAV,GACAE,QAAAC,QAAA,QAAAH,EAAAJ,IAAA,OAAAc,QAAA,yBAAAV,GAMA,IAAAsO,EAAAtO,EAAAJ,IAAA,MACAsQ,EAAA,CAAA,EACAtO,EAAAC,KAAA7B,EAAAJ,IAAA,UAAA0B,QAAA,SAAA4N,GACA,IAAAkd,EAAA,CAAAlwB,MAAAgT,EAAAtP,IAAA,SAAArC,GAAA2R,EAAAtP,IAAA,OAGAsQ,EAAAhB,EAAAtP,IAAA,OAAAM,QAAAC,QAAA+O,EAAAtP,IAAA,SAAAmC,QAAA,iBAAAqqB,EAAAld,IAAAkd,CACA,IACA,IAAAjpB,EAAAnD,EAAAJ,IAAA,SACAoS,EAAAhS,EAAAJ,IAAA,mBACAoS,EAAA3O,gBACA,IAAAgpB,EAAA9G,KAAAC,UAAA,CAAAjoB,GAAA+Q,EAAA4B,OAAAA,EAAA8B,SAAAA,EAAA7O,MAAAA,IACA6G,EAAA,CACAuS,OAAA,iBACA+P,SAAA9iB,WAAAyG,UACA/B,SAAA1E,WAAA0E,SACAme,SAAAA,GAKA/tB,OAAAiuB,KAAA,CACAzI,IAAAta,WAAAgjB,UACA9sB,KAAA,OACAsK,KAAAA,EACAyiB,OAAA,EACAC,QAAA,SAAA1iB,EAAAoE,EAAAC,GACA,IACA,IAAAN,EAAA/D,EACA9J,QAAAC,QAAA,SAAAO,QAAA,kBAAAqN,EAAAK,EAAAC,EAAArO,EAAAJ,IAAA,OACAM,QAAAC,QAAA,QAAAH,EAAAJ,IAAA,OAAAc,QAAA,kBAAAqN,EAAAK,EAAAC,GACA/P,OAAA8I,UAAA1G,QAAA,uBAAA,CAAAqN,SAAAA,EAAAxQ,GAAAyC,EAAAJ,IAAA,OACA,CAAA,MAAAvC,GACAyR,QAAAC,IAAA1R,GACAyR,QAAAC,IAAA,eACAD,QAAAC,IAAA1R,EACA,CAEA,EACA4R,MAAA,SAAAZ,EAAAD,EAAAue,GAEA7d,QAAAC,IAAA,WAAA4d,GACA7d,QAAAC,IAAAV,GAEA,IACA,IAAAN,EAAAzP,OAAAsuB,UAAAve,EAAAwe,cACA3sB,QAAAC,QAAA,SAAAO,QAAA,kBAAAqN,EAAAK,EAAAC,EAAArO,EAAAJ,IAAA,OACAM,QAAAC,QAAA,QAAAH,EAAAJ,IAAA,OAAAc,QAAA,kBAAAqN,EAAAK,EAAAC,EACA,CAAA,MAAAhR,GACAyR,QAAAC,IAAA,gBAAAV,EAAAwe,cACA3sB,QAAAC,QAAA,QAAAH,EAAAJ,IAAA,OAAAmC,QAAA,YAAA,uBAAA4qB,EACA,CAEA,GAGA,GAKA,IAEAj0B,EAAA,wBAAA,CAAA,sBAAA,SAAAwyB,GC5JA,OANAxmB,WAAA+kB,eAAAhrB,OAAA,CACA4mB,QAAA,iBACAqE,UAAAwB,GAKA,ICAAxyB,EAAA,6BAAA,CAAA,wBAAA,2BAAA,SAAAo0B,EAAArqB,GAuDA,OAtDAiC,WAAArL,OAAAoF,OAAA,CACAgB,WAAA,WACAE,KAAAM,SAAAC,QAAAC,QAAA,QAAA,oBAAAR,KAAAotB,0BACA,EAEAA,0BAAA,SAAA/sB,GAIAE,QAAAC,QAAA,eAAA4B,QAAA,iBAAApC,KAAAqtB,uBAAA,GAAArtB,MAIAO,QAAAC,QAAA,eAAA4B,QAAA,iBAAApC,KAAAstB,uBAAA,GAAAttB,KACA,EAEAqtB,uBAAA,SAAA3pB,EAAArD,EAAAohB,GACA,IAAA5f,EAAAxB,EAAAJ,IAAA,UAIA0D,EAAApD,QAAAC,QAAA,eAAA4B,QAAA,mBAEA,GAAA,GADAH,EAAA4B,QAAAF,OAAAtF,GACA/C,aAAA,IAAAoI,IAAA,GAAAA,aAAA9E,SAAAI,WAAA,OAAAqB,EAAAJ,IAAA,UAEA,IAAAoT,EAAApR,EAAA7G,IAAAsI,GAAA,SAAAY,GACA,OAAAjE,EAAAJ,IAAA,UAAAsE,UAAA,CAAAD,IAAAA,GACA,GAAAtE,MAEAutB,EAAA,IAAAzqB,EAAAuQ,GAgBA,OAdAxR,EAAAD,GAAA,SAAA,SAAAzB,GACA,IAAAqtB,EAAA,GACAD,EAAArrB,MAAA,SAAAT,GACA,UAAAA,EAAAxB,IAAA,QACAutB,EAAArxB,KAAAgE,EAAAoE,UAAA,CAAAD,IAAA7C,EAAAxB,IAAA,UAEAutB,EAAArxB,KAAAsF,EAEA,IAEA8rB,EAAAntB,QAAA,CAAAC,UAAAA,GACAktB,EAAAhb,MAAAib,EACA,IAEAD,CACA,EAEAD,uBAAA,WACA,OAAAH,CACA,GAKA,IC5DAp0B,EAAA,+BAAA,IAAA,WAyBA,OAxBAgM,WAAArL,OAAAoF,OAAA,CAEAgB,WAAA,WAMAE,KAAAM,SAAAC,QAAAC,QAAA,UAAA,oBAAAR,KAAAiE,aACAjE,KAAAM,SAAAC,QAAAC,QAAA,UAAA,cAAAR,KAAAiE,aACAjE,KAAAM,SAAAC,QAAAC,QAAA,UAAA,aAAAR,KAAAiE,YAEA,EAEAA,YAAA,SAAAyB,EAAAzG,GACAA,EAAAA,GAAAyG,EAIAnF,QAAAC,QAAA,UAAA4B,QAAA,eAAAnD,EAAAgB,IAAA,MAAA,eACA,GAKA,IACA,IAAAwtB,EAAA,GC9BA10B,EAAA,+BAAA,IAAA,WA4JA,OA3JA6F,SAAAC,MAAAC,OAAA,CAEAgB,WAAA,SAAAK,EAAAC,GAEAJ,KAAAqC,mBAAAjC,EAAAiC,mBAEArC,KAAAE,IAAA,QAAAF,KAAAqC,mBAAApC,IAAA,UAEAE,GAAAC,GACAJ,KAAA0tB,4BAAAvtB,EAAAC,GAGAG,QAAAC,QAAA,kBAAAsB,MAAA,qBAAA9B,KAAA2tB,kBAAA3tB,MACAO,QAAAC,QAAA,kBAAAsB,MAAA,wBAAA9B,KAAA4tB,qBAAA5tB,MACAO,QAAAC,QAAA,kBAAAsB,MAAA,qBAAA9B,KAAA6tB,2BAAA7tB,MACAO,QAAAC,QAAA,kBAAAsB,MAAA,8BAAA9B,KAAA8tB,sBAAA9tB,MACAO,QAAAC,QAAA,kBAAAsB,MAAA,sCAAA9B,KAAA+tB,8BAAA/tB,MACAA,KAAAM,SAAAC,QAAAC,QAAA,kBAAA,qBAAAR,KAAAguB,4BACAhuB,KAAAM,SAAAC,QAAAC,QAAA,kBAAA,YAAAR,KAAAiuB,sBACA,EAEAD,2BAAA,WACAhuB,KAAAE,IAAA,0BAAAutB,GACAztB,KAAAkuB,4BAAAT,CACA,EAEAC,4BAAA,SAAAvtB,EAAAC,GACA,MAAAuO,EAAAvO,EAAAiC,mBAAApC,IAAA,UACAkuB,EAAA/tB,EAAAiC,mBAAApC,IAAA,MACAmuB,EAAAjuB,EAAAoQ,OAAA5O,OAEA,IAAA0sB,EAAAZ,EAAAtmB,MAAAlI,GAAAA,EAAArB,KAAAuwB,GAAAlvB,EAAAkG,OAAAwJ,IAEA0f,EACAA,EAAA9d,OAAA8d,EAAA9d,OAAA5U,OAAAyyB,GAEAX,EAAAtxB,KAAA,CACAgJ,KAAAwJ,EACA/Q,GAAAuwB,EACA5d,OAAA6d,IAIApuB,KAAAguB,4BACA,EAEAH,2BAAA,WACA,OAAAJ,CACA,EAEAK,sBAAA,SAAAnf,GACA,MACA2f,EADAtuB,KAAA6tB,6BACAzkB,QAAAnK,GAAAA,EAAAkG,OAAAwJ,IAEA,OAAA2f,CACA,EAEAP,8BAAA,SAAApf,GACA,MAAA2f,EAAAtuB,KAAA8tB,sBAAAnf,GACA,IAAA4f,EAAA,GAKA,OAJAD,EAAAlzB,KAAA6D,IACAsvB,EAAAA,EAAA5yB,OAAAsD,EAAAsR,OAAA,IAGAge,CACA,EAEAZ,kBAAA,SAAAQ,GACA,MAAAK,EAAAxuB,KAAA6tB,6BACA,IAAAtd,EAAAie,EAAArnB,MAAAlI,GAAAmG,OAAAnG,EAAArB,MAAAwH,OAAA+oB,KAKA,YAJA,IAAA5d,IACAA,EAAAvQ,KAAAyuB,6BAAAN,EAAAK,IAGAje,CACA,EAEAke,6BAAA,SAAAN,EAAAK,GACA,IAAAje,EASA,OARAtO,EAAAC,KAAAssB,GAAA,SAAAE,GACAzsB,EAAAC,KAAAwsB,EAAAne,QAAA,SAAA9O,GACA2D,OAAA3D,EAAA7D,IAAA+wB,WAAAR,KACA5d,EAAAme,EAEA,GACA,IAEAne,CACA,EAEAqd,qBAAA,SAAAhwB,GACA,MAAAuwB,EAAA/oB,OAAAxH,GAAAzC,MAAA,KAAA,GACAyzB,EAAA5uB,KAAA2tB,kBAAAQ,GAEA,QAAA,IAAAS,EAAA,OAIA,OAFAA,EAAAre,OAAApJ,MAAAoI,GAAAA,EAAA3R,KAAAA,GAGA,EAEAqwB,sBAAA,WACA,MAAAY,EAAA7uB,KAAA6tB,6BACAgB,EAAAvzB,OAAA,GAEA2G,EAAAC,KAAA2sB,GAAA,SAAAC,GACA,IAAAve,EAAAue,EAAAve,OACAlO,EAAA9B,QAAAC,QAAA,UAAA4B,QAAA,YAAA0sB,EAAAlxB,IAEA,GAAA2S,EAAAjV,OAAA,EAAA,CACA,IAAAyzB,EAAA,CAAA,EAEA9sB,EAAAC,KAAAqO,GAAA,SAAAhB,GAEA,IAAAhT,EAAAgT,EAAAtP,IAAA,SACArC,EAAA2R,EAAAtP,IAAA,MAEA,GAAArC,EAAAzC,MAAA,KAAAG,OAAA,EAAA,CACA,IAAA0zB,EAAApxB,EAAAzC,MAAA,KACA6zB,EAAA,GAAAA,EAAA,GAAA7zB,MAAA,KAAA,GACA,IAAA8zB,EAAAD,EAAA,GAAA,IAAAA,EAAA,GAAA,IAAAA,EAAA,UACAD,EAAAnxB,GACAA,EAAAqxB,CACA,CAEAF,EAAAnxB,GAAA,CACArB,MAAAA,EACAqB,GAAAA,GAIA,SAAA2R,EAAAtP,IAAA,SAAA,iBAAA1D,GAAA,kBAAAgT,EAAAtP,IAAA,cAAA,cAAAsP,EAAAtP,IAAA,eACA8uB,EAAAnxB,GAAArB,MAAA,CACA6e,KAAA7e,EACAye,KAAAzL,EAAApO,WAAA+F,cACA+T,OAAA1L,EAAApO,WAAAiG,gBACA8T,KAAA3L,EAAApO,WAAAkG,gBAIA,gBAAAkI,EAAAtP,IAAA,SAAAsP,EAAAtP,IAAA,WACA8uB,EAAAnxB,GAAAsxB,MAAA3f,EAAApO,WAAA+tB,MAEA,IAEA7sB,EAAAnC,IAAA,aAAA,GAEAK,QAAAC,QAAA,WAAA4B,QAAA,eAAAC,EAAA0sB,EACA,CACA,GAEA,GAKA,IAEAh2B,EAAA,oCAAA,CAAA,+BAAA,2BAAA,SAAAo2B,EAAAttB,GCvBA,OAxIAjD,SAAAI,WAAAF,OAAA,CACAG,MAAAkwB,EAEArvB,WAAA,SAAA6B,EAAAvB,GACAJ,KAAAI,QAAAA,EAEAJ,KAAAM,SAAAC,QAAAC,QAAA,kBAAA,iBAAAR,KAAAovB,SACApvB,KAAAM,SAAAC,QAAAC,QAAA,kBAAA,kBAAAR,KAAAwrB,WACAxrB,KAAAM,SAAAC,QAAAC,QAAA,kBAAA,eAAAR,KAAA4rB,QACArrB,QAAAC,QAAA,kBAAAsB,MAAA,gBAAA9B,KAAAqvB,aAAArvB,KAEA,EAEA4rB,OAAA,SAAA0D,GAAA,GACA,IAAAR,EACA,GAAAQ,EAAA,CAEA,MAAAjtB,EAAArC,KAAAI,QAAAiC,mBAAAzE,KAAA0xB,GAAAtvB,KAAAI,QAAAiC,mBAEA,GADAysB,EAAAzsB,EACAA,EAAA,CAEA,IAAAkO,EAAA,IAAA1O,EAAA7B,KAAAI,QAAAmvB,eAAA,CAAAlvB,UAAAL,KAAAI,QAAAC,UAAAgC,mBAAAA,IAEArC,KAAAyE,IAAA,CAAA8L,OAAAA,GAAA,CAAAlO,mBAAAA,GACA,CACA,CAEArC,KAAAovB,UACA7uB,QAAAC,QAAA,kBAAAO,QAAA,iBAAA+tB,EACA,EAEAtD,UAAA,SAAAgE,GAEAxvB,KAAAyvB,2BAAAD,GAGA,MAAA7gB,EAAA6gB,EAAAntB,mBAAApC,IAAA,UACAkuB,EAAAqB,EAAAntB,mBAAApC,IAAA,MACAyvB,EAAAjC,EAAAtmB,MAAAwoB,GAAAA,EAAA/xB,KAAAuwB,GAAAwB,EAAAxqB,OAAAwJ,IACA,GAAA+gB,EAAA,CACA,IAAA/qB,EAAA,GACA1C,EAAAC,KAAAwtB,EAAAnf,QAAA,CAAAhB,EAAA3S,UACA,IAAA2S,GACAtN,EAAAC,KAAAstB,EAAAvvB,IAAA,UAAA0B,QAAAiuB,IACA,MAAA1pB,OAAA,IAAAqJ,EAAA3R,GAAA2R,EAAA3R,GAAA2R,EAAAtP,IAAA,MACA2vB,EAAAhyB,KAAAsI,WAEAspB,EAAAntB,mBAAApC,IAAA,SAAA2vB,EAAAhyB,IACA+G,EAAAxI,KAAA+J,GACA,GAEA,IAEAwpB,EAAAnf,OAAAtO,EAAA4tB,OAAAH,EAAAnf,QAAAhB,QACA,IAAAA,KACA5K,EAAAgW,SAAApL,EAAA3R,MAGA2C,QAAAC,QAAA,kBAAAO,QAAA,qBACA,CAGAf,KAAA2E,OAAA6qB,GACAA,EAAAM,UAGA9vB,KAAAovB,UAGA7uB,QAAAC,QAAA,kBAAAO,QAAA,YACA,EAEA0uB,2BAAA,SAAAD,GACA,IAAAjf,EAAAif,EAAAvvB,IAAA,UACAgC,EAAAC,KAAAqO,EAAA5O,QAAA,SAAA4N,GACAhP,QAAAC,QAAA,UAAA4B,QAAA,eAAAmN,EAAAtP,IAAA,MAAA,iBACA,GACA,EAEA8vB,aAAA,WACA,OAAA/vB,KAAA2B,MACA,EAEAquB,eAAA,SAAAzgB,GACA,MAAA3R,EAAA2R,EAAAtP,IAAA,MAEAgwB,EAAAxoB,SAAAmJ,eAAA,eAAAhT,GACAsyB,EAAAzoB,SAAAmJ,eAAA,iBAAAhT,GACAuyB,EAAA,IAAA5gB,EAAApO,WAAA8X,SAAA,KAAA,KAEA,IAAAgX,IAAAC,EAAA,OACAA,EAAA3zB,WAAA,IAAAgT,EAAApO,WAAAiG,gBAAAmI,EAAApO,WAAAiG,gBAAA,KACA6oB,EAAA1zB,WAAA,IAAAgT,EAAApO,WAAA+F,cAAAqI,EAAApO,WAAA+F,cAAAipB,EAEA,MACAC,EADA3oB,SAAAmJ,eAAA,YAAAhT,EAAA,SACA8J,cAAA,gBACA0oB,IACAA,EAAA7zB,WAAA,IAAAgT,EAAApO,WAAAkG,cAAAkI,EAAApO,WAAAkG,cAAA,KACA,EAEA+nB,QAAA,WACA,MAAAiB,EAAArwB,KAAA+vB,eACAO,EAAA,GAEAruB,EAAAC,KAAAmuB,GAAA,SAAAb,EAAAe,GACA,IAAAhgB,EAAAif,EAAAvvB,IAAA,UACAuvB,EAAAtvB,IAAA,QAAAqwB,EAAA,GACAtuB,EAAAC,KAAAqO,EAAA5O,QAAA,SAAA4N,GAGA,MAAAihB,EAAAprB,OAAAmK,EAAA3R,IAAAzC,MAAA,KAAA,GAEAs1B,EAAArrB,OAAAorB,GAAAr1B,MAAA,KAAAG,OAAA,GAAA8J,OAAAorB,GAAAr1B,MAAA,KAAA2jB,MAEA,IAAA2R,EAAA,OAEA,MAAAxB,EAAA1f,EAAApP,WAAAC,QAAAiC,mBAAAzE,GAAA,IAAA6yB,EAAA,IAAAF,EACAhhB,EAAArP,IAAA,KAAA+uB,GAGA,SAAA1f,EAAAtP,IAAA,SAAA,kBAAAsP,EAAAtP,IAAA,cAAA,cAAAsP,EAAAtP,IAAA,cACAqwB,EAAAn0B,KAAAoT,EAGA,GACA,IAEAhP,QAAAC,QAAA,kBAAAO,QAAA,sBAGAuvB,EAAA/Y,SAAAhI,IACAvP,KAAAgwB,eAAAzgB,EAAA,GAEA,GAIA,IACAxW,EAAA,4BAAA,CAAA,oCAAA,2BAAA,SAAA2yB,EAAA7pB,GCvHA,OAnBAkD,WAAArL,OAAAoF,OAAA,CAEAgB,WAAA,WACAE,KAAAM,SAAAC,QAAAC,QAAA,YAAA,aAAAR,KAAA0wB,aACA,EAEAA,aAAA,SAAAzxB,GACA,QAAA,IAAAA,EAAAkB,WAAAC,QAAAC,UACA,OAAA,EAGA,IAAAkQ,EAAA,IAAA1O,EAAA5C,EAAAgB,IAAA,UAAA,CAAAI,UAAApB,EAAAkB,WAAAC,QAAAC,UAAAgC,mBAAApD,IACAA,EAAAiB,IAAA,OAAA,IAAAwrB,EAAA,CAAA,CAAAnb,OAAAA,IAAA,CAAAgf,eAAAtwB,EAAAgB,IAAA,UAAAI,UAAApB,EAAAkB,WAAAC,QAAAC,UAAAgC,mBAAApD,KAEAsB,QAAAC,QAAA,kBAAAO,QAAA,iBACA,GAKA,IACAhI,EAAA,uBAAA,IAAA,WCmCA,OAxDAgM,WAAArL,OAAAoF,OAAA,CACAgB,WAAA,WACAE,KAAAM,SAAAC,QAAAC,QAAA,SAAA,kBAAAR,KAAA2wB,kBACA,EAEAA,kBAAA,SAAAviB,QACA,IAAAA,EAAA/D,KAAA8G,QAAAyf,iBAIAxiB,EAAA/D,KAAA8G,QAAAyf,gBAAArZ,SAAAqF,IACA,MAAAiU,EAAAjU,EAAAkU,WACA,QAAA,IAAAD,EAKA,QAAA,IAAAjU,EAAAmU,aAAA,QAAAnU,EAAAmU,YACA,GAAA,mBAAAC,KAAA,CACA,MAAAC,EAAA,CACAC,eAAA,cACAC,YAAA,qBACA7f,QAAAlD,EAAA/D,KAAAiH,SAEA0f,KAAA,QAAAH,EAAAI,EACA,KAAA,iBAAAG,UACAjiB,QAAAkiB,KAAA,6FAEAliB,QAAAkiB,KAAA,kFAEA,QAAA,IAAAzU,EAAAmU,aAAA,QAAAnU,EAAAmU,YAGA,GAAA,iBAAAK,UAAA,CAEA,MAAAH,EAAA,CACAK,MAAAT,EACAK,eAAA,cACAC,YAAA,qBACA7f,QAAAlD,EAAA/D,KAAAiH,SAEA8f,UAAAj1B,KAAA80B,EACA,KAAA,mBAAAD,KACA7hB,QAAAkiB,KAAA,4FAEAliB,QAAAkiB,KAAA,iFAGAliB,QAAAkiB,KAAA,kGAnCAliB,QAAAkiB,KAAA,iFAoCA,GAGA,GAKA,IAEAt4B,EC3DA,8BAAA,CACA,uBACA,yBACA,0BACA,0BACA,yBACA,4BACA,gCACA,6BACA,yBACA,0BACA,0BACA,2BACA,+BACA,2BACA,0BACA,4BACA,+BACA,0BACA,6BACA,4BACA,0BACA,iCACA,2BACA,yBACA,4BACA,2BACA,kCACA,wBACA,6BACA,+BACA,wBACA,uBACA,2BACA,+BACA,8BACA,yBACA,iCACA,wBACA,yBACA,qBACA,6BACA,+BACA,4BACA,yBAEA,SACAw4B,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAuEA,OArEAnvB,WAAArL,OAAAoF,OAAA,CACAgB,WAAA,WAKA,IAAA8zB,EACA,IAAAC,EACA,IAAAC,EAKA,IAAAlC,EACA,IAAAC,EACA,IAAAC,EACA,IAAAC,EACA,IAAAC,EACA,IAAAW,EACA,IAAAE,EACA,IAAAC,EACA,IAAAC,EACA,IAAAI,EACA,IAAAC,EACA,IAAAC,EACA,IAAAC,EACA,IAAAC,EACA,IAAAC,EACA,IAAAC,EACA,IAAAC,EACA,IAAAC,EACA,IAAAK,EACA,IAAAC,EAKA,IAAAzC,EACA,IAAAC,EACA,IAAAC,EACA,IAAAC,EAEA,IAAAM,EACA,IAAAC,EACA,IAAAC,EACA,IAAAC,EACA,IAAAC,EACA,IAAAC,EACA,IAAAC,EACA,IAAAC,EACA,IAA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","file":"front-end.js","sourcesContent":["(function () {\n","/**\n * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.\n * Released under MIT license, http://github.com/requirejs/almond/LICENSE\n */\n//Going sloppy to avoid 'use strict' string cost, but strict practices should\n//be followed.\n/*global setTimeout: false */\n\nvar requirejs, require, define;\n(function (undef) {\n    var main, req, makeMap, handlers,\n        defined = {},\n        waiting = {},\n        config = {},\n        defining = {},\n        hasOwn = Object.prototype.hasOwnProperty,\n        aps = [].slice,\n        jsSuffixRegExp = /\\.js$/;\n\n    function hasProp(obj, prop) {\n        return hasOwn.call(obj, prop);\n    }\n\n    /**\n     * Given a relative module name, like ./something, normalize it to\n     * a real name that can be mapped to a path.\n     * @param {String} name the relative name\n     * @param {String} baseName a real name that the name arg is relative\n     * to.\n     * @returns {String} normalized name\n     */\n    function normalize(name, baseName) {\n        var nameParts, nameSegment, mapValue, foundMap, lastIndex,\n            foundI, foundStarMap, starI, i, j, part, normalizedBaseParts,\n            baseParts = baseName && baseName.split(\"/\"),\n            map = config.map,\n            starMap = (map && map['*']) || {};\n\n        //Adjust any relative paths.\n        if (name) {\n            name = name.split('/');\n            lastIndex = name.length - 1;\n\n            // If wanting node ID compatibility, strip .js from end\n            // of IDs. Have to do this here, and not in nameToUrl\n            // because node allows either .js or non .js to map\n            // to same file.\n            if (config.nodeIdCompat && jsSuffixRegExp.test(name[lastIndex])) {\n                name[lastIndex] = name[lastIndex].replace(jsSuffixRegExp, '');\n            }\n\n            // Starts with a '.' so need the baseName\n            if (name[0].charAt(0) === '.' && baseParts) {\n                //Convert baseName to array, and lop off the last part,\n                //so that . matches that 'directory' and not name of the baseName's\n                //module. For instance, baseName of 'one/two/three', maps to\n                //'one/two/three.js', but we want the directory, 'one/two' for\n                //this normalization.\n                normalizedBaseParts = baseParts.slice(0, baseParts.length - 1);\n                name = normalizedBaseParts.concat(name);\n            }\n\n            //start trimDots\n            for (i = 0; i < name.length; i++) {\n                part = name[i];\n                if (part === '.') {\n                    name.splice(i, 1);\n                    i -= 1;\n                } else if (part === '..') {\n                    // If at the start, or previous value is still ..,\n                    // keep them so that when converted to a path it may\n                    // still work when converted to a path, even though\n                    // as an ID it is less than ideal. In larger point\n                    // releases, may be better to just kick out an error.\n                    if (i === 0 || (i === 1 && name[2] === '..') || name[i - 1] === '..') {\n                        continue;\n                    } else if (i > 0) {\n                        name.splice(i - 1, 2);\n                        i -= 2;\n                    }\n                }\n            }\n            //end trimDots\n\n            name = name.join('/');\n        }\n\n        //Apply map config if available.\n        if ((baseParts || starMap) && map) {\n            nameParts = name.split('/');\n\n            for (i = nameParts.length; i > 0; i -= 1) {\n                nameSegment = nameParts.slice(0, i).join(\"/\");\n\n                if (baseParts) {\n                    //Find the longest baseName segment match in the config.\n                    //So, do joins on the biggest to smallest lengths of baseParts.\n                    for (j = baseParts.length; j > 0; j -= 1) {\n                        mapValue = map[baseParts.slice(0, j).join('/')];\n\n                        //baseName segment has  config, find if it has one for\n                        //this name.\n                        if (mapValue) {\n                            mapValue = mapValue[nameSegment];\n                            if (mapValue) {\n                                //Match, update name to the new value.\n                                foundMap = mapValue;\n                                foundI = i;\n                                break;\n                            }\n                        }\n                    }\n                }\n\n                if (foundMap) {\n                    break;\n                }\n\n                //Check for a star map match, but just hold on to it,\n                //if there is a shorter segment match later in a matching\n                //config, then favor over this star map.\n                if (!foundStarMap && starMap && starMap[nameSegment]) {\n                    foundStarMap = starMap[nameSegment];\n                    starI = i;\n                }\n            }\n\n            if (!foundMap && foundStarMap) {\n                foundMap = foundStarMap;\n                foundI = starI;\n            }\n\n            if (foundMap) {\n                nameParts.splice(0, foundI, foundMap);\n                name = nameParts.join('/');\n            }\n        }\n\n        return name;\n    }\n\n    function makeRequire(relName, forceSync) {\n        return function () {\n            //A version of a require function that passes a moduleName\n            //value for items that may need to\n            //look up paths relative to the moduleName\n            var args = aps.call(arguments, 0);\n\n            //If first arg is not require('string'), and there is only\n            //one arg, it is the array form without a callback. Insert\n            //a null so that the following concat is correct.\n            if (typeof args[0] !== 'string' && args.length === 1) {\n                args.push(null);\n            }\n            return req.apply(undef, args.concat([relName, forceSync]));\n        };\n    }\n\n    function makeNormalize(relName) {\n        return function (name) {\n            return normalize(name, relName);\n        };\n    }\n\n    function makeLoad(depName) {\n        return function (value) {\n            defined[depName] = value;\n        };\n    }\n\n    function callDep(name) {\n        if (hasProp(waiting, name)) {\n            var args = waiting[name];\n            delete waiting[name];\n            defining[name] = true;\n            main.apply(undef, args);\n        }\n\n        if (!hasProp(defined, name) && !hasProp(defining, name)) {\n            throw new Error('No ' + name);\n        }\n        return defined[name];\n    }\n\n    //Turns a plugin!resource to [plugin, resource]\n    //with the plugin being undefined if the name\n    //did not have a plugin prefix.\n    function splitPrefix(name) {\n        var prefix,\n            index = name ? name.indexOf('!') : -1;\n        if (index > -1) {\n            prefix = name.substring(0, index);\n            name = name.substring(index + 1, name.length);\n        }\n        return [prefix, name];\n    }\n\n    //Creates a parts array for a relName where first part is plugin ID,\n    //second part is resource ID. Assumes relName has already been normalized.\n    function makeRelParts(relName) {\n        return relName ? splitPrefix(relName) : [];\n    }\n\n    /**\n     * Makes a name map, normalizing the name, and using a plugin\n     * for normalization if necessary. Grabs a ref to plugin\n     * too, as an optimization.\n     */\n    makeMap = function (name, relParts) {\n        var plugin,\n            parts = splitPrefix(name),\n            prefix = parts[0],\n            relResourceName = relParts[1];\n\n        name = parts[1];\n\n        if (prefix) {\n            prefix = normalize(prefix, relResourceName);\n            plugin = callDep(prefix);\n        }\n\n        //Normalize according\n        if (prefix) {\n            if (plugin && plugin.normalize) {\n                name = plugin.normalize(name, makeNormalize(relResourceName));\n            } else {\n                name = normalize(name, relResourceName);\n            }\n        } else {\n            name = normalize(name, relResourceName);\n            parts = splitPrefix(name);\n            prefix = parts[0];\n            name = parts[1];\n            if (prefix) {\n                plugin = callDep(prefix);\n            }\n        }\n\n        //Using ridiculous property names for space reasons\n        return {\n            f: prefix ? prefix + '!' + name : name, //fullName\n            n: name,\n            pr: prefix,\n            p: plugin\n        };\n    };\n\n    function makeConfig(name) {\n        return function () {\n            return (config && config.config && config.config[name]) || {};\n        };\n    }\n\n    handlers = {\n        require: function (name) {\n            return makeRequire(name);\n        },\n        exports: function (name) {\n            var e = defined[name];\n            if (typeof e !== 'undefined') {\n                return e;\n            } else {\n                return (defined[name] = {});\n            }\n        },\n        module: function (name) {\n            return {\n                id: name,\n                uri: '',\n                exports: defined[name],\n                config: makeConfig(name)\n            };\n        }\n    };\n\n    main = function (name, deps, callback, relName) {\n        var cjsModule, depName, ret, map, i, relParts,\n            args = [],\n            callbackType = typeof callback,\n            usingExports;\n\n        //Use name if no relName\n        relName = relName || name;\n        relParts = makeRelParts(relName);\n\n        //Call the callback to define the module, if necessary.\n        if (callbackType === 'undefined' || callbackType === 'function') {\n            //Pull out the defined dependencies and pass the ordered\n            //values to the callback.\n            //Default to [require, exports, module] if no deps\n            deps = !deps.length && callback.length ? ['require', 'exports', 'module'] : deps;\n            for (i = 0; i < deps.length; i += 1) {\n                map = makeMap(deps[i], relParts);\n                depName = map.f;\n\n                //Fast path CommonJS standard dependencies.\n                if (depName === \"require\") {\n                    args[i] = handlers.require(name);\n                } else if (depName === \"exports\") {\n                    //CommonJS module spec 1.1\n                    args[i] = handlers.exports(name);\n                    usingExports = true;\n                } else if (depName === \"module\") {\n                    //CommonJS module spec 1.1\n                    cjsModule = args[i] = handlers.module(name);\n                } else if (hasProp(defined, depName) ||\n                           hasProp(waiting, depName) ||\n                           hasProp(defining, depName)) {\n                    args[i] = callDep(depName);\n                } else if (map.p) {\n                    map.p.load(map.n, makeRequire(relName, true), makeLoad(depName), {});\n                    args[i] = defined[depName];\n                } else {\n                    throw new Error(name + ' missing ' + depName);\n                }\n            }\n\n            ret = callback ? callback.apply(defined[name], args) : undefined;\n\n            if (name) {\n                //If setting exports via \"module\" is in play,\n                //favor that over return value and exports. After that,\n                //favor a non-undefined return value over exports use.\n                if (cjsModule && cjsModule.exports !== undef &&\n                        cjsModule.exports !== defined[name]) {\n                    defined[name] = cjsModule.exports;\n                } else if (ret !== undef || !usingExports) {\n                    //Use the return value from the function.\n                    defined[name] = ret;\n                }\n            }\n        } else if (name) {\n            //May just be an object definition for the module. Only\n            //worry about defining if have a module name.\n            defined[name] = callback;\n        }\n    };\n\n    requirejs = require = req = function (deps, callback, relName, forceSync, alt) {\n        if (typeof deps === \"string\") {\n            if (handlers[deps]) {\n                //callback in this case is really relName\n                return handlers[deps](callback);\n            }\n            //Just return the module wanted. In this scenario, the\n            //deps arg is the module name, and second arg (if passed)\n            //is just the relName.\n            //Normalize module name, if it contains . or ..\n            return callDep(makeMap(deps, makeRelParts(callback)).f);\n        } else if (!deps.splice) {\n            //deps is a config object, not an array.\n            config = deps;\n            if (config.deps) {\n                req(config.deps, config.callback);\n            }\n            if (!callback) {\n                return;\n            }\n\n            if (callback.splice) {\n                //callback is an array, which means it is a dependency list.\n                //Adjust args if there are dependencies\n                deps = callback;\n                callback = relName;\n                relName = null;\n            } else {\n                deps = undef;\n            }\n        }\n\n        //Support require(['a'])\n        callback = callback || function () {};\n\n        //If relName is a function, it is an errback handler,\n        //so remove it.\n        if (typeof relName === 'function') {\n            relName = forceSync;\n            forceSync = alt;\n        }\n\n        //Simulate async callback;\n        if (forceSync) {\n            main(undef, deps, callback, relName);\n        } else {\n            //Using a non-zero value because of concern for what old browsers\n            //do, and latest browsers \"upgrade\" to 4 if lower value is used:\n            //http://www.whatwg.org/specs/web-apps/current-work/multipage/timers.html#dom-windowtimers-settimeout:\n            //If want a value immediately, use require('id') instead -- something\n            //that works in almond on the global level, but not guaranteed and\n            //unlikely to work in other AMD implementations.\n            setTimeout(function () {\n                main(undef, deps, callback, relName);\n            }, 4);\n        }\n\n        return req;\n    };\n\n    /**\n     * Just drops the config on the floor, but returns req in case\n     * the config return value is used.\n     */\n    req.config = function (cfg) {\n        return req(cfg);\n    };\n\n    /**\n     * Expose module registry for debugging and tooling\n     */\n    requirejs._defined = defined;\n\n    define = function (name, deps, callback) {\n        if (typeof name !== 'string') {\n            throw new Error('See almond README: incorrect module build, no module name');\n        }\n\n        //This module may not have dependencies\n        if (!deps.splice) {\n            //deps is not an array, so probably means\n            //an object literal or factory function for\n            //the value. Adjust args.\n            callback = deps;\n            deps = [];\n        }\n\n        if (!hasProp(defined, name) && !hasProp(waiting, name)) {\n            waiting[name] = [name, deps, callback];\n        }\n    };\n\n    define.amd = {\n        jQuery: true\n    };\n}());\n\ndefine(\"../../../node_modules/almond/almond\", function(){});\n\n","define( 'models/fieldErrorModel',[], function() {\n\tvar model = Backbone.Model.extend( {\n\n\t} );\n\t\n\treturn model;\n} );\n","define( 'models/fieldErrorCollection',['models/fieldErrorModel'], function( errorModel ) {\n\tvar collection = Backbone.Collection.extend( {\n\t\tmodel: errorModel\n\t} );\n\treturn collection;\n} );\n","define( 'models/fieldModel',['models/fieldErrorCollection'], function( fieldErrorCollection ) {\n\tvar model = Backbone.Model.extend( {\n\t\tdefaults: {\n\t\t\tplaceholder: '',\n\t\t\tvalue: '',\n\t\t\tlabel_pos: '',\n\t\t\tclasses: 'ninja-forms-field',\n\t\t\treRender: false,\n\t\t\tmirror_field: false,\n\t\t\tconfirm_field: false,\n\t\t\tclean: true,\n\t\t\tdisabled: '',\n\t\t\tvisible: true,\n\t\t\tinvalid: false\n\t\t},\n\n\t\tinitialize: function() {\n\t\t\tvar type = this.get('type');\n\n\t\t\tthis.set( 'formID', this.collection.options.formModel.get( 'id' ) );\n\t\t\tthis.listenTo( nfRadio.channel( 'form-' + this.get( 'formID' ) ), 'reset', this.resetModel );\n\n    \t\tthis.bind( 'change', this.changeModel, this );\n    \t\tthis.bind( 'change:value', this.changeValue, this );\n    \t\tthis.set( 'errors', new fieldErrorCollection() );\n\n\t\t\tif (type === 'listimage') {\n\t\t\t\tthis.get = this.listimageGet;\n\t\t\t\tthis.set = this.listimageSet;\n\t\t\t}\n\n    \t\t/*\n\t\t\t * Trigger an init event on two channels:\n\t\t\t * \n\t\t\t * fields\n\t\t\t * field-type\n\t\t\t *\n\t\t\t * This lets specific field types modify model attributes before anything uses them.\n\t\t\t */\n\t\t\tnfRadio.channel( 'fields' ).trigger( 'init:model', this );\n\t\t\tnfRadio.channel( this.get( 'type' ) ).trigger( 'init:model', this );\n\t\t\tnfRadio.channel( 'fields-' + this.get( 'type' ) ).trigger( 'init:model', this );\n\n\t\t\tif( 'undefined' != typeof this.get( 'parentType' ) ){\n\t\t\t\tnfRadio.channel( this.get( 'parentType' ) ).trigger( 'init:model', this );\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * When we load our form, fire another event for this field.\n\t\t\t */\n\t\t\tthis.listenTo( nfRadio.channel( 'form-' + this.get( 'formID' ) ), 'loaded', this.formLoaded );\n\t\t\n\t\t\t/*\n\t\t\t * Before we submit our form, send out a message so that this field can be modified if necessary.\n\t\t\t */\n\t\t\tthis.listenTo( nfRadio.channel( 'form-' + this.get( 'formID' ) ), 'before:submit', this.beforeSubmit );\n\t\t},\n\n\t\tlistimageGet: function(attr) {\n            if(attr === 'options') {\n\t\t\t\t\tattr = 'image_options';\n\t\t\t}\n\n            return Backbone.Model.prototype.get.call(this, attr);\n\t\t},\n\t\t\n\t\tlistimageSet: function(attributes, options) {\n\t\t\tif ('options' === attributes) {\n\t\t\t\tattributes = 'image_options';\n\t\t\t}\n\t\t\treturn Backbone.Model.prototype.set.call(this, attributes, options);\n\t\t},\n\n\t\tchangeModel: function() {\n\t\t\tnfRadio.channel( 'field-' + this.get( 'id' ) ).trigger( 'change:model', this );\n\t\t\tnfRadio.channel( this.get( 'type' ) ).trigger( 'change:model', this );\n\t\t\tnfRadio.channel( 'fields' ).trigger( 'change:model', this );\n\t\t},\n\n\t\tchangeValue: function() {\n\t\t\tnfRadio.channel( 'field-' + this.get( 'id' ) ).trigger( 'change:modelValue', this );\n\t\t\tnfRadio.channel( this.get( 'type' ) ).trigger( 'change:modelValue', this );\n\t\t\tnfRadio.channel( 'fields' ).trigger( 'change:modelValue', this );\n\t\t},\n\n\t\taddWrapperClass: function( cl ) {\n\t\t\tthis.set( 'addWrapperClass', cl );\n\t\t},\n\n\t\tremoveWrapperClass: function( cl ) {\n\t\t\tthis.set( 'removeWrapperClass', cl );\n\t\t},\n\n\t\tsetInvalid: function( invalid ) {\n\t\t\tthis.set( 'invalid', invalid );\n\t\t},\n\n\t\tformLoaded: function() {\n\t\t\tnfRadio.channel( 'fields' ).trigger( 'formLoaded', this );\n\t\t\tnfRadio.channel( 'fields-' + this.get( 'type' ) ).trigger( 'formLoaded', this );\n\t\t},\n\n\t\tbeforeSubmit: function( formModel ) {\n\t\t\tnfRadio.channel( this.get( 'type' ) ).trigger( 'before:submit', this );\n\t\t\tnfRadio.channel( 'fields' ).trigger( 'before:submit', this );\n\t\t},\n\n\t\t/**\n\t\t * Return the value of this field.\n\t\t * This method exists so that more complex fields can return more than just the field value.\n\t\t * Those advanced fields should create their own method with this name.\n\t\t * \n\t\t * @since  3.5\n\t\t * @return {string} Value of this field.\n\t\t */\n\t\tgetValue: function() {\n\t\t\treturn this.get( 'value' );\n\t\t}\n\n\t} );\n\n\treturn model;\n} );\n\n","define( 'models/fieldCollection',['models/fieldModel'], function( fieldModel ) {\n\tvar collection = Backbone.Collection.extend( {\n\t\tmodel: fieldModel,\n\t\tcomparator: 'order',\n\n\t\tinitialize: function( models, options ) {\n\t\t\tthis.options = options;\n            this.on( 'reset', function( fieldCollection ){\n                nfRadio.channel( 'fields' ).trigger( 'reset:collection', fieldCollection );\n            }, this );\n\n\t\t\tnfRadio.channel( 'fields' ).reply( 'get:firstFieldByOrder', this.getFirstFieldByOrder );\n\t\t},\n\n\t\tvalidateFields: function() {\n\t\t\t_.each( this.models, function( fieldModel ) {\n\t\t\t\tif(fieldModel.get(\"type\") === \"repeater\"){\n\t\t\t\t\tconst repeaterModels = nfRadio.channel( \"field-repeater\" ).request( 'get:repeaterFieldsModelsArrayByForm', fieldModel.get('formID') );\n\t\t\t\t\t_.each( repeaterModels, function( repeaterFieldModel ) {\n\t\t\t\t\t\t// added here for help with multi-part part validation\n\t\t\t\t\t\trepeaterFieldModel.set( 'clean', false );\n\t\t\t\t\t\tnfRadio.channel( 'submit' ).trigger( 'validate:field', repeaterFieldModel );\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t// added here for help with multi-part part validation\n\t\t\t\t\tfieldModel.set( 'clean', false );\n\t\t\t\t\tnfRadio.channel( 'submit' ).trigger( 'validate:field', fieldModel );\n\t\t\t\t}\n\t\t\t}, this );\n\t\t\t//Focus the first invalid input when found\n\t\t\tvar formModel  = nfRadio.channel( 'form-' + this.models[0].get( 'formID' ) ).request( 'get:form' );\n\t\t\tif(_.size(formModel.get('fieldErrors')) > 0){\n\t\t\t\tnfRadio.channel( 'submit' ).request( 'focus:firstInvalidInput', Object.keys(formModel.get('fieldErrors')) );\n\t\t\t}\n\t\t},\n\n\t\tshowFields: function() {\n\t\t\tthis.invoke( 'set', { visible: true } );\n            this.invoke( function() {\n                this.trigger( 'change:value', this );\n            });\n\t\t},\n\n\t\thideFields: function() {\n\t\t\tthis.invoke( 'set', { visible: false } );\n            this.invoke( function() {\n                this.trigger( 'change:value', this );\n            });\n\t\t},\n\n\t\tgetFirstFieldByOrder: function( ids_array ) {\n\t\t\tlet targetID = 0;\n\t\t\t//Loop through an array of fieldIDs to return the one that is positioned first\n\t\t\t_.each(ids_array, function( id ) {\n\t\t\t\t//Get field order\n\t\t\t\tconst order = nfRadio.channel( 'fields' ).request( 'get:field', id ).get('order');\n\t\t\t\t//Set it as the target when the lowest order is found\n\t\t\t\ttargetID = (targetID === 0 || order < targetID) ? id : targetID;\n\t\t\t});\n\n\t\t\treturn targetID;\n\t\t}\n\t} );\n\treturn collection;\n} );\n\n","define( 'models/formErrorModel',[], function() {\n\tvar model = Backbone.Model.extend( {\n\n\t} );\n\t\n\treturn model;\n} );\n","define( 'models/formErrorCollection',['models/formErrorModel'], function( errorModel ) {\n\tvar collection = Backbone.Collection.extend( {\n\t\tmodel: errorModel\n\t} );\n\treturn collection;\n} );\n","define( 'models/formModel',[\n\t'models/fieldCollection',\n\t'models/formErrorCollection'\n\t], function(\n\t\tFieldCollection,\n\t\tErrorCollection\n\t) {\n\tvar model = Backbone.Model.extend({\n\t\tdefaults: {\n\t\t\tbeforeForm: '',\n\t\t\tafterForm: '',\n\t\t\tbeforeFields: '',\n\t\t\tafterFields: '',\n\t\t\twrapper_class: '',\n\t\t\telement_class: '',\n\t\t\thp: '',\n\t\t\tfieldErrors: {},\n\t\t\textra: {}\n\t\t},\n\n\t\tinitialize: function() {\n\t\t\t// Loop over settings and map to attributes\n\t\t\t_.each( this.get( 'settings' ), function( value, setting ) {\n\t\t\t\tthis.set( setting, value );\n\t\t\t}, this );\n\n\t\t\tthis.set( 'loadedFields', this.get( 'fields' ) );\n\t\t\tthis.set( 'fields', new FieldCollection( this.get( 'fields' ), { formModel: this } ) );\n\t\t\tthis.set( 'errors', new ErrorCollection() );\n\n\t\t\t/*\n\t\t\t * Send out a radio message so that anyone who wants to filter our content data can register their filters.\n\t\t\t */\n\t\t\tnfRadio.channel( 'form' ).trigger( 'before:filterData', this );\n\n\t\t\t/*\n\t\t\t * Set our formContentData to our form setting 'formContentData'\n\t\t\t */\n\t\t\tvar formContentData = this.get( 'formContentData' );\n\n\t\t\t/*\n\t\t\t * The formContentData variable used to be fieldContentsData.\n\t\t\t * If we don't have a 'formContentData' setting, check to see if we have an old 'fieldContentsData'.\n\t\t\t * \n\t\t\t * TODO: This is for backwards compatibility and should be removed eventually. \n\t\t\t */\n\t\t\tif ( ! formContentData ) {\n\t\t\t\tformContentData = this.get( 'fieldContentsData' );\n\t\t\t}\n\t\t\t\n\t\t\tvar formContentLoadFilters = nfRadio.channel( 'formContent' ).request( 'get:loadFilters' );\n\t\t\t/* \n\t\t\t* Get our first filter, this will be the one with the highest priority.\n\t\t\t*/\n\t\t\tvar sortedArray = _.without( formContentLoadFilters, undefined );\n\t\t\tvar callback = _.first( sortedArray );\n\t\t\tformContentData = callback( formContentData, this, this );\n\t\t\t\n\t\t\tthis.set( 'formContentData', formContentData );\n\n\t\t\tnfRadio.channel( 'forms' ).trigger( 'init:model', this );\n\t\t\tnfRadio.channel( 'form-' + this.get( 'id' ) ).trigger( 'init:model', this );\n\n\t\t\t// Fields\n\t\t\tnfRadio.channel( 'form-' + this.get( 'id' ) ).reply( 'get:fieldByKey', this.getFieldByKey, this );\n\n\t\t\t// Form Errors\n\t\t\tnfRadio.channel( 'form-' + this.get( 'id' ) ).reply( 'add:error',    this.addError, this    );\n\t\t\tnfRadio.channel( 'form-' + this.get( 'id' ) ).reply( 'remove:error', this.removeError, this );\n\n\t\t\t// Extra Data\n\t\t\tnfRadio.channel( 'form-' + this.get( 'id' ) ).reply( 'get:extra',    this.getExtra,    this );\n\t\t\tnfRadio.channel( 'form-' + this.get( 'id' ) ).reply( 'add:extra',    this.addExtra,    this );\n\t\t\tnfRadio.channel( 'form-' + this.get( 'id' ) ).reply( 'remove:extra', this.removeExtra, this );\n\t\t\n\t\t\t// Respond to requests to get this model.\n\t\t\tnfRadio.channel( 'form-' + this.get( 'id' ) ).reply( 'get:form', \t this.getForm, \t   this );\n\n\t\t\tnfRadio.channel( 'form' ).trigger( 'loaded', this );\n\t\t\tnfRadio.channel( 'form' ).trigger( 'after:loaded', this );\n\t\t\tnfRadio.channel( 'form-' + this.get( 'id' ) ).trigger( 'loaded', \t this );\n\t\t},\n\n\t\t/*\n\t\t |--------------------------------------------------------------------------\n\t\t | Fields\n\t\t |--------------------------------------------------------------------------\n\t\t */\n\n\t\tgetFieldByKey: function( key ) {\n\t\t\treturn this.get( 'fields' ).findWhere( { key: key } );\n\t\t},\n\n\t\t/*\n\t\t |--------------------------------------------------------------------------\n\t\t | Form Errors\n\t\t |--------------------------------------------------------------------------\n\t\t */\n\n\t\taddError: function( id, msg ) {\n\t\t\tvar errors = this.get( 'errors' );\n\t\t\terrors.add( { id: id, msg: msg } );\n\t\t\tnfRadio.channel( 'form-' + this.get( 'id' ) ).trigger( 'add:error', this, id, msg );\n\t\t},\n\n\t\tremoveError: function( id ) {\n\t\t\tvar errors = this.get( 'errors' );\n\t\t\tvar errorModel = errors.get( id );\n\t\t\terrors.remove( errorModel );\n\t\t\tnfRadio.channel( 'form-' + this.get( 'id' ) ).trigger( 'remove:error', this, id );\n\t\t},\n\n\t\t/*\n\t\t |--------------------------------------------------------------------------\n\t\t | Extra Data\n\t\t |--------------------------------------------------------------------------\n\t\t */\n\n\t\tgetExtra: function( key ) {\n\t\t\tvar extraData = this.get( 'extra' );\n\t\t\tif( 'undefined' == typeof key ) return extraData;\n\t\t\treturn extraData[ key ];\n\t\t},\n\n\t\taddExtra: function( key, value ) {\n\t\t\tvar extraData = this.get( 'extra' );\n\t\t\textraData[ key ] = value;\n\t\t\tnfRadio.channel( 'form-' + this.get( 'id' ) ).trigger( 'add:extra', this, key, value );\n\t\t},\n\n\t\tremoveExtra: function( key ) {\n\t\t\tvar extraData = this.get( 'extra' );\n\t\t\tdelete extraData[ key ];\n\t\t\tnfRadio.channel( 'form-' + this.get( 'id' ) ).trigger( 'remove:extra', this, key );\n\t\t},\n\n\t\t/*\n\t\t |--------------------------------------------------------------------------\n\t\t | Get this form\n\t\t |--------------------------------------------------------------------------\n\t\t */\n\t\tgetForm: function() {\n\t\t\treturn this;\n\t\t}\n\t} );\n\n\treturn model;\n} );\n","define( 'models/formCollection',['models/formModel'], function( formModel ) {\n\tvar collection = Backbone.Collection.extend( {\n\t\tmodel: formModel\n\t} );\n\treturn collection;\n} );\n","/*\n * Handles setting up our form.\n *\n * Holds a collection of our fields.\n * Replies to requests for field data.\n * Updates field models.\n */\ndefine('controllers/formData',['models/formModel', 'models/formCollection', 'models/fieldCollection', 'models/formErrorCollection'], function( FormModel, FormCollection, FieldCollection, ErrorCollection ) {\n\tvar controller = Marionette.Object.extend( {\n\t\tinitialize: function() {\n\n\t\t\t/*\n\t\t\t * Setup our field collections.\n\t\t\t */\n\t\t\tvar that = this;\n\n\t\t\t/*\n\t\t\t * Initialize our form collection (incase we have multiple forms on the page)\n\t\t\t */\n\t\t\tthis.collection = new FormCollection( nfForms );\t\t\n\t\t\tnfRadio.channel( 'forms' ).trigger( 'loaded', this.collection );\n\t\t\tnfRadio.channel( 'app' ).trigger( 'forms:loaded', this.collection );\n\n\t\t\tnfRadio.channel( 'app' ).reply( 'get:form', this.getForm, this );\n\t\t\tnfRadio.channel( 'app' ).reply( 'get:forms', this.getForms, this );\n\n\t\t\tnfRadio.channel( 'fields' ).reply( 'get:field', this.getField, this );\n\t\t},\n\n\t\tgetForm: function( id ) {\n\t\t\treturn this.collection.get( id );\n\t\t},\n\n\t\tgetForms: function() {\n\t\t\treturn this.collection;\n\t\t},\n\n\t\tgetField: function( id ) {\n\t\t\tvar model = false;\n\t\t\t\n\t\t\t_.each( this.collection.models, function( form ) {\n\t\t\t\tif ( ! model ) {\n\t\t\t\t\tmodel = form.get( 'fields' ).get( id );\t\n\t\t\t\t}\t\t\t\n\t\t\t} );\n\n\t\t\tif(typeof model == \"undefined\" && String(id).indexOf('.') !== -1){\n\t\t\t\tmodel = nfRadio.channel( \"field-repeater\" ).request( 'get:repeaterFieldById', id );\n\t\t\t}\n\t\t\t\n\t\t\treturn model;\n\t\t}\n\t});\n\n\treturn controller;\n} );\n\n","define('controllers/fieldError',['models/fieldErrorModel'], function( fieldErrorModel ) {\n\tvar controller = Marionette.Object.extend( {\n\t\tinitialize: function() {\n\t\t\tnfRadio.channel( 'fields' ).reply( 'add:error', this.addError );\n\t\t\tnfRadio.channel( 'fields' ).reply( 'remove:error', this.removeError );\n\t\t\tnfRadio.channel( 'fields' ).reply( 'get:error', this.getError );\n\t\t},\n\n\t\taddError: function( targetID, id, msg ) {\n\t\t\tvar model = nfRadio.channel( 'fields' ).request( 'get:field', targetID );\n\n\t\t\tif( 'undefined' == typeof model ) return;\n\n\t\t\tvar errors = model.get( 'errors' );\n\t\t\terrors.add( { 'id': id, 'msg' : msg } );\n\t\t\tmodel.set( 'errors', errors );\n\t\t\tmodel.trigger( 'change:errors', model );\n\t\t\tmodel.set( 'clean', false );\n\t\t\tnfRadio.channel( 'fields' ).trigger( 'add:error', model, id, msg );\n\t\t},\n\n\t\tremoveError: function( targetID, id ) {\n\t\t\tvar model = nfRadio.channel( 'fields' ).request( 'get:field', targetID );\n\n\t\t\tif( 'undefined' == typeof model ) return;\n\t\t\tvar errors = model.get( 'errors' );\n\t\t\tvar targetError = errors.get( id );\n\n\t\t\tif ( 'undefined' != typeof targetError ) {\n\t\t\t\terrors.remove( targetError );\n\t\t\t\tmodel.set( 'errors', errors );\n\t\t\t\tmodel.trigger( 'change:errors', model );\n\t\t\t\tnfRadio.channel( 'fields' ).trigger( 'remove:error', model, id );\n\t\t\t}\n\t\t},\n\n\t\tgetError: function( targetID, id ) {\n\t\t\tvar model = nfRadio.channel( 'fields' ).request( 'get:field', targetID );\n\t\t\tvar errors = model.get( 'errors' );\n\t\t\tvar targetError = errors.get( id );\n\t\t\tif ( 'undefined' != targetError ) {\n\t\t\t\treturn targetError;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t});\n\n\treturn controller;\n} );\n","/**\n * Controller responsible for replying to a Radio request stating that a field has been changed.\n *\n * This controller sends out a message to the field-specific channel, the field type channel,\n * and the public fields channel so that the data model can be updated.\n */\n\ndefine('controllers/changeField',[], function() {\n\tvar controller = Marionette.Object.extend( {\n\n\t\tinitialize: function() {\n\t\t\t/*\n\t\t\t * Reply to our request for changing a field.\n\t\t\t */\n\t\t\tnfRadio.channel( 'nfAdmin' ).reply( 'change:field', this.changeField );\n\n\t\t\t/*\n\t\t\t * If we blur our field, set the model attribute of 'clean' to false.\n\t\t\t * 'clean' tracks whether or not the user has every interacted with this element.\n\t\t\t * Some validation, like required, uses this to decide whether or not to add an error.\n\t\t\t */\n\t\t\tthis.listenTo( nfRadio.channel( 'fields' ), 'blur:field', this.blurField );\n\t\t},\n\n\t\tchangeField: function( el, model ) {\n\t\t\t// Get our current value.\n\t\t\tvar value = nfRadio.channel( model.get( 'type' ) ).request( 'before:updateField', el, model );\n\t\t\tvalue = ( 'undefined' != typeof value ) ? value : nfRadio.channel( model.get( 'parentType' ) ).request( 'before:updateField', el, model );\n\t\t\tvalue = ( 'undefined' != typeof value ) ? value : jQuery( el ).val();\n\n\t\t\t// Set our 'isUpdated' flag to false.\n\t\t\tmodel.set( 'isUpdated', false );\n\n\t\t\t// Set our 'clean' flag to false.\n\t\t\tmodel.set( 'clean', false );\n\n\t\t\t/*\n\t\t\t * Send out a message saying that we've changed a field.\n\t\t\t * The first channel is field id/key specific.\n\t\t\t * The second channel is the field type, i.e. text, email, radio\n\t\t\t * The third channel is a generic 'field' channel.\n\t\t\t *\n\t\t\t * If the submitted value you wish to store in the data model isn't the same as the value received above,\n\t\t\t * you can set that model in the actions below and set the 'isUpdated' model attribute to true.\n\t\t\t * i.e. model.set( 'isUpdated', true );\n\t\t\t */\n\t\t\tnfRadio.channel( 'field-' + model.get( 'id' ) ).trigger( 'change:field', el, model );\n\t\t\tnfRadio.channel( model.get( 'type' ) ).trigger( 'change:field', el, model );\n\t\t\tnfRadio.channel( 'fields' ).trigger( 'change:field', el, model );\n\n\t\t\t/*\n\t\t\t * Send a request out on our nfAdmin channel to update our field model.\n\t\t\t * If the field model has a 'isUpdated' property of false, nothing will be updated.\n\t\t\t */\n\t\t\tnfRadio.channel( 'nfAdmin' ).request( 'update:field', model, value );\n\n\t\t\t/*\n\t\t\t * If the field is in a repeater, update the repeater Value\n\t\t\t */\n\t\t\tif(model.get(\"repeaterField\")){\n\t\t\t\tnfRadio.channel( \"field-repeater\" ).trigger( 'set:value' );\n\t\t\t}\n\t\t},\n\n\t\tblurField: function( el, model ) {\n\t\t\t// Set our 'clean' flag to false.\n\t\t\tmodel.set( 'clean', false );\n\t\t}\n\t});\n\n\treturn controller;\n} );\n","define('controllers/changeEmail',[], function() {\n\tvar radioChannel = nfRadio.channel( 'email' );\n\t// var emailReg = /^([\\w-]+(?:\\.[\\w-]+)*)@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$/i;\n\tvar emailReg = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\tvar errorID = 'invalid-email';\n\n\tvar controller = Marionette.Object.extend( {\n\n\t\tinitialize: function() {\n\t\t\tthis.listenTo( radioChannel, 'change:modelValue', this.onChangeModelValue );\n\t\t\tthis.listenTo( radioChannel, 'keyup:field', this.emailKeyup );\n\t\t\tthis.listenTo( radioChannel, 'blur:field', this.onBlurField );\n\t\t},\n\n\t\tonChangeModelValue: function( model ) {\n\t\t\tvar value = model.get( 'value' );\n\t\t\tvar fieldID = model.get( 'id' );\n\t\t\tthis.emailChange( value, fieldID );\n\t\t},\n\n\t\tonBlurField: function( el, model ) {\n\t\t\tvar value = jQuery( el ).val();\n\t\t\tvar fieldID = model.get( 'id' );\n\t\t\tthis.emailChange( value, fieldID );\n\t\t},\n\n\t\temailChange: function( value, fieldID ) {\n\t\t\tif ( 0 < value.length ) {\n\t\t\t\tif( emailReg.test( value ) ) {\n\t\t\t\t\tnfRadio.channel( 'fields' ).request( 'remove:error', fieldID, errorID );\n\t\t\t\t} else {\n\t\t\t\t\tvar fieldModel = nfRadio.channel( 'fields' ).request( 'get:field', fieldID );\n\t\t\t\t\tvar formModel  = nfRadio.channel( 'app'    ).request( 'get:form',  fieldModel.get( 'formID' ) );\n\t\t\t\t\tnfRadio.channel( 'fields' ).request( 'add:error', fieldID, errorID, formModel.get( 'settings' ).changeEmailErrorMsg );\n\t\t\t\t}\t\t\t\t\n\t\t\t} else {\n\t\t\t\tnfRadio.channel( 'fields' ).request( 'remove:error', fieldID, errorID );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * When a user types inside of an email field, track their keypresses and add the appropriate class.\n\t\t * If the value validates as an email, add a class of nf-pass\n\t\t * If the value does not validate as email, add a class of nf-fail\n\t\t * \n\t\t * @since  3.0\n\t\t * @param  {object} el    Element that triggered the keyup event.\n\t\t * @param  {object} model Model connected to the element that triggered the event\n\t\t * @return {void}\n\t\t */\n\t\temailKeyup: function( el, model, keyCode ) {\n\t\t\t\n\t\t\t/*\n\t\t\t * If we pressed the 'tab' key to get to this field, return false.\n\t\t\t */\n\t\t\tif ( 9 == keyCode ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t/*\n\t\t\t * Get the current value from our element.\n\t\t\t */\n\t\t\tvar value = jQuery( el ).val();\n\n\t\t\t/*\n\t\t\t * Get our current ID\n\t\t\t */\n\t\t\tvar fieldID = model.get( 'id' );\n\n\t\t\t/*\n\t\t\t * Check our value to see if it is a valid email.\n\t\t\t */\n\t\t\tif ( 0 == value.length ) {\n\t\t\t\tnfRadio.channel( 'fields' ).request( 'remove:error', fieldID, errorID );\n\t\t\t} else if ( ! emailReg.test( value ) && ! model.get( 'clean' ) ) {\n\n\t\t\t\tvar fieldModel = nfRadio.channel( 'fields' ).request( 'get:field', fieldID );\n\t\t\t\tvar formModel  = nfRadio.channel( 'app'    ).request( 'get:form',  fieldModel.get( 'formID' ) );\n\t\t\t\tnfRadio.channel( 'fields' ).request( 'add:error', fieldID, errorID, formModel.get( 'settings' ).changeEmailErrorMsg );\n\n\t\t\t\tmodel.removeWrapperClass( 'nf-pass' );\n\t\t\t} else if ( emailReg.test( value ) ) {\n\t\t\t\tnfRadio.channel( 'fields' ).request( 'remove:error', fieldID, errorID );\n\t\t\t\t/*\n\t\t\t\t * Add nf-pass class to the wrapper.\n\t\t\t\t */\n\t\t\t\tmodel.addWrapperClass( 'nf-pass' );\n\t\t\t\tmodel.set( 'clean', false );\n\t\t\t}\n\t\t}\n\t});\n\n\treturn controller;\n} );\n","define('controllers/changeDate',[], function() {\n\tvar radioChannel = nfRadio.channel( 'date' );\n\tvar errorID = 'invalid-date';\n\n\tvar controller = Marionette.Object.extend( {\n\n\t\tinitialize: function() {\n\t\t\tthis.listenTo( radioChannel, 'change:modelValue', this.onChangeModelValue );\n\t\t\tthis.listenTo( radioChannel, 'keyup:field', this.dateKeyup );\n\t\t\tthis.listenTo( radioChannel, 'blur:field', this.onBlurField );\n\t\t\t\n\t\t\tthis.listenTo( radioChannel, 'change:extra', this.changeHoursMinutes, this)\n\t\t},\n\n\t\tonChangeModelValue: function( model ) {\n\t\t\tvar original = moment.locale();\n\t\t\tmoment.locale('ninja-forms');\n\t\t\tthis.dateChange( model );\n\t\t\tmoment.locale(original);\n\t\t},\n\n\t\tonBlurField: function( el, model ) {\n\t\t\tvar original = moment.locale();\n\t\t\tmoment.locale('ninja-forms');\n\t\t\tthis.dateChange( model );\n\t\t\tmoment.locale(original);\n\t\t},\n\n\t\tdateChange: function( model ) {\n\t\t\tvar fieldID = model.get( 'id' );\n\t\t\tvar value = model.get( 'value' );\n\t\t\tvar format = model.get( 'date_format' );\n\n\t\t\t// If we are dealing with purely a time field, bail early.\n\t\t\tif ( 'time_only' == model.get( 'date_mode' ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif ( 0 < value.length ) {\n\t\t\t\t// use moment's isValid to check against the fields format setting\n\t\t\t\tif( this.isDateValid(value, format, fieldID) ) {\n\t\t\t\t\tnfRadio.channel( 'fields' ).request( 'remove:error', fieldID, errorID );\n\t\t\t\t} else {\n\t\t\t\t\tvar fieldModel = nfRadio.channel( 'fields' ).request( 'get:field', fieldID );\n\t\t\t\t\tvar formModel  = nfRadio.channel( 'app'    ).request( 'get:form',  fieldModel.get( 'formID' ) );\n\t\t\t\t\tnfRadio.channel( 'fields' ).request( 'add:error', fieldID, errorID, formModel.get( 'settings' ).changeDateErrorMsg );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnfRadio.channel( 'fields' ).request( 'remove:error', fieldID, errorID );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * When a user types inside of an dat field, track their keypresses\n\t\t * and add the appropriate class.\n\t\t * If the value validates as an date, add a class of nf-pass\n\t\t * If the value does not validate as date, add a class of nf-fail\n\t\t *\n\t\t * @since  3.0\n\t\t * @param  {object} el    Element that triggered the keyup event.\n\t\t * @param  {object} model Model connected to the element that triggered the event\n\t\t * @return {void}\n\t\t */\n\t\tdateKeyup: function( el, model, keyCode ) {\n\n\t\t\t/*\n\t\t\t * If we pressed the 'tab' key to get to this field, return false.\n\t\t\t */\n\t\t\tif ( 9 == keyCode ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t/*\n\t\t\t * Get the current value from our element.\n\t\t\t */\n\t\t\tvar value = jQuery( el ).val();\n\n\t\t\t/*\n\t\t\t * Get our current ID\n\t\t\t */\n\t\t\tvar fieldID = model.get( 'id' );\n\n\t\t\t/*\n\t\t\t* Get our current date format\n\t\t\t */\n\t\t\tvar format = model.get( 'date_format' );\n\n\t\t\tvar original = moment.locale();\n\t\t\tmoment.locale('ninja-forms');\n\n\t\t\t/*\n\t\t\t * Check our value to see if it is a valid date.\n\t\t\t */\n\t\t\tif ( 0 == value.length ) {\n\t\t\t\tnfRadio.channel( 'fields' ).request( 'remove:error', fieldID, errorID );\n\t\t\t}\n\t\t\t// use moment's isValid to check against the fields format setting\n\t\t\telse if ( ! this.isDateValid(value, format, fieldID) && ! model.get( 'clean' ) ) {\n\n\t\t\t\tvar fieldModel = nfRadio.channel( 'fields' ).request( 'get:field', fieldID );\n\t\t\t\tvar formModel  = nfRadio.channel( 'app'    ).request( 'get:form',  fieldModel.get( 'formID' ) );\n\t\t\t\tnfRadio.channel( 'fields' ).request( 'add:error', fieldID, errorID, formModel.get( 'settings' ).changeDateErrorMsg );\n\n\t\t\t\tmodel.removeWrapperClass( 'nf-pass' );\n\t\t\t}\n\t\t\t// use moment's isValid to check against the fields format setting\n\t\t\telse if ( this.isDateValid(value, format, fieldID) ) {\n\t\t\t\tnfRadio.channel( 'fields' ).request( 'remove:error', fieldID, errorID );\n\t\t\t\t/*\n\t\t\t\t * Add nf-pass class to the wrapper.\n\t\t\t\t */\n\t\t\t\tmodel.addWrapperClass( 'nf-pass' );\n\t\t\t\tmodel.set( 'clean', false );\n\t\t\t}\n\t\t\tmoment.locale(original);\n\t\t},\n\n\t\tchangeHoursMinutes: function( e, fieldModel ) {\n\t\t\tlet type = '';\n\t\t\tlet container = jQuery( e.target ).closest( '.nf-field-element' );\n\n\t\t\t// Set our hour, minute, and ampm\n\t\t\tlet selected_hour = jQuery( container ).find( '.hour' ).val();\n\t\t\tlet selected_minute = jQuery( container ).find( '.minute' ).val();\n\t\t\tlet selected_ampm = jQuery( container ).find( '.ampm' ).val();\n\n\t\t\tfieldModel.set( 'selected_hour', selected_hour );\n\t\t\tfieldModel.set( 'selected_minute', selected_minute );\n\t\t\tfieldModel.set( 'selected_ampm', selected_ampm );\n\n\t\t\t// Detect time field inside a repeatable fieldset field to set correct value\n\t\t\tconst fieldId = fieldModel.get( 'id' );\n\t\t\tif(typeof fieldId === 'string' && fieldId.search(\".\") !== -1){\n\t\t\t\tconst setValue = typeof selected_ampm !== \"undefined\" ?\n\t\t\t\t\tselected_hour + \":\" + selected_minute + \" \" + selected_ampm :\n\t\t\t\t\tselected_hour + \":\" + selected_minute;\n\n\t\t\t\tif ( 'time_only' === fieldModel.get( 'date_mode' ) ) {\n\t\t\t\t\tfieldModel.set( 'value', setValue );\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tnfRadio.channel('field-repeater').trigger('set:value');\n\t\t\t}\n\t\t},\n\n\t\tisDateValid: function(value, format, fieldID){\n\t\t\tif(document.querySelector(\"[name='nf-field-\" + fieldID + \"']\") === null) return;\n\t\t\t//Get Date and Timestamp using the precise flatPickr instance of the field to catch the locale\n\t\t\tconst parseDate = document.querySelector(\"[name='nf-field-\" + fieldID + \"']\")._flatpickr.parseDate(value, format);\n\t\t\t// If parsedDate is undefined, the date is invalid\n\t\t\tif (!parseDate) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconst timestamp = parseDate.getTime();\n\t\t\tif (isNaN(timestamp)) {\n\t\t\t\treturn false; // Invalid date\n\t\t\t}\n\t\t\t//Convert timestamp back to Date object and string\n\t\t\tconst parsedDate = new Date(timestamp);\n\t\t\tconst formattedDate = document.querySelector(\"[name='nf-field-\" + fieldID + \"']\")._flatpickr.formatDate(parsedDate, format);\n\t\t\t// Check vlaue and date string are deeply equals\n\t\t\treturn formattedDate === value;\n\t\t}\n\n\t});\n\n\treturn controller;\n} );\n","define('controllers/fieldCheckbox',[], function() {\n\tvar controller = Marionette.Object.extend( {\n\t\tinitialize: function() {\n\t\t\t/*\n\t\t\t * When we init our checkbox model, register our renderClasses() function\n\t\t\t */\n\t\t\tthis.listenTo( nfRadio.channel( 'checkbox' ), 'init:model', this.registerRenderClasses );\n\n\t\t\tnfRadio.channel( 'checkbox' ).reply( 'validate:required', this.validateRequired );\n\t\t\tnfRadio.channel( 'checkbox' ).reply( 'validate:modelData', this.validateModelData );\n            nfRadio.channel( 'checkbox' ).reply( 'before:updateField', this.beforeUpdateField, this );\n            nfRadio.channel( 'checkbox' ).reply( 'get:calcValue', this.getCalcValue, this );\n\t\t},\n\n\t\tbeforeUpdateField: function( el, model ) {\n\t\t\tvar checked = jQuery( el ).prop( 'checked' );\n\t\t\tif ( checked ) {\n\t\t\t\tvar value = 1;\n\t\t\t\tjQuery( el ).addClass( 'nf-checked' );\n\t\t\t\tjQuery( el ).closest( '.field-wrap' ).find( 'label[for=\"' + jQuery( el ).prop( 'id' ) + '\"]' ).addClass( 'nf-checked-label' );\n\t\t\t} else {\n\t\t\t\tvar value = 0;\n\t\t\t\tjQuery( el ).removeClass( 'nf-checked' );\n\t\t\t\tjQuery( el ).closest( '.field-wrap' ).find( 'label[for=\"' + jQuery( el ).prop( 'id' ) + '\"]' ).removeClass( 'nf-checked-label' );\n\t\t\t}\n\n\t\t\treturn value;\n\t\t},\n\n\t\tvalidateRequired: function( el, model ) {\n\t\t\treturn el[0].checked;\n\t\t},\n\n\t\tvalidateModelData: function( model ) {\n\t\t\treturn model.get( 'value' ) != 0;\n\t\t},\n\n\t\tgetCalcValue: function( fieldModel ) {\n\t\t\tif ( 1 == fieldModel.get( 'value' ) ) {\n\t\t\t\tcalcValue = fieldModel.get( 'checked_calc_value' );\n\t\t\t} else {\n\t\t\t\tcalcValue = fieldModel.get( 'unchecked_calc_value' );\n\t\t\t}\n\n\t\t\treturn calcValue;\n\t\t},\n\n\t\tregisterRenderClasses: function( model ) {\n\t\t\tif ( 'checked' == model.get( 'default_value' ) ) {\n\t\t\t\tmodel.set( 'value', 1 );\n\t\t\t} else {\n\t\t\t\tmodel.set( 'value', 0 );\n\t\t\t}\n\t\t\tmodel.set( 'customClasses', this.customClasses );\n\t\t\tmodel.set( 'customLabelClasses', this.customLabelClasses );\n\t\t\tmodel.set( 'maybeChecked', this.maybeChecked );\n\t\t},\n\n\t\tcustomClasses: function( classes ) {\n\t\t\tif ( 1 == this.value || ( this.clean && 'undefined' != typeof this.default_value && 'checked' == this.default_value ) ) {\n\t\t\t\tclasses += ' nf-checked';\n\t\t\t} else {\n\t\t\t\tclasses.replace( 'nf-checked', '' );\n\t\t\t}\n\t\t\treturn classes;\n\t\t},\n\n\t\tcustomLabelClasses: function( classes ) {\n\t\t\tif ( 1 == this.value || ( this.clean && 'undefined' != typeof this.default_value && 'checked' == this.default_value ) ) {\n\t\t\t\tclasses += ' nf-checked-label';\n\t\t\t} else {\n\t\t\t\tclasses.replace( 'nf-checked-label', '' );\n\t\t\t}\n\t\t\treturn classes;\n\t\t},\n\n\t\tmaybeChecked: function() {\n\t\t\tif ( 1 == this.value || ( this.clean && 'undefined' != typeof this.default_value && 'checked' == this.default_value ) ) {\n\t\t\t\treturn ' checked';\n\t\t\t} else {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t}\n\t});\n\n\treturn controller;\n} );\n","define('controllers/fieldCheckboxList',[], function() {\n    var controller = Marionette.Object.extend( {\n        initialize: function() {\n            this.listenTo( nfRadio.channel( 'listcheckbox' ), 'init:model', this.register );\n            this.listenTo( nfRadio.channel( 'terms' ), 'init:model', this.register );\n            nfRadio.channel( 'listcheckbox' ).reply( 'before:updateField', this.beforeUpdateField, this );\n            nfRadio.channel( 'terms' ).reply( 'before:updateField', this.beforeUpdateField, this );\n            nfRadio.channel( 'listcheckbox' ).reply( 'get:calcValue', this.getCalcValue, this );\n            nfRadio.channel( 'terms' ).reply( 'get:calcValue', this.getCalcValue, this );\n        },\n\n        register: function( model ) {\n            model.set( 'renderOptions', this.renderOptions );\n            model.set( 'renderOtherText', this.renderOtherText );\n            model.set( 'selected', [] );\n\n            /*\n             * When we init a model, we need to set our 'value' to the selected option's value.\n             * This is the list equivalent of a 'default value'.\n             */ \n            if ( 0 != model.get( 'options' ).length ) {\n                var selected = _.filter( model.get( 'options' ), function( opt ) { return 1 == opt.selected } );\n                selected = _.map( selected, function( opt ) { return opt.value } );\n            }\n\n            /*\n            * This part is re-worked to take into account custom user-meta\n            * values for fields.\n             */\n\t        var savedVal = model.get( 'value' );\n\t        if( 'undefined' !== typeof savedVal && Array.isArray( savedVal ) ) {\n\t\t        model.set( 'value', savedVal );\n\t        } else if ( 'undefined' != typeof selected ) {\n\t\t        model.set( 'value', selected );\n\t        }\n        },\n\n        renderOptions: function() {\n            var html = '';\n\n            if ( '' == this.value || ( Array.isArray( this.value ) && 0 < this.value.length )\n                || 0 < this.value.length ) {\n                var valueFound = true;\n            } else {\n                var valueFound = false;\n            }\n\n            _.each( this.options, function( option, index ) {\n                if( Array.isArray( this.value ) ) {\n                \tif( Array.isArray( this.value[ 0 ] ) && -1 !== _.indexOf( this.value[ 0 ], option.value ) ) {\n                \t\tvalueFound = true;\n\t                }\n                    else if( _.indexOf( this.value, option.value ) ) {\n                        valueFound = true;\n\t                }\n                }\n\n                if ( option.value == this.value ) {\n                    valueFound = true;\n                }\n\n                /*\n                 * TODO: This is a bandaid fix for making sure that each option has a \"visible\" property.\n                 * This should be moved to creation so that when an option is added, it has a visible property by default.\n                 */\n                if ( 'undefined' == typeof option.visible ) {\n                    option.visible = true;\n                }\n\n                option.fieldID = this.id;\n                option.classes = this.classes;\n                option.index = index;\n                option.label = (typeof nfFrontEnd.filter_esc_status !== \"undefined\" && nfFrontEnd.filter_esc_status === \"true\") ? _.escape(option.label) : option.label;\n                \n                var selected = false;\n\t\t\t\t/*\n\t\t\t\t* This part has been re-worked to account for values passed in\n\t\t\t\t* via custom user-meta ( a la User Mgmt add-on)\n\t\t\t\t */\n\t            if( Array.isArray( this.value ) && 0 < this.value.length ) {\n\t            \tif ( -1 !== _.indexOf( this.value[ 0 ].split( ',' ), option.value )\n\t\t                || -1 !== _.indexOf( this.value, option.value ) ) {\n\t\t\t            selected = true;\n\t            \t}\n\t            } else if ( ! _.isArray( this.value ) && option.value == this.value ) {\n\t\t            selected = true;\n\t            } else if ( ( 1 == option.selected && this.clean ) && 'undefined' === typeof this.value ) {\n\t\t            selected = true;\n\t            }\n\n\n                // else if( ( option.selected && \"0\" != option.selected ) && this.clean ){\n\t            //     isSelected = true;\n\t            // } else {\n\t            //     var testValues = _.map( this.value, function( value ) {\n\t            //         return value.toString();\n\t            //     } );\n\t            //\n\t            //     option.isSelected = ( -1 != testValues.indexOf( option.value.toString() ) );\n\t            // }\n\t            option.selected = selected;\n\t            option.isSelected = selected;\n\t            option.required = this.required;\n                option.maybeFilterHTML = this.maybeFilterHTML;\n                var template = nfRadio.channel( 'app' ).request( 'get:template',  '#tmpl-nf-field-listcheckbox-option' );\n                html += template( option );\n            }, this );\n\n            if ( 1 == this.show_other ) {\n                if ( 'nf-other' == this.value ) {\n                    valueFound = false;\n                }\n                var data = {\n                    fieldID: this.id,\n                    classes: this.classes,\n                    currentValue: this.value,\n                    renderOtherText: this.renderOtherText,\n                    valueFound: valueFound\n                };\n\n                var template = nfRadio.channel( 'app' ).request( 'get:template',  '#tmpl-nf-field-listcheckbox-other' );\n                html += template( data );\n\n            }\n\n            return html;\n        },\n\n        renderOtherText: function() {\n            if ( 'nf-other' == this.currentValue || ! this.valueFound ) {\n                if ( 'nf-other' == this.currentValue ) {\n                    this.currentValue = '';\n                }\n                var data = {\n                    fieldID: this.fieldID,\n                    classes: this.classes,\n                    currentValue: this.currentValue\n                };\n                var template = nfRadio.channel( 'app' ).request( 'get:template',  '#tmpl-nf-field-listcheckbox-other-text' );\n                return template( data );\n            }\n        },\n\n        getCalcValue: function( fieldModel ) {\n            var calc_value = 0;\n            var options = fieldModel.get( 'options' );\n            if ( 0 != options.length ) {\n                _.each( fieldModel.get( 'value' ), function( val ) {\n                    var tmp_opt = _.find( options, function( opt ) { return opt.value == val } );\n                    calc_value = Number( calc_value ) + Number( tmp_opt.calc );\n                } );\n            }\n            return calc_value;\n        },\n\n        beforeUpdateField: function( el, model ) {\n            var selected = model.get( 'value' ) || [];\n            if ( typeof selected == 'string' ) selected = [ selected ];\n\n            var value = jQuery( el ).val();\n            var checked = jQuery( el ).prop( 'checked' );\n            if ( checked ) {\n                selected.push( value );\n                jQuery( el ).addClass( 'nf-checked' );\n                jQuery( el ).parent().find( 'label[for=\"' + jQuery( el ).prop( 'id' ) + '\"]' ).addClass( 'nf-checked-label' );\n            } else {\n                jQuery( el ).removeClass( 'nf-checked' );\n                jQuery( el ).parent().find( 'label[for=\"' + jQuery( el ).prop( 'id' ) + '\"]' ).removeClass( 'nf-checked-label' );\n                var i = selected.indexOf( value );\n                if( -1 != i ){\n                    selected.splice( i, 1 );\n                } else if ( Array.isArray( selected ) ) {\n                \tvar optionArray = typeof selected[0] !== \"undefined\" ? selected[0].split( ',' ) : [];\n                \tvar valueIndex = optionArray.indexOf( value );\n                \tif( -1 !== valueIndex) {\n                \t\toptionArray.splice( valueIndex, 1 );\n\t                }\n                \tselected = optionArray.join( ',' );\n                }\n            }\n\n            // if ( 1 == model.get( 'show_other' ) ) {\n            //     model.set( 'reRender', true );\n            // }\n\n            return _.clone( selected );\n        }\n    });\n\n    return controller;\n} );\n","define('controllers/fieldImageList',[], function() {\n    var controller = Marionette.Object.extend( {\n        initialize: function() {\n            this.listenTo( nfRadio.channel( 'listimage' ), 'init:model', this.register );\n            nfRadio.channel( 'listimage' ).reply( 'before:updateField', this.beforeUpdateField, this );\n            nfRadio.channel( 'listimage' ).reply( 'get:calcValue', this.getCalcValue, this );\n        },\n\n        register: function( model ) {\n            model.set( 'renderOptions', this.renderOptions );\n            model.set( 'renderOtherText', this.renderOtherText );\n            model.set( 'selected', [] );\n\n            /*\n             * When we init a model, we need to set our 'value' to the selected option's value.\n             * This is the list equivalent of a 'default value'.\n             */ \n            if ( 0 != model.get( 'image_options' ).length ) {\n                var selected = _.filter( model.get( 'image_options' ), function( opt ) { return 1 == opt.selected } );\n                selected = _.map( selected, function( opt ) { return opt.value } );\n            }\n\n            /*\n            * This part is re-worked to take into account custom user-meta\n            * values for fields.\n             */\n\t        var savedVal = model.get( 'value' );\n\t        if( 'undefined' !== typeof savedVal && Array.isArray( savedVal ) ) {\n\t\t        model.set( 'value', savedVal );\n\t        } else if ( 'undefined' != typeof selected ) {\n\t\t        model.set( 'value', selected );\n\t        }\n        },\n\n        renderOptions: function() {\n            var html = '';\n            \n            if ( '' == this.value || ( Array.isArray( this.value ) && 0 < this.value.length )\n                || 0 < this.value.length ) {\n                var valueFound = true;\n            } else {\n                var valueFound = false;\n            }\n\n            if (this.allow_multi_select === 1) {\n                this.old_classname = 'list-checkbox';\n                this.image_type = 'checkbox';\n            } else {\n                this.image_type = 'radio';\n            }\n\n            if(this.list_orientation === 'horizontal') {\n                this.flex_direction = 'row';\n            } else {\n                this.flex_direction = 'column';\n            }\n            var that = this;\n\n            var num_columns = parseInt(this.num_columns) || 1;\n            var current_column = 1;\n            var current_row = 1;\n            \n            _.each( this.image_options, function( image, index ) {\n                if (!this.show_option_labels) {\n                    image.label = '';\n                } else {\n                    image.label = (typeof nfFrontEnd.filter_esc_status !== \"undefined\" && nfFrontEnd.filter_esc_status === \"true\") ? _.escape(image.label) : image.label;\n                }\n                if( Array.isArray( this.value ) ) {\n                \tif( Array.isArray( this.value[ 0 ] ) && -1 !== _.indexOf( this.value[ 0 ], image.value ) ) {\n                \t\tvalueFound = true;\n\t                }\n                    else if( _.indexOf( this.value, image.value ) ) {\n                        valueFound = true;\n\t                }\n                }\n\n                if ( image.value == this.value ) {\n                    valueFound = true;\n                }\n\n                /*\n                 * TODO: This is a bandaid fix for making sure that each option has a \"visible\" property.\n                 * This should be moved to creation so that when an option is added, it has a visible property by default.\n                 */\n                if ( 'undefined' == typeof image.visible ) {\n                    image.visible = true;\n                }\n                \n                if(that.list_orientation === 'horizontal' && current_column <= num_columns) {\n                    image.styles = \"margin:auto;grid-column: \" + current_column + \"; grid-row = \" + current_row;\n\n                    if(current_column === num_columns) {\n                        current_column = 1;\n                        current_row += 1;\n                    } else {\n                        current_column += 1;\n                    }\n                }\n\n                image.image_type = that.image_type; \n                image.fieldID = this.id;\n                image.classes = this.classes;\n                image.index = index;\n\n                var selected = false;\n\t\t\t\t/*\n\t\t\t\t* This part has been re-worked to account for values passed in\n\t\t\t\t* via custom user-meta ( a la User Mgmt add-on)\n\t\t\t\t */\n\t            if( Array.isArray( this.value ) && 0 < this.value.length ) {\n\t            \tif ( -1 !== _.indexOf( this.value[ 0 ].split( ',' ), image.value )\n\t\t                || -1 !== _.indexOf( this.value, image.value ) ) {\n\t\t\t            selected = true;\n\t            \t}\n\t            } else if ( ! _.isArray( this.value ) && image.value == this.value ) {\n\t\t            selected = true;\n\t            } else if ( ( 1 == image.selected && this.clean ) && ('undefined' === typeof this.value || '' === this.value)) {\n\t\t            selected = true;\n\t            }\n\n\t            image.selected = selected;\n\t            image.isSelected = selected;\n\t            image.required = this.required;\n                image.maybeFilterHTML = this.maybeFilterHTML;\n                var template = nfRadio.channel( 'app' ).request( 'get:template',  '#tmpl-nf-field-listimage-option' );\n                html += template( image );\n            }, this );\n\n            if ( 1 == this.show_other ) {\n                if ( 'nf-other' == this.value ) {\n                    valueFound = false;\n                }\n                var data = {\n                    fieldID: this.id,\n                    classes: this.classes,\n                    value: this.value,\n                    currentValue: this.value,\n                    renderOtherText: this.renderOtherText,\n                    valueFound: valueFound\n                };\n\n                var template = nfRadio.channel( 'app' ).request( 'get:template',  '#tmpl-nf-field-listimage-other' );\n                html += template( data );\n\n            }\n\n            return html;\n        },\n\n        renderOtherText: function() {\n            if ( 'nf-other' == this.currentValue || ! this.valueFound ) {\n                if ( 'nf-other' == this.currentValue ) {\n                    this.currentValue = '';\n                }\n                var data = {\n                    fieldID: this.fieldID,\n                    classes: this.classes,\n                    currentValue: this.currentValue\n                };\n                var template = nfRadio.channel( 'app' ).request( 'get:template',  '#tmpl-nf-field-listimage-other-text' );\n                return template( data );\n            }\n        },\n\n        getCalcValue: function( fieldModel ) {\n\t\t\tvar calc_value = 0;\n\t\t\tvar options = fieldModel.get( 'options' );\n\t\t\tif ( 0 != options.length ) {\n\t\t\t\t/*\n\t\t\t\t * Check to see if this is a multi-select list.\n\t\t\t\t */\n\t\t\t\tif ( 1 == parseInt( fieldModel.get( 'allow_multi_select' ) ) ) {\n\t\t\t\t\t/*\n\t\t\t\t\t * We're using a multi-select, so we need to check out any selected options and add them together.\n\t\t\t\t\t */\n\t\t\t\t\t_.each( fieldModel.get( 'value' ), function( val ) {\n\t\t\t\t\t\tvar tmp_opt = _.find( options, function( opt ) { return opt.value == val } );\n\t\t\t\t\t\tcalc_value += Number( tmp_opt.calc );\n\t\t\t\t\t} );\n\t\t\t\t} else {\n\t\t\t\t\t/*\n\t\t\t\t\t * We are using a single select, so our selected option is in the 'value' attribute.\n\t\t\t\t\t */\n\t\t\t\t\tvar selected = _.find( options, function( opt ) { return fieldModel.get( 'value' ) == opt.value } );\n\t\t\t\t\t/*\n\t\t\t\t\t * If we have a selcted value, use it.\n\t\t\t\t\t */\n\t\t\t\t\tif ( 'undefined' !== typeof selected ) {\n                        calc_value = selected.calc;\n\t\t\t\t\t}\t\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn calc_value;\n        },\n\n        beforeUpdateField: function( el, model ) {\n\n            if(model.get('allow_multi_select') !== 1) {\n                var selected = jQuery( el ).val();\n                var options = model.get('image_options');\n                _.each(options, function(option, index) {\n                    if(option.value === selected) {\n                        option.isSelected = true;\n                        option.selected = true;\n                    } else {\n                        option.isSelected = false;\n                        option.selected = false;\n                    }\n                    if(!option.isSelected) {\n                        option.selected = false;\n                        jQuery(\"#nf-field-\" + option.fieldID + \"-\" + index).removeClass('nf-checked');\n                        jQuery(\"#nf-label-field-\" + option.fieldID + \"-\" + index).removeClass('nf-checked-label');\n                    } else {\n                        jQuery(\"#nf-field-\" + option.fieldID + \"-\" + index).addClass('nf-checked');\n                        jQuery(\"#nf-label-field-\" + option.fieldID + \"-\" + index).addClass('nf-checked-label');\n                    }\n                });\n            } else {\n                var selected = model.get( 'value' ) || [];\n                if ( typeof selected == 'string' ) selected = [ selected ];\n                var value = jQuery( el ).val();\n                var checked = jQuery( el ).prop( 'checked' );\n                if ( checked ) {\n                    selected.push( value );\n                    jQuery( el ).addClass( 'nf-checked' );\n                    jQuery( el ).parent().find( 'label[for=\"' + jQuery( el ).prop( 'id' ) + '\"]' ).addClass( 'nf-checked-label' );\n                } else {\n                    jQuery( el ).removeClass( 'nf-checked' );\n                    jQuery( el ).parent().find( 'label[for=\"' + jQuery( el ).prop( 'id' ) + '\"]' ).removeClass( 'nf-checked-label' );\n                    var i = selected.indexOf( value );\n                    if( -1 != i ){\n                        selected.splice( i, 1 );\n                    } else if ( Array.isArray( selected ) ) {\n                        var optionArray = selected[0].split( ',' );\n                        var valueIndex = optionArray.indexOf( value );\n                        if( -1 !== valueIndex) {\n                            optionArray.splice( valueIndex, 1 );\n                        }\n                        selected = optionArray.join( ',' );\n                    }\n                }\n            }\n\n            return _.clone( selected );\n        }\n    });\n\n    return controller;\n} );\n","define('controllers/fieldRadio',[], function() {\n\tvar controller = Marionette.Object.extend( {\n\t\tinitialize: function() {\n\t\t\tthis.listenTo( nfRadio.channel( 'listradio' ), 'change:modelValue', this.changeModelValue );\n\t\t\tthis.listenTo( nfRadio.channel( 'listradio' ), 'init:model', this.register );\n\t\t\tnfRadio.channel( 'listradio' ).reply( 'get:calcValue', this.getCalcValue, this );\n\t\t\t\n\t\t\tthis.listenTo( nfRadio.channel( 'listradio' ), 'change:field', this.updateCheckedClass, this );\n\t\t},\n\n\t\tregister: function( model ) {\n\t\t\tmodel.set( 'renderOptions', this.renderOptions );\n\t\t\tmodel.set( 'renderOtherText', this.renderOtherText );\n\t\t\t/*\n\t\t\t * When we init a model, we need to set our 'value' to the selected option's value.\n\t\t\t * This is the list equivalent of a 'default value'.\n\t\t\t */ \n\t\t\tif ( 0 != model.get( 'options' ).length ) {\n\t\t\t\t/*\n\t\t\t\t * Check to see if we have a selected value.\n\t\t\t\t */\n\t\t\t\tvar selected = _.find( model.get( 'options' ), function( opt ) { return 1 == opt.selected } );\n\n\t\t\t\tif ( 'undefined' != typeof selected ) {\n\t\t\t\t\tmodel.set( 'value', selected.value );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tchangeModelValue: function( model ) {\n\t\t\tif ( 1 == model.get( 'show_other' ) ) {\n\t\t\t\t// model.set( 'reRender', true );\n\t\t\t\tmodel.trigger( 'reRender');\n\t\t\t}\n\t\t},\n\n\t\trenderOptions: function() {\n\t\t\tvar html = '';\n\t\t\tif ( '' == this.value ) {\n\t\t\t\tvar valueFound = true;\n\t\t\t} else {\n\t\t\t\tvar valueFound = false;\n\t\t\t}\n\t\t\t\n\t\t\t_.each( this.options, function( option, index ) {\n\t\t\t\tif ( option.value == this.value ) {\n\t\t\t\t\tvalueFound = true;\n\t\t\t\t}\n\n\t\t\t\t/*\n                 * TODO: This is a bandaid fix for making sure that each option has a \"visible\" property.\n                 * This should be moved to creation so that when an option is added, it has a visible property by default.\n                 */\n                if ( 'undefined' == typeof option.visible ) {\n                    option.visible = true;\n                }\n\n                option.selected = false;\n\t\t\t\toption.fieldID = this.id;\n\t\t\t\toption.classes = this.classes;\n\t\t\t\toption.currentValue = this.value;\n\t\t\t\toption.index = index;\n\t\t\t\toption.label = (typeof nfFrontEnd.filter_esc_status !== \"undefined\" && nfFrontEnd.filter_esc_status === \"true\") ? _.escape(option.label) : option.label;\n\t\t\t\toption.required = this.required;\n\n\t\t\t\t/*\n\t\t\t\t * If we haven't edited this field yet, use the default checked\n\t\t\t\t */\n\t\t\t\tif ( this.clean && 1 == this.selected ) {\n\t\t\t\t\toption.selected = true;\n\t\t\t\t} else if ( this.value == option.value ) {\n\t\t\t\t\toption.selected = true;\n\t\t\t\t} else {\n\t\t\t\t\toption.selected = false;\n\t\t\t\t}\n\n                option.maybeFilterHTML = this.maybeFilterHTML;\n\t\t\t\tvar template = nfRadio.channel( 'app' ).request( 'get:template',  '#tmpl-nf-field-listradio-option' );\n\n\t\t\t\thtml += template( option );\n\t\t\t}, this );\n\n\t\t\tif ( 1 == this.show_other ) {\n\t\t\t\tif ( 'nf-other' == this.value ) {\n\t\t\t\t\tvalueFound = false;\n\t\t\t\t}\n\t\t\t\tvar data = {\n\t\t\t\t\tfieldID: this.id,\n\t\t\t\t\tclasses: this.classes,\n\t\t\t\t\tcurrentValue: this.value,\n\t\t\t\t\trenderOtherText: this.renderOtherText,\n\t\t\t\t\tvalueFound: valueFound\n\t\t\t\t};\n\t\t\t\tvar template = nfRadio.channel( 'app' ).request( 'get:template',  '#tmpl-nf-field-listradio-other' );\n\t\t\t\thtml += template( data );\n\t\t\t}\n\n\t\t\treturn html;\n\t\t},\n\n\t\trenderOtherText: function() {\n\t\t\tif ( 'nf-other' == this.currentValue || ! this.valueFound ) {\n\t\t\t\tif ( 'nf-other' == this.currentValue ) {\n\t\t\t\t\tthis.currentValue = '';\n\t\t\t\t}\n\t\t\t\tvar data = {\n\t\t\t\t\tfieldID: this.fieldID,\n\t\t\t\t\tclasses: this.classes,\n\t\t\t\t\tcurrentValue: this.currentValue\n\t\t\t\t};\n\t\t\t\tvar template = nfRadio.channel( 'app' ).request( 'get:template',  '#tmpl-nf-field-listradio-other-text' );\n\t\t\t\treturn template( data );\n\t\t\t}\n\t\t},\n\n\t\tgetCalcValue: function( fieldModel ) {\n\t\t\t\n            /*\n             * Default to 0, in case we have no selection.\n             */\n            var calc_value = 0;\n            \n\t\t\tif ( 0 != fieldModel.get( 'options' ).length ) {\n\t\t\t\t/*\n\t\t\t\t * Check to see if we have a selected value.\n\t\t\t\t */\n\t\t\t\tvar selected = _.find( fieldModel.get( 'options' ), function( opt ) { return fieldModel.get( 'value' ) == opt.value } );\n\t\t\t\tif ( 'undefined' !== typeof selected ) {\n                    calc_value = selected.calc;\n\t\t\t\t}\n\n\t\t\t}\n\t\t\treturn calc_value;\n\t\t},\n\n\t\tupdateCheckedClass: function( el, model ) {\n\t\t\tjQuery( '[name=\"' + jQuery( el ).attr( 'name' ) + '\"]' ).removeClass( 'nf-checked' );\n\t\t\tjQuery( el ).closest( 'ul' ).find( 'label' ).removeClass( 'nf-checked-label' );\n\t\t\tjQuery( el ).addClass( 'nf-checked' );\n\t\t\tjQuery( el ).closest( 'li' ).find( 'label[for=\"' + jQuery( el ).prop( 'id' ) + '\"]' ).addClass( 'nf-checked-label' );\n\n\n\t\t}\n\n\t});\n\n\treturn controller;\n} );\n","define('controllers/fieldNumber',[], function() {\n    var controller = Marionette.Object.extend( {\n        initialize: function() {\n            this.listenTo( nfRadio.channel( 'number' ), 'init:model', this.maybeMinDefault );\n            this.listenTo( nfRadio.channel( 'number' ), 'keyup:field', this.validateEntry );\n        },\n\n        maybeMinDefault: function( model ) {\n\n            if( '' == model.get( 'value' ) && '' == model.get( 'placeholder' ) ){\n                var min = model.get( 'num_min' );\n                model.set( 'placeholder', min );\n            }\n        },\n\n        validateEntry: function( el, model ) {\n            var $el = jQuery( el );\n            var val = $el.val();\n            var floatVal = parseFloat( val );\n            var min = $el.attr( 'min' );\n            var max = $el.attr( 'max' );\n            var step = $el.attr( 'step' ) ? $el.attr( 'step' ) : '1';\n\n            if( min && floatVal < min ){\n                var fieldModel = nfRadio.channel( 'fields' ).request( 'get:field', model.get( 'id' ) );\n                var formModel  = nfRadio.channel( 'app'    ).request( 'get:form',  fieldModel.get( 'formID' ) );\n                nfRadio.channel( 'fields' ).request( 'add:error', model.get( 'id' ), 'number-min', formModel.get( 'settings' ).fieldNumberNumMinError );\n            } else {\n                nfRadio.channel( 'fields' ).request( 'remove:error', model.get( 'id' ), 'number-min' );\n            }\n\n            if ( max && floatVal > max ){\n                var fieldModel = nfRadio.channel( 'fields' ).request( 'get:field', model.get( 'id' ) );\n                var formModel  = nfRadio.channel( 'app'    ).request( 'get:form',  fieldModel.get( 'formID' ) );\n                nfRadio.channel( 'fields' ).request( 'add:error', model.get( 'id' ), 'number-max', formModel.get( 'settings' ).fieldNumberNumMaxError );\n            } else {\n                nfRadio.channel( 'fields' ).request( 'remove:error', model.get( 'id' ), 'number-max' );\n            }\n\n            testVal = val.split('.');\n            testVal = typeof(testVal[1]) !== 'undefined' ? testVal[1].length : 0;\n            testStep = step.split('.');\n            testStep = typeof(testStep[1]) !== 'undefined' ? testStep[1].length : 0;\n            factor = Math.pow(10, testStep);\n\n            if( step && val && ( testVal > testStep || 0 !== (factor * floatVal) % (factor * parseFloat(step))) ){\n                var fieldModel = nfRadio.channel( 'fields' ).request( 'get:field', model.get( 'id' ) );\n                var formModel  = nfRadio.channel( 'app'    ).request( 'get:form',  fieldModel.get( 'formID' ) );\n                nfRadio.channel( 'fields' ).request( 'add:error', model.get( 'id' ), 'number-step', formModel.get( 'settings' ).fieldNumberIncrementBy + step );\n            } else {\n                nfRadio.channel( 'fields' ).request( 'remove:error', model.get( 'id' ), 'number-step' );\n            }\n        }\n\n    });\n\n    return controller;\n} );\n","define( 'controllers/mirrorField',[], function() {\n\tvar radioChannel = nfRadio.channel( 'fields' );\n\n\tvar controller = Marionette.Object.extend( {\n\t\tlisteningModel: '',\n\n\t\tinitialize: function() {\n\t\t\tthis.listenTo( radioChannel, 'init:model', this.registerMirror );\n\t\t},\n\n\t\tregisterMirror: function( model ) {\n\t\t\tif ( model.get( 'mirror_field' ) ) {\n\t\t\t\tthis.listeningModel = model;\n\t\t\t\tvar targetID = model.get( 'mirror_field' );\n\t\t\t\tthis.listenTo( nfRadio.channel( 'field-' + targetID ), 'change:modelValue', this.changeValue );\n\t\t\t}\n\t\t},\n\n\t\tchangeValue: function( targetModel ) {\n\t\t\tthis.listeningModel.set( 'value', targetModel.get( 'value' ) );\n\t\t\t// this.listeningModel.set( 'reRender', true );\n\t\t\tthis.listeningModel.trigger( 'reRender' );\n\t\t}\n\t});\n\n\treturn controller;\n} );\n","define( 'controllers/confirmField',[], function() {\n\tvar radioChannel = nfRadio.channel( 'fields' );\n\tvar errorID = 'confirm-mismatch';\n\n\tvar controller = Marionette.Object.extend( {\n\n\t\tinitialize: function() {\n\t\t\tthis.listenTo( radioChannel, 'init:model', this.registerConfirm );\n\t\t\tthis.listenTo( radioChannel, 'keyup:field', this.confirmKeyup );\n\t\t},\n\n\t\tregisterConfirm: function( confirmModel ) {\n\t\t\tif ( ! confirmModel.get( 'confirm_field' ) ) return;\n\n\t\t\tthis.listenTo( nfRadio.channel( 'form' ), 'loaded', function( formModal ){\n\t\t\t\tthis.registerConfirmListeners( confirmModel );\n\t\t\t});\n\t\t},\n\n\t\tregisterConfirmListeners: function( confirmModel ) {\n\t\t\t\n\t\t\tvar targetModel = nfRadio.channel( 'form-' + confirmModel.get( 'formID' ) ).request( 'get:fieldByKey', confirmModel.get( 'confirm_field' ) );\n\n\t\t\t//TODO: Add better handling for password confirm fields on the front end.\n\t\t\tif( 'undefined' == typeof targetModel ) return;\n\n\t\t\ttargetModel.set( 'confirm_with', confirmModel.get( 'id' ) );\n\t\t\tthis.listenTo( nfRadio.channel( 'field-' + targetModel.get( 'id' ) ), 'change:modelValue', this.changeValue );\n\t\t\tthis.listenTo( nfRadio.channel( 'field-' + confirmModel.get( 'id' ) ), 'change:modelValue', this.changeValue );\n\t\t},\n\n\t\tchangeValue: function( model ) {\n\t\t\tif ( 'undefined' == typeof model.get( 'confirm_with' ) ) {\n\t\t\t\tvar confirmModel = model;\n\t\t\t\tvar targetModel = nfRadio.channel( 'form-' + model.get( 'formID' ) ).request( 'get:fieldByKey', confirmModel.get( 'confirm_field' ) );\n\t\t\t} else {\n\t\t\t\tvar targetModel = model;\n\t\t\t\tvar confirmModel = radioChannel.request( 'get:field', targetModel.get( 'confirm_with' ) );\n\t\t\t}\n\t\t\tvar targetID = targetModel.get( 'id' );\n\t\t\tvar confirmID = confirmModel.get( 'id' );\n\n\t\t\tif ( '' == confirmModel.get( 'value' ) || confirmModel.get( 'value' ) == targetModel.get( 'value' ) ) {\n\t\t\t\tnfRadio.channel( 'fields' ).request( 'remove:error', confirmID, errorID );\n\t\t\t} else {\n\t\t\t\tvar fieldModel = nfRadio.channel( 'fields' ).request( 'get:field', confirmID );\n\t\t\t\tvar formModel  = nfRadio.channel( 'app'    ).request( 'get:form',  fieldModel.get( 'formID' ) );\n\t\t\t\tnfRadio.channel( 'fields' ).request( 'add:error', confirmID, errorID, formModel.get( 'settings' ).confirmFieldErrorMsg );\n\t\t\t}\n\t\t},\n\t\t\n\t\tconfirmKeyup: function( el, model, keyCode ) {\n\n\t\t\tvar currentValue = jQuery( el ).val();\n\t\t\tif ( model.get( 'confirm_field' ) ) {\n\t\t\t\tvar confirmModel = model;\n\t\t\t\tvar confirmID = model.get( 'id' );\n\t\t\t\tvar targetModel = nfRadio.channel( 'form-' + model.get( 'formID' ) ).request( 'get:fieldByKey', confirmModel.get( 'confirm_field' ) );\n\t\t\t\tvar compareValue = targetModel.get( 'value' );\n\t\t\t\tvar confirmValue = currentValue;\n\t\t\t} else if ( model.get( 'confirm_with' ) ) {\n\t\t\t\tvar confirmModel = nfRadio.channel( 'fields' ).request( 'get:field', model.get( 'confirm_with' ) );\n\t\t\t\tvar confirmID = confirmModel.get( 'id' );\n\t\t\t\tvar confirmValue = confirmModel.get( 'value' );\n\t\t\t\tvar compareValue = confirmValue;\n\t\t\t}\n\n\t\t\tif ( 'undefined' !== typeof confirmModel ) {\n\t\t\t\tif ( '' == confirmValue ) {\n\t\t\t\t\tnfRadio.channel( 'fields' ).request( 'remove:error', confirmID, errorID );\n\t\t\t\t} else if ( currentValue == compareValue ) {\n\t\t\t\t\tnfRadio.channel( 'fields' ).request( 'remove:error', confirmID, errorID );\n\t\t\t\t} else {\n\t\t\t\t\tvar fieldModel = nfRadio.channel( 'fields' ).request( 'get:field', confirmID );\n\t\t\t\t\tvar formModel  = nfRadio.channel( 'app'    ).request( 'get:form',  fieldModel.get( 'formID' ) );\n\t\t\t\t\tnfRadio.channel( 'fields' ).request( 'add:error', confirmID, errorID, formModel.get( 'settings' ).confirmFieldErrorMsg );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\treturn controller;\n} );\n","define('controllers/updateFieldModel',[], function() {\n\tvar controller = Marionette.Object.extend( {\n\t\tinitialize: function() {\n\t\t\tnfRadio.channel( 'nfAdmin' ).reply( 'update:field', this.updateField );\n\t\t},\n\n\t\tupdateField: function( model, value ) {\n\t\t\tif ( ! model.get( 'isUpdated' ) ) {\n\t\t\t\tmodel.set( 'value', value );\n\t\t\t\tmodel.set( 'isUpdated', true );\n\t\t\t\t/*\n\t\t\t\t * If we're working with an array, it won't trigger a change event on the value attribute.\n\t\t\t\t * Instead, we have to manually trigger a change event.\n\t\t\t\t */ \n\t\t\t\tif ( _.isArray( value ) ) {\n\t\t\t\t\tmodel.trigger( 'change:value', model );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\treturn controller;\n} );\n","define('controllers/submitButton',['controllers/submitButton'], function( submitButton ) {\n\tvar controller = Marionette.Object.extend( {\n\t\tbound: {},\n\n\t\tinitialize: function() {\n\t\t\tthis.listenTo( nfRadio.channel( 'submit' ), 'init:model', this.registerHandlers );\n\t\t},\n\n\t\tregisterHandlers: function( fieldModel ) {\n\t\t\tif ( 'undefined' != typeof this.bound[ fieldModel.get( 'id' ) ] ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tthis.listenTo( nfRadio.channel( 'field-' + fieldModel.get( 'id' ) ), 'click:field', this.click, this );\n\t\t\t/*\n\t\t\t * Register an interest in the 'before:submit' event of our form.\n\t\t\t */\n\t\t\tfieldModel.listenTo( nfRadio.channel( 'form-' + fieldModel.get( 'formID' ) ), 'before:submit', this.beforeSubmit, fieldModel );\n\t\t\tfieldModel.listenTo( nfRadio.channel( 'form-' + fieldModel.get( 'formID' ) ), 'submit:failed', this.resetLabel, fieldModel );\n\t\t\tfieldModel.listenTo( nfRadio.channel( 'form-' + fieldModel.get( 'formID' ) ), 'submit:response', this.resetLabel, fieldModel );\n\t\t\tfieldModel.listenTo( nfRadio.channel( 'form-' + fieldModel.get( 'formID' ) ), 'enable:submit', this.maybeEnable, fieldModel );\n\t\t\tfieldModel.listenTo( nfRadio.channel( 'form-' + fieldModel.get( 'formID' ) ), 'disable:submit', this.maybeDisable, fieldModel );\n\t\t\tfieldModel.listenTo( nfRadio.channel( 'form-' + fieldModel.get( 'formID' ) ), 'processingLabel', this.processingLabel, fieldModel );\n\n\t\t\tfieldModel.listenTo( nfRadio.channel( 'fields' ), 'add:error', this.maybeDisable, fieldModel );\n\t\t\tfieldModel.listenTo( nfRadio.channel( 'fields' ), 'remove:error', this.maybeEnable, fieldModel );\n\t\t\t\n\t\t\tthis.bound[ fieldModel.get( 'id') ] = true;\n\t\t},\n\n\t\tclick: function( e, fieldModel ) {\n\t\t\tvar formModel = nfRadio.channel( 'app' ).request( 'get:form', fieldModel.get( 'formID' ) );\n\t\t\tif(_.size(formModel.get('fieldErrors')) > 0){\n\t\t\t\tnfRadio.channel( 'submit' ).request( 'focus:firstInvalidInput', Object.keys(formModel.get('fieldErrors')) );\n\t\t\t}\n\t\t\tnfRadio.channel( 'form-' + fieldModel.get( 'formID' ) ).request( 'submit', formModel );\n\t\t},\n\n\t\tbeforeSubmit: function() {\n\t\t\tif(this.get('disabled')) return;\n\n\t\t\tthis.set( 'disabled', true );\n\t\t\tnfRadio.channel( 'form-' + this.get( 'formID' ) ).trigger( 'processingLabel', this );\n\t\t},\n\n\t\tmaybeDisable: function( fieldModel ) {\n\n\t\t\tif( 'undefined' != typeof fieldModel && fieldModel.get( 'formID' ) != this.get( 'formID' ) ) return;\n\n\t\t\tthis.set( 'disabled', true );\n\t\t\tthis.trigger( 'reRender' );\n\t\t},\n\n\t\tmaybeEnable: function( fieldModel ) {\n\t\t\t/*\n\t\t\t * If the field reporting the error is not on the same form as the submit button, return false;\n\t\t\t */\n\t\t\tif ( 'undefined' != typeof fieldModel && fieldModel.get( 'formID' ) != this.get( 'formID' ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t\n\t\t\tvar formModel = nfRadio.channel( 'app' ).request( 'get:form', this.get( 'formID' ) );\n\t\t\tif ( 0 == _.size( formModel.get( 'fieldErrors' ) ) ) {\n\t\t\t\tthis.set( 'disabled', false );\n\t\t\t\tthis.trigger( 'reRender' );\n\t\t\t}\n\t\t},\n\n\t\tprocessingLabel: function() {\n\n\t\t\tthis.set( 'oldLabel', this.get( 'label' ) );\n\t\t\tthis.set( 'label', this.get( 'processing_label' ) );\n\t\t\tthis.set( 'disabled', true );\n\t\t\tthis.trigger( 'reRender' );\n\t\t},\n\n\t\tresetLabel: function( response ) {\n\t\t\tif ( 'undefined' != typeof response.errors &&\n\t\t\t\t 'undefined' != typeof response.errors.nonce &&\n\t\t\t\t _.size( response.errors.nonce ) > 0 ) {\n\t\t\t\tif( 'undefined' != typeof response.errors.nonce.new_nonce && 'undefined' != typeof response.errors.nonce.nonce_ts ) {\n\t\t\t\t\t// Do not reset label for nonce errors, which will re-submit the form.\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( 'undefined' != typeof this.get( 'oldLabel' ) ) {\n\t\t\t\tthis.set( 'label', this.get( 'oldLabel' ) );\n\t\t\t}\n\t\t\tthis.set( 'disabled', false );\n\t\t\tthis.trigger( 'reRender' );\n\t\t}\n\n\t});\n\n\treturn controller;\n} );\n","define('controllers/submitDebug',[], function() {\n    var controller = Marionette.Object.extend( {\n        initialize: function() {\n            this.listenTo( nfRadio.channel( 'forms' ), 'submit:response', this.submitDebug );\n        },\n\n        submitDebug: function( response, textStatus, jqXHR, formID ) {\n\n            if( 'undefined' == typeof response.debug ) return;\n\n            /* Form Debug Messages */\n            if( 'undefined' != typeof response.debug.form ) {\n                var debugMessages = document.createElement( 'span' );\n                _.each(response.debug.form, function (message, index) {\n                    var messageText = document.createTextNode( message );\n                    debugMessages.appendChild( messageText );\n                    debugMessages.appendChild(\n                        document.createElement( 'br' )\n                    );\n                });\n                jQuery('.nf-debug-msg').html( debugMessages );\n            }\n\n            /* Console Debug Messages */\n            if( 'undefined' != typeof response.debug.console ) {\n                var style = '';\n                console.log( '%c%s', style, 'NINJA SUPPORT' );\n                _.each(response.debug.console, function (message, index) {\n                    console.log( message );\n                });\n                console.log( '%c%s', style, 'END NINJA SUPPORT' );\n            }\n        }\n\n    });\n\n    return controller;\n} );\n\n","define('controllers/getFormErrors',[], function() {\n\tvar radioChannel = nfRadio.channel( 'fields' );\n\tvar controller = Marionette.Object.extend( {\n\t\tinitialize: function( model ) {\n\t\t\tnfRadio.channel( 'form' ).reply( 'get:errors', this.getFormErrors );\n\t\t},\n\n\t\tgetFormErrors: function( formID ) {\n\t\t\tvar formModel = nfRadio.channel( 'app' ).request( 'get:form', formID );\n\t\t\tvar errors = false;\n\t\t\t\n\t\t\tif ( formModel ) {\n\t\t\t\t/*\n\t\t\t\t * Check to see if we have any errors on our form model.\n\t\t\t\t */\n\t\t\t\tif ( 0 !== formModel.get( 'errors' ).length ) {\n\t\t\t\t\t_.each( formModel.get( 'errors' ).models, function( error ) {\n\t\t\t\t\t\terrors = errors || {};\n\t\t\t\t\t\terrors[ error.get( 'id' ) ] = error.get( 'msg' );\n\t\t\t\t\t} );\t\t\t\t\t\t\n\t\t\t\t}\n\n\t\t\t\t_.each( formModel.get( 'fields' ).models, function( field ) {\n\t\t\t\t\tif ( field.get( 'type' ) != 'submit' && field.get( 'errors' ).length > 0 ) {\n\t\t\t\t\t\terrors = errors || {};\n\t\t\t\t\t\terrors[ field.get( 'id' ) ] = field.get( 'errors' );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\t\t\treturn errors;\n\t\t},\n\t});\n\n\treturn controller;\n} );\n","define('controllers/validateRequired',[], function() {\n\tvar controller = Marionette.Object.extend( {\n\t\tinitialize: function() {\n\t\t\tthis.listenTo( nfRadio.channel( 'fields' ), 'blur:field', this.validateRequired );\n\t\t\tthis.listenTo( nfRadio.channel( 'fields' ), 'change:field', this.validateRequired );\n\t\t\tthis.listenTo( nfRadio.channel( 'fields' ), 'keyup:field', this.validateKeyup );\n\n\t\t\tthis.listenTo( nfRadio.channel( 'fields' ), 'change:modelValue', this.validateModelData );\n\t\t\tthis.listenTo( nfRadio.channel( 'submit' ), 'validate:field', this.validateModelData );\n\t\t},\n\t\t\n\t\tvalidateKeyup: function( el, model, keyCode ) {\n\t\t\tif ( 1 != model.get( 'required' ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif ( ! model.get( 'clean' ) ) {\n\t\t\t\tthis.validateRequired( el, model );\n\t\t\t}\n\t\t},\n\n\t\tvalidateRequired: function( el, model ) {\n\t\t\tif ( 1 != model.get( 'required' ) || ! model.get( 'visible' ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar currentValue = jQuery( el ).val();\n\t\t\tvar customReqValidation = nfRadio.channel( model.get( 'type' ) ).request( 'validate:required', el, model );\n\t\t\tvar defaultReqValidation = true;\n\n\t\t\tvar maskPlaceholder = this.getMask( model );\n\n            // If the field has a mask...\n            // AND that mask is equal to the current value...            \n            if ( maskPlaceholder && currentValue === maskPlaceholder ) {\n                // If we have a pre-existing error...\n                // OR if this field has been previously focused...\n                if ( 0 < model.get( 'errors' ).length || ! model.get( 'clean' ) ) {\n                    // Persist that error.\n                    defaultReqValidation = false;\n                }\n            }\n            // If our value is an empty string...\n            if ( ! String(currentValue).trim() ) {\n                // Throw an error.\n                defaultReqValidation = false;\n            }\n\n\t\t\tif ( 'undefined' !== typeof customReqValidation ) {\n\t\t\t\tvar valid = customReqValidation;\n\t\t\t} else {\n\t\t\t\tvar valid = defaultReqValidation;\n\t\t\t}\n\n\t\t\tthis.maybeError( valid, model );\n\t\t},\n\n\t\tgetMask: function( model ) {\n\t\t\tvar mask = model.get( 'mask' );\n\n\t\t\tif(\"undefined\" === typeof mask) return;\n\t\t\t\n\t\t\tswitch(mask) {\n\t\t\t\tcase '':\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'currency':\n\t\t\t\t\tmask = nfi18n.currencySymbol;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'custom':\n\t\t\t\t\tmask = model.get( 'custom_mask' );\n\t\t\t\t\t/**\n\t\t\t\t\t * Break intentionally excluded so that this case\n\t\t\t\t\t * also executes the contents of default.\n\t\t\t\t\t */\n\t\t\t\tdefault:\n\t\t\t\t\tmask = mask.replace( /9/g, '_' );\n\t\t\t\t\tmask = mask.replace( /a/g, '_' );\n\t\t\t\t\tmask = mask.replace( /\\*/g, '_' );\n\t\t\t}\n\t\t\treturn mask;\n\t\t},\n\n\t\tvalidateModelData: function( model ) {\n\n\t\t\tif ( 1 != model.get( 'required' ) || ! model.get( 'visible' ) || model.get( 'clean' ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * If we already have a required error on this model, return false\n\t\t\t */\n\t\t\tif ( model.get( 'errors' ).get( 'required-error' ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tcurrentValue = model.get( 'value' );\n\n\t\t\tvar defaultReqValidation = true;\n\n\t\t\tif ( ! String(currentValue).trim() ) {\n\t\t\t\tdefaultReqValidation = false;\n\t\t\t}\n\n\t\t\tvar customReqValidation = nfRadio.channel( model.get( 'type' ) ).request( 'validate:modelData', model );\n\t\t\tif ( 'undefined' !== typeof customReqValidation ) {\n\t\t\t\tvar valid = customReqValidation;\n\t\t\t} else {\n\t\t\t\tvar valid = defaultReqValidation;\n\t\t\t}\n\n\t\t\tthis.maybeError( valid, model );\n\n\t\t},\n\n\t\tmaybeError: function( valid, model ) {\n\t\t\tif ( ! valid ) {\n\n\t\t\t\tvar formModel  = nfRadio.channel( 'form-' + model.get( 'formID' ) ).request( 'get:form' );\n\t\t\t\t\n\t\t\t\tif( 'undefined' != typeof formModel ) {\n\t\t\t\t\tnfRadio.channel('fields').request('add:error', model.get('id'), 'required-error', formModel.get('settings').validateRequiredField );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnfRadio.channel( 'fields' ).request( 'remove:error', model.get( 'id' ), 'required-error' );\n\t\t\t}\t\t\t\n\t\t}\n\t});\n\n\treturn controller;\n} );\n\n","define('controllers/submitError',[], function() {\n\tvar controller = Marionette.Object.extend( {\n\t\tinitialize: function() {\n\t\t\tthis.listenTo( nfRadio.channel( 'forms' ), 'submit:response', this.submitErrors );\n\t\t\t//Focus first invalid input after catching errors during submission\n\t\t\tnfRadio.channel( 'submit' ).reply( 'focus:firstInvalidInput',  this.focusFirstInvalidInput );\n\t\t},\n\n\t\tsubmitErrors: function( response, textStatus, jqXHR, formID ) {\n\n\t\t\t// Check for nonce error.\n\t\t\tif ( _.size( response.errors.nonce ) > 0 ) {\n\t\t\t\tif( 'undefined' != typeof response.errors.nonce.new_nonce && 'undefined' != typeof response.errors.nonce.nonce_ts ) {\n\t\t\t\t\t// Update nonce from response.\n\t\t\t\t\tnfFrontEnd.ajaxNonce = response.errors.nonce.new_nonce;\n\t\t\t\t\tnfFrontEnd.nonce_ts = response.errors.nonce.nonce_ts;\n\t\t\t\t\t// Re-submit form.\n\t\t\t\t\tvar formModel = nfRadio.channel( 'app' ).request( 'get:form', formID );\n\t\t\t\t\tnfRadio.channel( 'form-' + formID ).request( 'submit', formModel );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( _.size( response.errors.fields ) > 0 ) {\n\t\t\t\t_.each( response.errors.fields, function( data, fieldID ) {\n                    if ( typeof( data ) === 'object' ) {\n                        nfRadio.channel( 'fields' ).request( 'add:error', fieldID, data.slug, data.message );\n                    } else {\n                        nfRadio.channel( 'fields' ).request( 'add:error', fieldID, 'required-error', data );\n                    }\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tif ( _.size( response.errors.form ) > 0 ) {\n\t\t\t\t_.each( response.errors.form, function( msg, errorID ) {\n\t\t\t\t\tnfRadio.channel( 'form-' + formID ).request( 'remove:error', errorID );\n\t\t\t\t\tnfRadio.channel( 'form-' + formID ).request( 'add:error', errorID, msg );\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tif ( 'undefined' != typeof response.errors.last ) {\n\t\t\t\tif( 'undefined' != typeof response.errors.last.message ) {\n\t\t\t\t\tvar style = 'background: rgba( 255, 207, 115, .5 ); color: #FFA700; display: block;';\n\t\t\t\t\tconsole.log( '%c NINJA FORMS SUPPORT: SERVER ERROR', style );\n\t\t\t\t\tconsole.log( response.errors.last.message );\n\t\t\t\t\tconsole.log( '%c END SERVER ERROR MESSAGE', style );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * TODO: This needs to be re-worked for backbone. It's not dynamic enough.\n\t\t\t */\n\t\t\t/*\n\t\t\t * Re-show any hidden fields during a form submission re-start.\n\t\t\t */\n\t\t\tjQuery( '#nf-form-' + formID + '-cont .nf-field-container' ).show();\n\t\t},\n\n\t\tfocusFirstInvalidInput: function(errors) {\n\t\t\tconst targetID = nfRadio.channel( 'fields' ).request( 'get:firstFieldByOrder', errors );\n\t\t\tif(document.getElementById(\"nf-field-\"+ targetID) !== null){\n\t\t\t\tdocument.getElementById(\"nf-field-\"+ targetID).focus();\n\t\t\t}\n\t\t}\n\n\t});\n\n\treturn controller;\n} );\n\n","define('controllers/actionRedirect',[], function() {\n\tvar controller = Marionette.Object.extend( {\n\t\tinitialize: function() {\n\t\t\tthis.listenTo( nfRadio.channel( 'forms' ), 'submit:response', this.actionRedirect );\n\t\t},\n\n\t\tactionRedirect: function( response ) {\n\n\t\t\tif ( 'undefined' != typeof response.data.halt && 'undefined' != typeof response.data.halt.redirect && '' != response.data.halt.redirect ) {\n\t\t\t\twindow.location = response.data.halt.redirect;\n\t\t\t}\n\n\t\t\tif ( _.size( response.errors ) == 0 && 'undefined' != typeof response.data.actions ) {\n\n\t\t\t\tif ( 'undefined' != typeof response.data.actions.redirect && '' != response.data.actions.redirect ) {\n\t\t\t\t\twindow.location = response.data.actions.redirect;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t});\n\n\treturn controller;\n} );\n","define('controllers/actionSuccess',[], function() {\n\tvar controller = Marionette.Object.extend( {\n\t\tinitialize: function() {\n\t\t\tthis.listenTo( nfRadio.channel( 'forms' ), 'submit:response', this.actionSubmit );\n\t\t},\n\n\t\tactionSubmit: function( response ) {\n\t\t\tif ( _.size( response.errors ) == 0 && 'undefined' != typeof response.data.actions ) {\n\t\t\t\tif ( 'undefined' != typeof response.data.actions.success_message && '' != response.data.actions.success_message ) {\n\t\t\t\t\tvar form_id = response.data.form_id;\n\t\t\t\t\tvar success_message = jQuery( '#nf-form-' + form_id + '-cont .nf-response-msg' );\n\t\t\t\t\tconst read = response.data.actions.success_message.replace( /(<([^>]+)>)/ig, '');\n\t\t\t\t\tsuccess_message.attr('tabindex', '0');\n\t\t\t\t\tsuccess_message.attr('aria-live', 'assertive');\n\t\t\t\t\tsuccess_message.attr(\"aria-label\", read);\n\t\t\t\t\t\n\t\t\t\t\tsuccess_message.html( response.data.actions.success_message ).show();\n\t\t\t\t\tsuccess_message.focus();\n\t\t\t\t\t//Let's check if the success message is already fully visible in the viewport without scrolling\n\t\t\t\t\tvar top_of_success_message = success_message.offset().top;\n\t\t\t\t\tvar bottom_of_success_message = success_message.offset().top + success_message.outerHeight();\n\t\t\t\t\tvar bottom_of_screen = jQuery(window).scrollTop() + jQuery(window).height();\n\t\t\t\t\tvar top_of_screen = jQuery(window).scrollTop();\n\n\t\t\t\t\tvar the_element_is_visible = ((bottom_of_screen > bottom_of_success_message) && (top_of_screen < top_of_success_message));\n\n\t\t\t\t\tif(!the_element_is_visible){\n\t\t\t\t\t\t//The element isn't visible, so let's scroll to the success message as in the previous release, but with a short animation\n\t\t\t\t\t\tjQuery('html, body').animate({\n\t\t\t\t\t\t\tscrollTop: ( success_message.offset().top - 50 )\n\t\t\t\t\t\t}, 300 );\n\t\t\t\t\t}\t\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t});\n\n\treturn controller;\n} );\n\n","define('controllers/fieldSelect',[], function() {\n\tvar controller = Marionette.Object.extend( {\n\t\tinitialize: function() {\n\n\t\t\tthis.listenTo( nfRadio.channel( 'fields' ), 'init:model', function( model ){\n\t\t\t\tif( 'list' == model.get( 'parentType' ) ) this.register( model );\n\t\t\t}, this );\n\n\t\t\tnfRadio.channel( 'listselect' ).reply( 'get:calcValue', this.getCalcValue, this );\n\t\t\tnfRadio.channel( 'listmultiselect' ).reply( 'get:calcValue', this.getCalcValue, this );\n\t\t},\n\n\t\tregister: function( model ) {\n\t\t\tmodel.set( 'renderOptions', this.renderOptions );\n\t\t\tmodel.set( 'renderOtherAttributes', this.renderOtherAttributes );\n\t\t\t/*\n\t\t\t * When we init a model, we need to set our 'value' to the selected option's value.\n\t\t\t * This is the list equivalent of a 'default value'.\n\t\t\t */ \n\t\t\tif ( 0 != model.get( 'options' ).length ) {\n\t\t\t\t//Check to see if there is a value set for the field\n\t\t\t\tvar savedVal = model.get( 'value' );\n\n\t\t\t\t/*\n\t\t\t\t * Check to see if this is a multi-select list.\n\t\t\t\t */\n\t\t\t\tif ( 'listmultiselect' == model.get( 'type' ) ) {\n\t\t\t\t\t/*\n\t\t\t\t\t * We're using a multi-select, so we need to check out any selected options and add them together.\n\t\t\t\t\t */\n\t\t\t\t\tvar selected = _.filter( model.get( 'options' ), function( opt ) { return 1 == opt.selected } );\n\t\t\t\t\tselected = _.map( selected, function( opt ) { return opt.value } );\n\t\t\t\t\tvar value = selected;\n\t\t\t\t} else if ( 'listradio' !== model.get( 'type' ) ) {\n\t\t\t\t\t/*\n\t\t\t\t\t * Check to see if we have a selected value.\n\t\t\t\t\t */\n\t\t\t\t\tvar selected = _.find( model.get( 'options' ), function( opt ) { return 1 == opt.selected } );\n\t\t\t\t\t/*\n\t\t\t\t\t * We don't have a selected value, so use our first option.\n\t\t\t\t\t */\n\t\t\t\t\tif ( 'undefined' == typeof selected ) {\n\t\t\t\t\t\tselected = _.first( model.get( 'options' ) );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( 'undefined' != typeof selected\n\t\t\t\t\t\t&& 'undefined' != typeof selected.value ) {\n\t\t\t\t\t\tvar value = selected.value;\n\t\t\t\t\t} else if ( 'undefined' != typeof selected ) {\n\t\t\t\t\t\tvar value = selected.label;\n\t\t\t\t\t}\t\n\t\t\t\t}\n\n\t\t\t\t/*\n\t            * This part is re-worked to take into account custom user-meta\n\t            * values for fields.\n\t             */\n\t\t\t\tif( 'undefined' !== typeof savedVal && '' !== savedVal\n\t\t\t\t\t&& Array.isArray( savedVal ) ) {\n\t\t\t\t\tmodel.set( 'value', savedVal );\n\t\t\t\t} else if ( 'undefined' != typeof selected ) {\n\t\t\t\t\tmodel.set( 'value', value );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\trenderOptions: function() {\n\t\t\tvar html = '';\n\n\t\t\t_.each( this.options, function( option ) {\n\t\t\t\t/*\n\t\t\t\t* This part has been re-worked to account for values passed in\n\t\t\t\t* via custom user-meta ( a la User Mgmt add-on)\n\t\t\t\t */\n\t\t\t\tif ( _.isArray( this.value ) ) {\n                    // If we have a multiselect list...\n                    // AND it has selected values...\n\t\t\t\t\tif( 'listmultiselect' === this.type && 0 < this.value.length &&\n\t\t\t\t\t\t-1 != _.indexOf( this.value[ 0 ].split( ',' ), option.value ) ) {\n\t\t\t\t\t\tvar selected = true;\n\t\t\t\t\t} else if( -1 != _.indexOf( this.value, option.value ) ) {\n\t\t\t\t\t\tvar selected = true;\n\t\t\t\t\t}\n\t\t\t\t} else if ( ! _.isArray( this.value ) && option.value == this.value ) {\n\t\t\t\t\tvar selected = true;\n\t\t\t\t} else if ( ( 1 == option.selected && this.clean )\n\t\t\t\t\t&& 'undefined' === typeof this.value ) {\n\t\t\t\t\tvar selected = true;\n\t\t\t\t} else {\n\t\t\t\t\tvar selected = false;\n\t\t\t\t}\n\n\t\t\t\t/*\n                 * TODO: This is a bandaid fix for making sure that each option has a \"visible\" property.\n                 * This should be moved to creation so that when an option is added, it has a visible property by default.\n                 */\n                if ( 'undefined' == typeof option.visible ) {\n                    option.visible = true;\n                }\n\n\t\t\t\toption.selected = selected;\n\t\t\t\toption.fieldID = this.id;\n\t\t\t\toption.classes = this.classes;\n\t\t\t\toption.currentValue = this.value;\n\t\t\t\toption.label = (typeof nfFrontEnd.filter_esc_status !== \"undefined\" && nfFrontEnd.filter_esc_status === \"true\") ? _.escape(option.label) : option.label;\n\t\t\t\t\n                option.maybeFilterHTML = this.maybeFilterHTML;\n\t\t\t\tvar template = nfRadio.channel( 'app' ).request( 'get:template',  '#tmpl-nf-field-listselect-option' );\n\t\t\t\thtml += template( option );\n\t\t\t}, this );\n\n\t\t\treturn html;\n\t\t},\n\n\t\trenderOtherAttributes: function() {\n\t\t\tvar otherAttributes = '';\n\n\t\t\tif( 'listmultiselect' == this.type ){\n\t\t\t\totherAttributes = otherAttributes + ' multiple';\n\n\t\t\t\tvar multiSize = this.multi_size || 5;\n\t\t\t\totherAttributes = otherAttributes + ' size=\"' + multiSize + '\"';\n\t\t\t}\n\n\t\t\treturn otherAttributes;\n\t\t},\n\n\t\tgetCalcValue: function( fieldModel ) {\n\t\t\tvar calc_value = 0;\n\t\t\tvar options = fieldModel.get( 'options' );\n\t\t\tif ( 0 != options.length ) {\n\t\t\t\t/*\n\t\t\t\t * Check to see if this is a multi-select list.\n\t\t\t\t */\n\t\t\t\tif ( 'listmultiselect' == fieldModel.get( 'type' ) ) {\n\t\t\t\t\t/*\n\t\t\t\t\t * We're using a multi-select, so we need to check out any selected options and add them together.\n\t\t\t\t\t */\n\t\t\t\t\t_.each( fieldModel.get( 'value' ), function( val ) {\n\t\t\t\t\t\tvar tmp_opt = _.find( options, function( opt ) { return opt.value == val } );\n\t\t\t\t\t\tcalc_value += Number( tmp_opt.calc );\n\t\t\t\t\t} );\n\t\t\t\t} else {\n\t\t\t\t\t/*\n\t\t\t\t\t * We are using a single select, so our selected option is in the 'value' attribute.\n\t\t\t\t\t */\n\t\t\t\t\tvar selected = _.find( options, function( opt ) { return fieldModel.get( 'value' ) == opt.value } );\n\t\t\t\t\t/*\n\t\t\t\t\t * We don't have a selected value, so use our first option.\n\t\t\t\t\t */\n\t\t\t\t\tif ( 'undefined' == typeof selected ) {\n\t\t\t\t\t\tselected = fieldModel.get( 'options' )[0];\n\t\t\t\t\t}\t\t\n\t\t\t\t\tcalc_value  = selected.calc;\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn calc_value;\n\t\t}\n\n\t});\n\n\treturn controller;\n} );\n\n","define('controllers/coreSubmitResponse',[], function() {\n\tvar controller = Marionette.Object.extend( {\n\t\tinitialize: function() {\n\t\t\tthis.listenTo( nfRadio.channel( 'forms' ), 'submit:response', this.actionSubmit );\n\t\t},\n\n\t\tactionSubmit: function( response ) {\n\t\t\tvar formModel = nfRadio.channel( 'app' ).request( 'get:form', response.data.form_id );\n\t\t\t/*\n\t\t\t * If we have errors, don't hide or clear.\n\t\t\t */\n\t\t\tif ( 0 != _.size( response.errors ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif ( 1 == response.data.settings.clear_complete ) {\n\t\t\t\t// nfRadio.channel( 'form-' + response.data.form_id ).trigger( 'reset' );\n\t\t\t\tformModel.get( 'fields' ).reset( formModel.get( 'loadedFields' ) );\n                if ( 1 != response.data.settings.hide_complete ) {\n                    nfRadio.channel( 'captcha' ).trigger( 'reset' );\n                }\n\t\t\t}\n\n\t\t\tif ( 1 == response.data.settings.hide_complete ) {\n\t\t\t\t/**\n\t\t\t\t * TODO: This needs to be re-worked for backbone. It's not dynamic enough.\n\t\t\t\t */\n\t\t\t\tformModel.trigger( 'hide' );\n\t\t\t\t// jQuery( '.nf-fields' ).hide();\n\t\t\t\t// jQuery( '.nf-form-title' ).hide();\n\t\t\t}\n\t\t}\n\n\t});\n\n\treturn controller;\n} );\n","define('controllers/fieldProduct',[], function() {\n    var controller = Marionette.Object.extend( {\n        initialize: function() {\n            this.listenTo( nfRadio.channel( 'product' ), 'init:model', this.register );\n            nfRadio.channel( 'product' ).reply( 'get:calcValue', this.getCalcValue, this );\n        },\n\n        register: function( model ) {\n            model.set( 'renderProductQuantity', this.renderProductQuantity );\n            model.set( 'renderProduct', this.renderProduct );\n            model.set( 'renderOptions', this.renderOptions );\n        },\n\n        renderProduct: function(){\n            switch( this.product_type ) {\n                case 'user':\n                    var template = nfRadio.channel( 'app' ).request( 'get:template',  '#tmpl-nf-field-textbox' );\n                    return template( this );\n                    break;\n                case 'hidden':\n                    var template = nfRadio.channel( 'app' ).request( 'get:template',  '#tmpl-nf-field-hidden' );\n                    return template( this );\n                    break;\n\n                case 'dropdown':\n                    var template = nfRadio.channel( 'app' ).request( 'get:template',  '#tmpl-nf-product-dropdown' );\n                    return template( this );\n                    break;\n                default:\n                    var template = nfRadio.channel( 'app' ).request( 'get:template',  '#tmpl-nf-product-single' );\n                    return template( this );\n            }\n        },\n\n        renderProductQuantity: function(){\n            if ( 1 == this.product_use_quantity ) {\n                var template = nfRadio.channel( 'app' ).request( 'get:template',  '#tmpl-nf-product-quantity' );\n                return template( this );\n            }\n        },\n\n        renderOptions: function() {\n            var that = this;\n            var html = '';\n            _.each( this.options, function( option ) {\n                if ( 1 == option.selected ) {\n                    var selected = true;\n                } else {\n                    var selected = false;\n                }\n\n                option.selected = selected;\n                option.fieldID = that.id;\n                option.classes = that.classes;\n                option.currentValue = that.value;\n\n                var template = nfRadio.channel( 'app' ).request( 'get:template',  '#tmpl-nf-product-' + that.product_type + '-option' );\n                html += template( option );\n            } );\n\n            return html;\n        },\n\n        getCalcValue: function( fieldModel ) {\n\n            var product_price = fieldModel.get( 'product_price' );\n            var product_quantity = fieldModel.get( 'value' );\n\n            return product_price * product_quantity;\n        }\n    });\n\n    return controller;\n} );\n\n","define('controllers/fieldTotal',[], function() {\n    var controller = Marionette.Object.extend( {\n\n        totalModel: {},\n\n        productTotals: {},\n\n        initialize: function() {\n            this.listenTo( nfRadio.channel( 'total' ), 'init:model', this.register );\n            this.listenTo( nfRadio.channel( 'shipping' ), 'init:model', this.registerShipping );\n        },\n\n        register: function( totalModel ){\n            this.totalModel = totalModel;\n\n            var formID = totalModel.get( 'formID' );\n            this.listenTo( nfRadio.channel( 'form-' + formID ), 'loaded', this.onFormLoaded );\n\n            this.listenTo( nfRadio.channel( 'product' ), 'change:modelValue', this.onChangeProduct );\n            this.listenTo( nfRadio.channel( 'quantity' ), 'change:modelValue', this.onChangeQuantity );\n        },\n\n        registerShipping: function( shippingModel ){\n            this.shippingCost = shippingModel.get( 'shipping_cost' );\n        },\n\n        onFormLoaded: function( formModel ){\n\n            var fieldModels = formModel.get( 'fields' ).models;\n\n            var productFields = {};\n            var quantityFields = {};\n\n            for( var model in fieldModels ){\n\n                var field = fieldModels[ model ];\n                var fieldID = field.get( 'id' );\n\n                // TODO: Maybe use switch\n                if( 'product' == field.get( 'type' ) ){\n                    productFields[ fieldID ] = field;\n                } else if( 'quantity' == field.get( 'type' ) ){\n                    var productID = field.get( 'product_assignment' );\n                    quantityFields[ productID ] = field;\n                }\n            }\n\n            for( var productID in productFields ){\n\n                var product = productFields[ productID ];\n\n                var productPrice = Number( product.get( 'product_price' ) );\n\n                if( quantityFields[ productID ] ){\n\n                    productPrice *= quantityFields[ productID ].get( 'value' );\n\n                } else if( 1 == product.get( 'product_use_quantity' ) ){\n\n                    productPrice *= product.get( 'value' );\n\n                }\n\n                this.productTotals[ productID ] = productPrice;\n            }\n\n            this.updateTotal();\n        },\n\n        onChangeProduct: function( model ){\n            var productID = model.get( 'id' );\n            var productPrice = Number( model.get( 'product_price' ) );\n            var productQuantity = Number( model.get( 'value' ) );\n            var newTotal = productQuantity * productPrice;\n            this.productTotals[ productID ] = newTotal;\n\n            this.updateTotal();\n        },\n\n        onChangeQuantity: function( model ){\n            var productID = model.get( 'product_assignment' );\n            var productField = nfRadio.channel( 'fields' ).request( 'get:field', productID );\n            var productPrice = Number( productField.get( 'product_price' ) );\n\n            var quantity = Number( model.get( 'value' ) );\n\n            var newTotal = quantity * productPrice;\n\n            this.productTotals[ productID ] = newTotal;\n\n            this.updateTotal();\n        },\n\n        updateTotal: function(){\n\n            var newTotal = 0;\n\n            for( var product in this.productTotals ){\n                newTotal += Number( this.productTotals[ product ] );\n            }\n\n            if( newTotal && this.shippingCost ) {\n                // Only add shipping if there is a cost.\n                newTotal += Number(this.shippingCost);\n            }\n\n            this.totalModel.set( 'value', newTotal.toFixed( 2 ) );\n            this.totalModel.trigger( 'reRender' );\n        }\n    });\n\n    return controller;\n});\n","define('controllers/fieldQuantity',[], function() {\n    var controller = Marionette.Object.extend( {\n\n        initialize: function() {\n            this.listenTo( nfRadio.channel( 'quantity' ), 'init:model', this.registerQuantity );\n        },\n\n        registerQuantity: function( model ){\n            var productID = model.get( 'product_assignment' );\n            var product = nfRadio.channel( 'fields' ).request( 'get:field', productID );\n\n            if( product ) {\n                product.set('product_use_quantity', 0);\n            }\n        },\n\n    });\n\n    return controller;\n});\n","/**\n * Model that represents a calculation.\n *\n * On init, we trigger a radio message so that controllers can do things when a calc model inits.\n */\ndefine( 'models/calcModel',[], function() {\n\tvar model = Backbone.Model.extend( {\n\t\tinitialize: function() {\n\t\t\t// Set our form id\n\t\t\tthis.set( 'formID', this.collection.options.formModel.get( 'id' ) );\n\t\t\t// Set our initial fields object to empty. This will hold our key/value pairs.\n\t\t\tthis.set( 'fields', {} );\n\t\t\t// Trigger a radio message to let controllers know we've inited this model.\n\t\t\tnfRadio.channel( 'calc' ).trigger( 'init:model', this );\n\t\t\t// When we change the value of this calculation, send out a radio message\n\t\t\tthis.on( 'change:value', this.changeValue, this );\n\t\t},\n\n\t\t/**\n\t\t * Trigger a radio message when a field present in our calculation changes\n\t\t *\n\t\t * The listener that triggers/calls this function is in controllers/calculations\n\t\t * \n\t\t * @since  3.0\n\t\t * @return void\n\t\t */\n\t\tchangeField: function( fieldModel ) {\n\t\t\tnfRadio.channel( 'calc' ).trigger( 'change:field', this, fieldModel );\n\t\t},\n\n\t\tchangeCalc: function( targetCalcModel ) {\n\t\t\tnfRadio.channel( 'calc' ).trigger( 'change:calc', this, targetCalcModel );\n\t\t},\n\n\t\tchangeValue: function() {\n\t\t\tnfRadio.channel( 'calc' ).trigger( 'change:value', this );\n\t\t}\n\t} );\n\n\treturn model;\n} );\n\n","define( 'models/calcCollection',['models/calcModel'], function( CalcModel ) {\n\tvar collection = Backbone.Collection.extend( {\n\t\tmodel: CalcModel,\n\t\tcomparator: 'order',\n\n\t\tinitialize: function( models, options ) {\n\t\t\tthis.options = options;\n            _.each( models, function( model ) {\n            \tif( 'undefined' == typeof model.dec ) return;\n                if ( '' === model.dec.toString().trim() ) model.dec = 2;\n                model.dec = parseInt( model.dec );\n            } );\n\t\t\t/*\n\t\t\t * Respond to requests for our calc model\n\t\t\t */\n\t\t\tnfRadio.channel( 'form-' + options.formModel.get( 'id' ) ).reply( 'get:calc', this.getCalc, this );\n\t\t},\n\n\t\tgetCalc: function( key ) {\n\t\t\treturn this.findWhere( { name: key } );\n\t\t}\n\t} );\n\treturn collection;\n} );\n","/**\n * Controller responsible for keeping up with calculations.\n */\ndefine('controllers/calculations',['models/calcCollection'], function( CalcCollection ) {\n\tvar controller = Marionette.Object.extend( {\n\t\tinitialize: function() {\n\t\t\tthis.calcs = {};\n\t\t\tthis.displayFields = {};\n\t\t\t// When our form initialises, check to see if there are any calculations that need to be tracked.\n\t\t\tthis.listenTo( nfRadio.channel( 'form' ), 'loaded', this.registerCalcs );\n            \n            // When our collection gets reset, reset calculation tracking as well.\n            this.listenTo( nfRadio.channel( 'fields' ), 'reset:collection', this.resetCalcs );\n\n\t\t\t// When a calc model is initialised, run a setup function.\n\t\t\t// this.listenTo( nfRadio.channel( 'calc' ), 'init:model', this.setupCalc );\n\n\t\t\t// When a field referenced by a calc model changes, update our calc.\n\t\t\tthis.listenTo( nfRadio.channel( 'calc' ), 'change:field', this.changeField );\n\n\t\t\t// When a calculation referenced by a calc model changes, update our calc.\n\t\t\tthis.listenTo( nfRadio.channel( 'calc' ), 'change:calc', this.changeCalc );\n\n\t\t\t/*\n\t\t\t * Listen to our field model init for fields that want to display calc values.\n\t\t\t * If that field has a calc merge tag, replace it with the default calc value.\n\t\t\t */\n\t\t\tvar that = this;\n\t\t\t_.each( nfFrontEnd.use_merge_tags.calculations, function( fieldType ) {\n\t\t\t\tthat.listenTo( nfRadio.channel( 'fields-' + fieldType ), 'init:model', that.initDisplayField );\n\t\t\t} );\n\t\t\t\n\t\t\t// When we change our calc value, update any display fields.\n\t\t\tthis.listenTo( nfRadio.channel( 'calc' ), 'change:value', this.updateDisplayFields );\n\n\t\t\t// Set an init variable so that we only call reRender on the display field on change, not on init.\n\t\t\tthis.init = {};\n\t\t},\n        \n        /**\n         * Passthrough function to reset tracking of calculations when the fieldCollection is reset.\n         * \n         * @since 3.2\n         * @param backbone.collection fieldCollection\n         * @return void\n         */\n        resetCalcs: function( fieldCollection ) {\n            if( 'undefined' != typeof( fieldCollection.options.formModel ) ) {\n                this.registerCalcs( fieldCollection.options.formModel );  \n            }\n        },\n\n\t\t/**\n\t\t * When our form loads, create a collection out of any calculations.\n\t\t * \n\t\t * @since  3.0\n\t\t * @param  backbone.model formModel\n\t\t * @return void\n\t\t */\n\t\tregisterCalcs: function( formModel ) {\n\t\t\tvar calcCollection = new CalcCollection( formModel.get( 'settings' ).calculations, { formModel: formModel } );\n\t\t\tthis.calcs[ formModel.get( 'id' ) ] = calcCollection;\n\t\t\tvar that = this;\n\n\t\t\t_.each( calcCollection.models, function( calcModel ) {\n\t\t\t\t/*\n\t\t\t\t * We set a property on our init variable for the calc model we're looping over.\n\t\t\t\t * This property is set to true so that when we make changes to the calc model on the next line\n\t\t\t\t * the field view doesn't try to redraw itself.\n\t\t\t\t * If we don't do this, the 'reRender' attribute of the model will be set before the view is initialized,\n\t\t\t\t * which means that setting 'reRender' to true will never re-render the view.\n\t\t\t\t */\n\t\t\t\tthat.init[ calcModel.get( 'name' ) ] = true;\n\t\t\t\t// Setup our calculation models with initial values and register listeners for calc-related fields.\n\t\t\t\tthat.setupCalc( calcModel );\n\t\t\t} );\n\t\t},\n\n\t\t/**\n\t\t * When a calculation model is instantiated from the registerCalcs function:\n\t\t *\n\t\t * Use a regex to get an array of the field keys\n\t\t * Setup an initial key/values array\n\t\t * Check for any references to other calculations\n\t\t * Set the initial value of our calculation\n\t\t * \n\t\t * @since  3.0\n\t\t * @param  backbone.model calcModel\n\t\t * @return void\n\t\t */\n\t\tsetupCalc: function( calcModel ) {\n\t\t\t// Setup our that var so we can access 'this' context in our loop.\n\t\t\tvar that = this;\n\t\t\t// Get our equation\n\t\t\tvar eq = calcModel.get( 'eq' );\n\t\t\t// We want to keep our original eq intact, so we use a different var for string replacment.\n\t\t\tvar eqValues = eq;\n            // Store the name for debugging later.\n            var calcName = calcModel.get( 'name' );\n\n\t\t\t/* TODO:\n\t\t\t * It might be possible to refactor these two if statements.\n\t\t\t * The difficulty is that each has a different method of retreiving the specific data model.\n\t\t\t */\n\t\t\t// Check to see if we have any field merge tags in our equation.\n\t\t\tvar fields = eq.match( new RegExp( /{field:(.*?)}/g ) );\n\t\t\tif ( fields ) {\n\t\t\t\t/*\n\t\t\t\t * fields is now an array of field keys that looks like:\n\t\t\t\t * ['{field:key'], ['{field:key'], etc.\n\t\t\t\t *\n\t\t\t\t * We need to run a function with each of our field keys to setup our field key array and hook up our field change listner.\n\t\t\t\t */\n\t\t\t\t\n\t\t\t\tfields = fields.map( function( field ) {\n\t\t\t\t\t// field will be {field:key}\n\t\t\t\t\tvar key = field.replace( ':calc}', '' ).replace( '}', '' ).replace( '{field:', '' );\n\n\t\t\t\t\t// Get our field model\n\t\t\t\t\tfieldModel = nfRadio.channel( 'form-' + calcModel.get( 'formID' ) ).request( 'get:fieldByKey', key );\n\n                    if( 'undefined' == typeof fieldModel ) return;\n\n                    fieldModel.set( 'clean', false );\n\n\t\t\t\t\t// Register a listener in our field model for value changes.\n\t\t\t\t\tfieldModel.on( 'change:value', calcModel.changeField, calcModel );\n\t\t\t\t\t// Get our calc value from our field model.\n\t\t\t\t\tvar calcValue = that.getCalcValue( fieldModel );\n\t\t\t\t\t// Add this field to our internal key/value object.\n\t\t\t\t\tthat.updateCalcFields( calcModel, key, calcValue );\n\t\t\t\t\t// Update the string tracking our merged eq with the calc value.\n\t\t\t\t\teqValues = that.replaceKey( 'field', key, calcValue, eqValues );\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\t// Check to see if we have any calc merge tags in our equation.\n\t\t\tvar calcs = eq.match( new RegExp( /{calc:(.*?)}/g ) );\n\t\t\tif ( calcs ) {\n\t\t\t\t/*\n\t\t\t\t * calcs is now an array of calc keys that looks like:\n\t\t\t\t * ['{calc:key'], ['{calc:key'], etc.\n\t\t\t\t *\n\t\t\t\t * We need to run a function with each of our calc keys to setup our calc key array and hook up our calc change listner.\n\t\t\t\t */\n\t\t\t\t\n\t\t\t\tcalcs = calcs.map( function( calc ) {\n\t\t\t\t\t// calc will be {calc:name}\n\t\t\t\t\tvar name = calc.replace( '}', '' ).replace( '{calc:', '' );\n\t\t\t\t\t// Get our calc model\n\t\t\t\t\tvar targetCalcModel = calcModel.collection.findWhere( { name: name } );\n\n\t\t\t\t\tif( 'undefined' == typeof targetCalcModel ) return;\n\n\t\t\t\t\t// Listen for changes on our calcluation, since we need to update our calc when it changes.\n\t\t\t\t\ttargetCalcModel.on( 'change:value', calcModel.changeCalc, calcModel );\n\t\t\t\t\t// // Get our calc value from our calc model.\n\t\t\t\t\tvar calcValue = targetCalcModel.get( 'value' );\n\t\t\t\t\t// Update the string tracking our merged eq with the calc value.\n\t\t\t\t\teqValues = that.replaceKey( 'calc', name, calcValue, eqValues );\n\t\t\t\t} );\n\n\t\t\t}\n\n            // Scrub unmerged tags (ie deleted/nox-existent fields/calcs, etc).\n            eqValues = eqValues.replace( /{([a-zA-Z0-9]|:|_|-)*}/g, 0 );\n            // Scrub line breaks.\n            eqValues = eqValues.replace( /\\r?\\n|\\r/g, '' );\n\t\t\t// Evaluate the equation and update the value of this model.\n\t\t\ttry {\n\t\t\t\tthis.debug('Calculation Decoder ' + eqValues + ' -> ' + this.localeDecodeEquation(eqValues) + ' (Setup)');\n\t\t\t\tconst mexp = new Mexp;\n\t\t\t\tcalcModel.set( 'value', Number( mexp.eval( this.localeDecodeEquation(eqValues) ) ).toFixed( calcModel.get( 'dec' ) ) );\n\t\t\t} catch( e ) {\n                //console.log( calcName );\n\t\t\t\tconsole.log( e );\n\t\t\t}\n            \n            // If for whatever reason, we got NaN, reset that to 0.\n            if( calcModel.get( 'value' ) === 'NaN' ) calcModel.set( 'value', '0' );\n\n\t\t\t// Debugging console statement.\n\t\t\t// console.log( eqValues + ' = ' + calcModel.get( 'value' ) );\n\t\t},\n\n\t\t/**\n\t\t * Update an item in our key/value pair that represents our fields and calc values.\n\t\t * \n\t\t * @since  3.0\n\t\t * @param  backbone.model \tcalcModel\n\t\t * @param  string \t\t\tkey\n\t\t * @param  string \t\t\tcalcValue\n\t\t * @return void\n\t\t */\n\t\tupdateCalcFields: function( calcModel, key, calcValue ) {\n\t\t\tvar fields = calcModel.get( 'fields' );\n\t\t\tfields[ key ] = calcValue;\n\t\t\tcalcModel.set( 'fields', fields );\n\t\t},\n\n\t\t/**\n\t\t * Get a calc value from a field model.\n\t\t *\n\t\t * Sends a request to see if there's a special calc value\n\t\t * Uses the value of the field if there is not.\n\t\t * \n\t\t * @since  3.0\n\t\t * @param  backbone.model fieldModel\n\t\t * @return value\n\t\t */\n\t\tgetCalcValue: function( fieldModel ) {\n\t\t\t/*\n\t\t\t * Send out a request on the field type and parent type channel asking if they need to modify the calc value.\n\t\t\t * This is helpful for fields like lists that can have a different calc_value than selected value.\n\t\t\t */\n\t\t\tvar value = nfRadio.channel( fieldModel.get( 'type' ) ).request( 'get:calcValue', fieldModel );\n\t\t\t\n\t\t\t// Preset with our field value.\n\t\t\tvar calcValue = fieldModel.get( 'value' );\n\t\t\tif( 'undefined' !== typeof value ) {\n\t\t\t\tif( value || 0 === value ) {\n\t\t\t\t\t// If we got a valid number, use that instead.\n\t\t\t\t\tcalcValue = value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar localeConverter = new nfLocaleConverter(nfi18n.siteLocale, nfi18n.thousands_sep, nfi18n.decimal_point);\n\t\t\tvar machineNumber = localeConverter.numberDecoder(calcValue);\n\t\t\tvar formattedNumber = localeConverter.numberEncoder(calcValue);\n\n\t\t\tif ( 'undefined' !== typeof machineNumber && jQuery.isNumeric( machineNumber ) ) {\n\t\t\t\tvalue = formattedNumber;\n\t\t\t} else {\n\t\t\t\tvalue = 0;\n\t\t\t}\n\t\t\t// }\n\n\t\t\tif ( ! fieldModel.get( 'visible' ) ) {\n\t\t\t\tvalue = 0;\n\t\t\t}\n\t\t\n\t\t\treturn value;\n\t\t},\n\n\t\t/**\n\t\t * Replace instances of key with calcValue. This is used to replace one key at a time.\n\t\t *\n\t\t * If no eq is passed, use calcModel eq.\n\t\t *\n\t\t * Returns a string with instances of key replaced with calcValue.\n\t\t * \n\t\t * @since  version\n\t\t * @param  string \tkey       \n\t\t * @param  string \tcalcValue \n\t\t * @param  string \teq        \n\t\t * @return string \teq      \n\t\t */\n\t\treplaceKey: function( type, key, calcValue, eq ) {\n\t\t\teq = eq || calcModel.get( 'eq' );\n\n\t\t\ttag = '{' + type + ':' + key + '}';\n\t\t\tvar reTag = new RegExp( tag, 'g' );\n\n\t\t\tcalcTag = '{' + type + ':' + key + ':calc}';\n\t\t\tvar reCalcTag = new RegExp( calcTag, 'g' );\n\n\t\t\teq = eq.replace( reTag, calcValue );\n\t\t\teq = eq.replace( reCalcTag, calcValue );\n\n\t\t\treturn eq;\n\t\t},\n\n\t\t/**\n\t\t * Takes a calcModel and returns a string eq with all keys replaced by their appropriate calcValues.\n\t\t * \n\t\t * @since  3.0\n\t\t * @param  backbone.model \tcalcModel\n\t\t * @return string\t\t\teq\n\t\t */\n\t\treplaceAllKeys: function( calcModel ) {\n\t\t\tvar eq = calcModel.get( 'eq' );\n\t\t\tvar that = this;\n\t\t\t_.each( calcModel.get( 'fields' ), function( value, key ) {\n\t\t\t\teq = that.replaceKey( 'field', key, value, eq );\n\t\t\t} );\n\n\t\t\t// If we have any calc merge tags, replace those as well.\n\t\t\tvar calcs = eq.match( new RegExp( /{calc:(.*?)}/g ) );\n\t\t\tif ( calcs ) {\n\t\t\t\t_.each( calcs, function( calc ) {\n\t\t\t\t\t// calc will be {calc:key}\n\t\t\t\t\tvar name = calc.replace( '}', '' ).replace( '{calc:', '' );\n\t\t\t\t\tvar targetCalcModel = calcModel.collection.findWhere( { name: name } );\n                    if( 'undefined' == typeof targetCalcModel ) return;\n\t\t\t\t\tvar re = new RegExp( calc, 'g' );\n\t\t\t\t\teq = eq.replace( re, targetCalcModel.get( 'value' ) );\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn eq;\n\t\t},\n\n\t\t/**\n\t\t * Function that's called when a field within the calculation changes.\n\t\t * \n\t\t * @since  3.0\n\t\t * @param  backbone.model calcModel\n\t\t * @param  backbone.model fieldModel\n\t\t * @return void\n\t\t */\n\t\tchangeField: function( calcModel, fieldModel ) {\n\t\t\n\t\t\tvar key = fieldModel.get( 'key' );\n\t\t\tvar value = this.getCalcValue( fieldModel );\n\t\t\t\n\t\t\tthis.updateCalcFields( calcModel, key, value );\n\t\t\tvar eqValues = this.replaceAllKeys( calcModel );\n\n            // Scrub unmerged tags (ie deleted/nox-existent fields/calcs, etc).\n            eqValues = eqValues.replace( /{([a-zA-Z0-9]|:|_|-)*}/g, '0' );\n            eqValues = eqValues.replace( /\\r?\\n|\\r/g, '' );\n            try {\n\t\t\t\tthis.debug('Calculation Decoder ' + eqValues + ' -> ' + this.localeDecodeEquation(eqValues) + ' (Change Field)');\n\t\t\t\tconst mexp = new Mexp;\n\t\t\t\tcalcModel.set( 'value', Number( mexp.eval( this.localeDecodeEquation(eqValues) ) ).toFixed( calcModel.get( 'dec' ) ) );\n            } catch( e ) {\n                if(this.debug())console.log( e );\n            }\n            if( calcModel.get( 'value' ) === 'NaN' ) calcModel.set( 'value', '0' );\n\n\t\t\t// Debugging console statement.\n\t\t\t// console.log( eqValues + ' = ' + calcModel.get( 'value' ) );\t\t\n\t\t},\n\n\t\tinitDisplayField: function( fieldModel ) {\n\n\t\t\tif( ! fieldModel.get( 'default' ) || 'string' != typeof fieldModel.get( 'default' ) ) return;\n\n\t\t\tvar calcs = fieldModel.get( 'default' ).match( new RegExp( /{calc:(.*?)}/g ) );\n\t\t\tif ( calcs ) {\n\t\t\t\t_.each( calcs, function( calcName ) {\n\t\t\t\t\tcalcName = calcName.replace( '{calc:', '' ).replace( '}', '' ).replace( ':2', '' );\n\t\t\t\t\tthis.displayFields[ calcName ] = this.displayFields[ calcName ] || [];\n\t\t\t\t\tthis.displayFields[ calcName ].push( fieldModel );\n\t\t\t\t}, this );\n\t\t\t}\n\t\t},\n\n\t\tupdateDisplayFields: function( calcModel ) {\n\t\t\tvar that = this;\n\t\t\tif ( 'undefined' != typeof this.displayFields[ calcModel.get( 'name' ) ] ) {\n\t\t\t\t_.each( this.displayFields[ calcModel.get( 'name' ) ], function( fieldModel ) {\n\n\t\t\t\t\tvar value = '';\n\n\t\t\t\t\t/**\n\t\t\t\t\t * if we have a html field, we want to use the actual\n\t\t\t\t\t * value and re-evaluate\n\t\t\t\t    **/\n\t\t\t\t\tif( \"html\" === fieldModel.get( 'type' ) ) {\n\t\t\t\t\t\tvalue = fieldModel.get( 'value' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// if not a html field, use default to re-evaluate\n\t\t\t\t\t\tvalue = fieldModel.get( 'default' );\n\t\t\t\t\t}\n\n\t\t\t\t\t/*\n\t\t\t\t\t This is a fix for the issue of the merge tags being\n\t\t\t\t\t display'd\n\t\t\t\t\t */\n\n\t\t\t\t\t// Find spans with calc data-key values\n\t\t\t\t\tvar spans = value.match( new RegExp( /<span data-key=\"calc:(.*?)<\\/span>/g ));\n\t\t\t\t\t_.each( spans, function( spanVar ) {\n\t\t\t\t\t\t// transform the span back into a merge tag\n\t\t\t\t\t\tvar tmpCalcTag = \"{\" + spanVar.replace(\"<span\" +\n\t\t\t\t\t\t\t\" data-key=\\\"\", \"\" ).replace( /\">(.*?)<\\/span>/, \"\" ) + \"}\";\n\n\t\t\t\t\t\tvalue = value.replace( spanVar, tmpCalcTag );\n\t\t\t\t\t} );\n\t\t\t\t\tvar calcs = value.match( new RegExp( /{calc:(.*?)}/g ) );\n\t\t\t\t\t_.each( calcs, function( calc ) {\n//\t\t\t\t\t\tvar rounding = false;\n\t\t\t\t\t\t// calc will be {calc:key} or {calc:key:2}\n\t\t\t\t\t\tvar name = calc.replace( '}', '' ).replace( '{calc:', '' ).replace( ':2', '' );\n\n\t\t\t\t\t\t/*\n\t\t\t\t\t\t * TODO: Bandaid for rounding calculations to two decimal places when displaying the merge tag.\n\t\t\t\t\t\t * Checks to see if we have a :2. If we do, remove it and set our rounding variable to true.\n\t\t\t\t\t\t */\n//\t\t\t\t\t\tif ( -1 != name.indexOf( ':2' ) ) {\n//\t\t\t\t\t\t\trounding = true;\n//\t\t\t\t\t\t\tname = name.replace( ':2', '' );\n//\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar calcModel = that.calcs[ fieldModel.get( 'formID' ) ].findWhere( { name: name } );\n\t\t\t\t\t\tvar re = new RegExp( calc, 'g' );\n\t\t\t\t\t\tvar calcValue = calcModel.get( 'value' ) ;\n//\t\t\t\t\t\tif ( rounding ) {\n//\t\t\t\t\t\t\tcalcValue = calcValue.toFixed( 2 );\n//\t\t\t\t\t\t\trounding = false;\n//\t\t\t\t\t\t}\n\t\t\t\t\t\t\n                        if( 'undefined' != typeof( calcValue ) ) {\n                            calcValue = that.applyLocaleFormatting( calcValue, calcModel );\n\t\t\t\t\t\t}\n                        /*\n                         * We replace the merge tag with the value\n\t\t\t\t\t\t * surrounded by a span so that we can still find it\n\t\t\t\t\t\t * and not affect itself or other field merge tags\n\t\t\t\t\t\t *\n\t\t\t\t\t\t * Unless this isn't a html field, then we just set\n\t\t\t\t\t\t  * value to calcValue\n\t\t\t\t\t\t*/\n                        if( \"html\" === fieldModel.get( 'type' ) ) {\n\t                        value = value.replace(re, \"<span data-key=\\\"calc:\" + name + \"\\\">\"\n\t\t                        + calcValue + \"</span>\");\n                        } else {\n                        \tvalue = calcValue;\n                        }\n\t\t\t\t\t} );\n\t\t\t\t\t\n\t\t\t\t\tfieldModel.set( 'value', value );\n\t\t\t\t\tif ( ! that.init[ calcModel.get( 'name' ) ] ) {\n\t\t\t\t\t\t// fieldModel.set( 'reRender', true );\n\t\t\t\t\t\tfieldModel.trigger( 'reRender' );\n\t\t\t\t\t}\n\t\t\t\t\tthat.init[ calcModel.get( 'name' ) ] = false;\n\t\t\t\t} );\n\t\t\t}\n\t\t},\n\n\t\tgetCalc: function( name, formID ) {\n\t\t\treturn this.calcs[ formID ].findWhere( { name: name } );\n\t\t},\n\n\t\tchangeCalc: function( calcModel, targetCalcModel ) {\n\t\t\tvar eqValues = this.replaceAllKeys( calcModel );\n\t\t\t\n\t\t\teqValues = eqValues.replace( '[', '' ).replace( ']', '' );\n            eqValues = eqValues.replace( /\\r?\\n|\\r/g, '' );\n            try {\n\t\t\t\tthis.debug('Calculation Decoder ' + eqValues + ' -> ' + this.localeDecodeEquation(eqValues) + ' (Change Calc)');\n\t\t\t\tconst mexp = new Mexp;\n\t\t\t\tcalcModel.set( 'value', Number( mexp.eval( this.localeDecodeEquation( eqValues ) ) ).toFixed( calcModel.get( 'dec' ) ) );\n            } catch( e ) {\n                console.log( e );\n            }\n            if( calcModel.get( 'value' ) === 'NaN' ) calcModel.set( 'value', '0' );\n\t\t},\n        \n        /**\n         * Function to apply Locale Formatting to Calculations\n         * @since Version 3.1\n         * @param Str number\n         * \n         * @return Str\n         */\n        applyLocaleFormatting: function( number, calcModel ) {\n\n\t\t\tvar localeConverter = new nfLocaleConverter(nfi18n.siteLocale, nfi18n.thousands_sep, nfi18n.decimal_point);\n\n\t\t\tvar formattedNumber = localeConverter.numberEncoder(number, calcModel.get('dec'));\n            \n            // // Split our string on the decimal to preserve context.\n            // var splitNumber = number.split('.');\n            // // If we have more than one element (if we had a decimal point)...\n            // if ( splitNumber.length > 1 ) {\n            //     // Update the thousands and remerge the array.\n            //     splitNumber[ 0 ] = splitNumber[ 0 ].replace( /\\B(?=(\\d{3})+(?!\\d))/g, nfi18n.thousands_sep );\n            //     var formattedNumber = splitNumber.join( nfi18n.decimal_point );\n            // }\n            // // Otherwise (we had no decimal point)...\n            // else {\n            //     // Update the thousands.\n            //     var formattedNumber = number.replace( /\\B(?=(\\d{3})+(?!\\d))/g, nfi18n.thousands_sep );\n            // }\n            return formattedNumber;\n\t\t},\n\t\t\n\t\tlocaleDecodeEquation: function( eq ) {\n\t\t\tvar result = '';\n\t\t\tvar expression = '';\n\t\t\tvar pattern = /[0-9.,]/;\n\t\t\tvar localeConverter = new nfLocaleConverter(nfi18n.siteLocale, nfi18n.thousands_sep, nfi18n.decimal_point);\n\t\t\t// This pattern accounts for all whitespace characters (including thin space).\n\t\t\teq = eq.replace( /\\s/g, '' );\n\t\t\teq = eq.replace( /&nbsp;/g, '' );\n\t\t\tvar characters = eq.split('');\n\t\t\t// foreach ( characters as character ) {\n\t\t\tcharacters.forEach( function( character ) {\n\t\t\t\t// If the character is numeric or '.' or ','\n\t\t\t\tif (pattern.test(character)) {\n\t\t\t\t\texpression = expression + character;\n\t\t\t\t} else {\n\t\t\t\t\t// If we reach an operator char, append the expression to the result\n\t\t\t\t\tif ( 0 < expression.length ) {\n\t\t\t\t\t\tresult = result + localeConverter.numberDecoder( expression );\n\t\t\t\t\t\texpression = '';\n\t\t\t\t\t}\n\t\t\t\t\tresult = result + character;\n\t\t\t\t}\n\t\t\t});\n\t\t\t// The following catches the case of the last character being a digit.\n\t\t\tif ( 0 < expression.length ) {\n\t\t\t\tresult = result + localeConverter.numberDecoder( expression );\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\n\t\tdebug: function(message) {\n\t\t\tif ( window.nfCalculationsDebug || false ) console.log(message);\n\t\t}\n\t\n\t});\n\n\treturn controller;\n} );\n\n","define('controllers/dateBackwardsCompat',[], function() {\n    var controller = Marionette.Object.extend({\n\n        initialize: function () {\n            this.listenTo( Backbone.Radio.channel( 'pikaday-bc' ), 'init', this.dateBackwardsCompat );\t\n        },\n\n        dateBackwardsCompat: function( dateObject, fieldModel ) {\n           \n            /**\n             * Start backwards compatibility for old pikaday customisation\n             */\n            // Legacy properties\n            dateObject.pikaday = {};\n            dateObject.pikaday._o = {};\n\n            //Old hook for Pikaday Custom code\n            nfRadio.channel( 'pikaday' ).trigger( 'init', dateObject, fieldModel );\n\n            // If we've set a disableDayFn property in custom code, hook it up to Flatpickr\n            if ( typeof dateObject.pikaday._o.disableDayFn !== 'undefined') {\n                dateObject.set( 'disable', [ dateObject.pikaday._o.disableDayFn ] );\n            }\n\n            //Compatibility for i18n pikaday function\n            if ( typeof dateObject.pikaday._o.i18n !== 'undefined' || typeof dateObject.pikaday._o.firstDay !== 'undefined') {\n\n                let locale = dateObject.config.locale;\n\n                if ( typeof dateObject.pikaday._o.firstDay !== 'undefined') {\n                    locale.firstDayOfWeek = dateObject.pikaday._o.firstDay;\n                }\n\n                if ( typeof dateObject.pikaday._o.i18n !== 'undefined') {\n                    if ( typeof dateObject.pikaday._o.i18n.weekdays !== 'undefined') {\n                        locale.weekdays.longhand = dateObject.pikaday._o.i18n.weekdays;\n                    }\n\n                    if ( typeof dateObject.pikaday._o.i18n.weekdaysShort !== 'undefined') {\n                        locale.weekdays.shorthand = dateObject.pikaday._o.i18n.weekdaysShort;\n                    }\n                    \n                    if ( typeof dateObject.pikaday._o.i18n.months !== 'undefined') {\n                        jQuery( '.flatpickr-monthDropdown-months > option' ).each( function() {\n                            this.text = dateObject.pikaday._o.i18n.months[ this.value ];\n                        } );\n                    }\n                }\n\n                dateObject.set( 'locale', locale );\n                \n            }\n\n            if ( Object.keys(dateObject.pikaday._o).length > 0 ) {\n                console.log(\"%cDeprecated Ninja Forms Pikaday custom code detected.\", \"color: Red; font-size: large\");\n                console.log(\"You are using deprecated Ninja Forms Pikaday custom code. Support for this custom code will be removed in a future version of Ninja Forms. Please contact Ninja Forms support for more details.\");\n            }\n\n        }\n\n    });\n\n    return controller;\n});\n","define('controllers/fieldDate',[], function() {\n    var controller = Marionette.Object.extend({\n\n        initialize: function () {\n            this.listenTo( nfRadio.channel( 'date' ), 'init:model', this.initModel );\n            this.listenTo( nfRadio.channel( 'date' ), 'render:view', this.initDatepicker );\n        },\n\n        initModel: function(model) {\n            this.registerFunctions(model);\n        },\n\n        registerFunctions: function( model ) {\n            model.set( 'renderHourOptions', this.renderHourOptions );\n            model.set( 'renderMinuteOptions', this.renderMinuteOptions );\n            model.set( 'maybeRenderAMPM', this.maybeRenderAMPM );\n            model.set( 'customClasses', this.customClasses );\n            // Overwrite the default getValue() method.\n            model.getValue = this.getValue;\n        },\n\n        renderHourOptions: function() {\n            return this.hours_options;\n        },\n\n        renderMinuteOptions: function() {\n            return this.minutes_options;\n        },\n\n        maybeRenderAMPM: function() {\n            if ( 'undefined' == typeof this.hours_24 || 1 == this.hours_24 ) {\n                return;\n            }\n            var requiredAttr = (this.required == 1) ? 'aria-required=\"true\" required' : '';\n            return `<div style=\"float:left;\" class=\"time-wrap\"><select id=\"ampm-select\" class=\"ampm extra\" aria-label=\"am-pm-select\" ${requiredAttr}><option value=\"am\">AM</option><option value=\"pm\">PM</option></select></div>`;\n        },\n\n        initDatepicker: function ( view ) {\n            view.model.set( 'el', view.el );\n            var el = jQuery( view.el ).find( '.nf-element' )[0];\n            view.listenTo( nfRadio.channel( 'form-' + view.model.get( 'formID' ) ), 'before:submit', this.beforeSubmit, view );\n\n            // If we are using a time_only date_mode, then hide the date input.\n            if ( 'undefined' != typeof view.model.get( 'date_mode' ) && 'time_only' == view.model.get( 'date_mode' ) ) {\n                jQuery( el ).hide();\n                return false;\n            }\n\n            // Make sure date format is correctly converted.\n            var dateFormat = this.convertDateFormat( view.model.get( 'date_format' ) );\n            // Make sure this is a deep conversion of the original model.\n            view.model.set('date_format', dateFormat);\n\n            var dateSettings = {\n                onReady: ( selectedDates, datestr, dateObject ) => {\n                    dateObject.altInput.setAttribute( 'aria-labelledby', jQuery( el ).attr( \"aria-labelledby\" ) );\n                    dateObject.altInput.setAttribute( 'aria-invalid', false );\n                },\n                dateFormat: dateFormat,\n                altFormat: dateFormat,\n                altInput: true,\n                ariaDateFormat: dateFormat,\n                mode: \"single\",\n                allowInput: true,\n                disableMobile: \"true\",\n                minDate: this.getMinDate(view.model),\n                maxDate: this.getMaxDate(view.model),\n            };\n            \n            const nfCustomLocale = this.checkCustomLocale();\n            if(nfCustomLocale){\n                dateSettings.locale = nfCustomLocale;\n            }\n\n            // Filter our datepicker settings object.\n            let filteredDatePickerSettings = nfRadio.channel( 'flatpickr' ).request( 'filter:settings', dateSettings, view );\n            if ( 'undefined' != typeof filteredDatePickerSettings ) {\n                dateSettings = filteredDatePickerSettings;\n            }\n\n            var dateObject = flatpickr( el, dateSettings );\n            // Set default value only when value is missing\n            if ( 1 == view.model.get( 'date_default' ) && ! view.model.get( 'value' ) ) {\n                dateObject.defaultDate = new Date();\n                dateObject.setDate(dateObject.defaultDate);\n                view.model.set( 'value', dateObject.defaultDate );\n            }\n            // Set default value in RFF context, only if value equals today's date\n            if( 1 == view.model.get( 'date_default' ) && \n                typeof view.model.get('id') === \"string\" && \n                view.model.get('id').includes('.') && \n                typeof view.model.get( 'value' ) === \"object\" && \n                this.isSameDay( view.model.get( 'value' ), new Date() )\n            ) {\n                dateObject.defaultDate = new Date();\n                dateObject.setDate(dateObject.defaultDate, true);\n                view.model.set( 'value', dateObject.defaultDate );\n            }\n\n            //Trigger Pikaday backwards compatibility\n            nfRadio.channel( 'pikaday-bc' ).trigger( 'init', dateObject, view.model, view );\n\n            nfRadio.channel( 'flatpickr' ).trigger( 'init', dateObject, view.model, view );\n        },\n\n        beforeSubmit: function( formModel ) { \n            //Get value from input if the default date wasn't edited in the field and the value is still a global unformatted date object\n            if( _.isObject( this.model.get( 'value' ) ) ){\n                // We detect the flatpickr input inside the element by its type instead of ID as the dot in the repeater children ID is not compatible with query selector\n                const date_value = this.el.querySelector(\"input[type='hidden']\").value;\n                this.model.set( 'value', date_value );\n            }\n            //Detect repeater and set data at the repeater level\n            const inputID = this.el.dataset.fieldId;\n            if(inputID.search(\".\") !== -1){\n                nfRadio.channel('field-repeater').trigger('set:value');\n                // Don't convert string value into object for time_only type in repeatable fieldset field\n                if(this.model.get( 'date_mode' ) === \"time_only\"){\n                    return;\n                }\n            }\n\n            if ( 'date_only' == this.model.get( 'date_mode' ) ) {\n                return false;\n            }\n            let hour = jQuery( this.el ).find( '.hour' ).val();\n            let minute = jQuery( this.el ).find( '.minute' ).val();\n            let ampm = jQuery( this.el ).find( '.ampm' ).val();\n            let current_value = this.model.get( 'value' );\n            let date = false;\n\n            if ( _.isObject( current_value ) ) {\n                date = current_value.date;\n            } else {\n                date = current_value;\n            }\n\n            let date_value = {\n                date: date,\n                hour: hour,\n                minute: minute,\n                ampm: ampm,\n            };\n\n            this.model.set( 'value', date_value );\n        },\n\n        getMinDate: function( fieldModel ) {\n            let minDate = null;\n            if(typeof fieldModel.get( 'year_range_start' ) !== \"undefined\"){\n                const yearRangeStart = fieldModel.get( 'year_range_start' );\n                if( yearRangeStart ) {\n                    minDate = flatpickr.formatDate(new Date(String( yearRangeStart )), fieldModel.get('date_format'));\n                }\n            } \n            return minDate;\n        },\n\n        getMaxDate: function( fieldModel ) {\n            let maxDate = null;\n            if(typeof fieldModel.get( 'year_range_end' ) !== \"undefined\"){\n                const yearRangeEnd = fieldModel.get( 'year_range_end' );\n                if( yearRangeEnd ) {\n                    maxDate = flatpickr.formatDate(new Date(String( yearRangeEnd )), fieldModel.get('date_format'));\n                }\n            }\n            return maxDate;\n        },\n\n        convertDateFormat: function( dateFormat ) {\n            //If dateFormat is empty or null, try to get a value from the Field's model\n            if(!dateFormat && this.model){\n                dateFormat = this.model.get('date_format');\n            } \n            //If it is still empty or null set it to be \"default\"\n            if (!dateFormat){\n                dateFormat = \"default\";\n            }\n            //Convert PHP format in setting to flatPickr expected setting if needed\n            const lookup = {\n                'MM/DD/YYYY': 'm/d/Y',\n                'MM-DD-YYYY': 'm-d-Y',\n                'MM.DD.YYYY': 'm.d.Y',\n                'DD/MM/YYYY': 'd/m/Y',\n                'DD-MM-YYYY': 'd-m-Y',\n                'DD.MM.YYYY': 'd.m.Y',\n                'YYYY-MM-DD': 'Y-m-d',\n                'YYYY/MM/DD': 'Y/m/d',\n                'YYYY.MM.DD': 'Y.m.d',\n                'dddd, MMMM D YYYY': 'l, F d Y',\n                'default': nfi18n.dateFormat ? nfi18n.dateFormat : 'default'\n            };\n            return Object.keys(lookup).includes(dateFormat) ? lookup[dateFormat] : dateFormat;\n        },\n\n        customClasses: function( classes ) {\n            if ( 'date_and_time' == this.date_mode ) {\n                classes += ' date-and-time';\n            }\n            return classes;\n        },\n        //retrieve localized values and assign them to flatpickr locale format\n        checkCustomLocale: function() {\n            let customLocale = {};\n            if(nfi18n){\n                if(nfi18n.months || nfi18n.monthsShort){\n                    customLocale.months = {};\n                    if(nfi18n.months){\n                        customLocale.months.longhand = nfi18n.months;\n                    }\n                    if(nfi18n.monthsShort){\n                        customLocale.months.shorthand = nfi18n.monthsShort;\n                    }\n                }\n                if(nfi18n.weekdays || nfi18n.weekdaysShort){\n                    customLocale.weekdays = {};\n                    if(nfi18n.weekdays){\n                        customLocale.weekdays.longhand = nfi18n.weekdays;\n                    }\n                    if(nfi18n.weekdaysShort){\n                        customLocale.weekdays.shorthand = nfi18n.weekdaysShort;\n                    }\n                }\n                if(nfi18n.startOfWeek){\n                    customLocale.firstDayOfWeek = nfi18n.startOfWeek;\n                }\n            }\n            return _.isEmpty(customLocale) ? false : customLocale;\n        },\n\n        // This function is called whenever we want to know the value of the date field.\n        // Since it could be a date/time field, we can't return just the value.\n        getValue: function() {\n\n            if ( 'date_only' == this.get( 'date_mode' ) ) {\n                return this.get( 'value' );\n            }\n            let el = this.get( 'el' );\n            let hour = jQuery( el ).find( '.hour' ).val();\n            let minute = jQuery( el ).find( '.minute' ).val();\n            let ampm = jQuery( el ).find( '.ampm' ).val();\n            let current_value = this.get( 'value' );\n            let date = false;\n\n            if ( _.isObject( current_value ) ) {\n                date = current_value.date;\n            } else {\n                date = current_value;\n            }\n\n            let value = '';\n\n            if ( 'undefined' != typeof date ) {\n                value += date;\n            }\n\n            if ( 'undefined' != typeof hour && 'undefined' != typeof minute ) {\n                value += ' ' + hour + ':' + minute;\n            }\n\n            if ( 'undefined' != typeof ampm ) {\n                value += ' ' + ampm;\n            }\n\n            return value;\n\n            // let date_value = {\n            //     date: date,\n            //     hour: hour,\n            //     minute: minute,\n            //     ampm: ampm,\n            // };\n\n            // this.model.set( 'value', date_value );\n        },\n\n        isSameDay: function(date1, date2) {\n            const d1 = new Date(date1);\n            const d2 = new Date(date2);\n            d1.setHours(0, 0, 0, 0);\n            d2.setHours(0, 0, 0, 0);\n            return d1.getTime() === d2.getTime();\n        }\n\n    });\n\n    return controller;\n});\n\n","define('controllers/fieldRecaptcha',[], function() {\n    var controller = Marionette.Object.extend({\n\n        initialize: function () {\n            this.listenTo( nfRadio.channel( 'recaptcha' ), 'init:model',      this.initRecaptcha  );\n            this.listenTo( nfRadio.channel( 'forms' ),     'submit:response', this.resetRecaptcha );\n        },\n\n       \tinitRecaptcha: function ( model ) {\n       \t\tnfRadio.channel( 'recaptcha' ).reply( 'update:response', this.updateResponse, this, model.id );\n        },\n\n        updateResponse: function( response, fieldID ) {\n        \tvar model = nfRadio.channel( 'fields' ).request( 'get:field', fieldID );\n\t\t\tmodel.set( 'value', response );\n            nfRadio.channel( 'fields' ).request( 'remove:error', model.get( 'id' ), 'required-error' );\n        },\n\n        resetRecaptcha: function() {\n\t\t\tvar recaptchaID = 0;\n\t\t\tjQuery( '.g-recaptcha' ).each( function() {\n\t\t\t\ttry {\n\t\t\t\t\tgrecaptcha.reset( recaptchaID );\n\t\t\t\t} catch( e ){\n\t\t\t\t\tconsole.log( 'Notice: Error trying to reset grecaptcha.' );\n\t\t\t\t}\n\t\t\t\trecaptchaID++;\n\t\t\t} );\n        }\n    });\n\n    return controller;\n} );\n","define('controllers/fieldRecaptchaV3',[], function() {\n    var controller = Marionette.Object.extend({\n\n        initialize: function () {\n            this.listenTo( nfRadio.channel( 'recaptcha_v3' ), 'init:model', this.initRecaptcha  );\n        },\n\n       \tinitRecaptcha: function ( model ) {\t\t\t\n\t        const formID = model.get( 'formID' );\n\t\t\t//Run recaptcha on init to allow cookie validation process\n\t\t\tthis.processRecaptcha(formID, model);\n\t\t\t//Rerun process every 110 seconds ( prevent Google recaptcha timeout out at 12O seconds )\n\t\t\tsetInterval(this.processRecaptcha, 110000, formID, model );\n        },\n\n\t\tprocessRecaptcha: function(formID, model) {\n\t\t\ttry{\n\t\t\t\tnfRadio.channel( 'form-' + formID ).trigger( 'disable:submit', model );\n\t\t\t\tgrecaptcha.ready( function() {\n\t\t\t\t\tgrecaptcha.execute( model.get( 'site_key' ), {\n\t\t\t\t\t\taction: 'register'\n\t\t\t\t\t} ).then( function( token ) {\n\t\t\t\t\t\tmodel.set( 'value', token );\n\t\t\t\t\t\tnfRadio.channel( 'form-' + formID ).trigger( 'enable:submit', model );\n\t\t\t\t\t} );\n\t\t\t\t} );\n\t\t\t} catch (e) {\n\t\t\t\t//Wait for the form to fully load and display error\n\t\t\t\tjQuery(document).on( 'nfFormReady', (layoutView) => {\n\t\t\t\t\t//Get consent details as recaptcha failed to load\n\t\t\t\t\tlet consent = nf_check_recaptcha_consent();\n\t\t\t\t\n\t\t\t\t\t//Get submit button\n\t\t\t\t\tlet submitFieldID;\n\t\t\t\t\tmodel.collection.models.forEach( (fieldModel) => {\n\t\t\t\t\t\tif(fieldModel.get(\"type\") === \"submit\"){\n\t\t\t\t\t\t\tsubmitFieldID = fieldModel.get(\"id\");\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t\t//Display generic error\n\t\t\t\t\tnfRadio.channel( 'fields' ).request(\"add:error\", submitFieldID, \"recaptcha-v3-missing\", model.collection.options.formModel.get(\"settings\").recaptchaConsentMissing );\n\t\t\t\t\t//Create error message and add possible interaction with cookie consent depending on consent result\n\t\t\t\t\t//Display filterable error to add consent\n\t\t\t\t\tthis.nf_build_default_consent_action(model, consent.services, submitFieldID, layoutView );\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tnf_build_default_consent_action: function ( model, services, submitFieldID, layoutView ) {\n\t\t\t//Return if no consent management is detected\n\t\t\tconst returnIf = services.length <= 1 && services.includes(\"missing_cookie\") || services.length <= 0;\n\t\t\tif( !returnIf ){ \n\t\t\t\tlet actionElement = document.createElement(\"div\");\n\t\t\t\tactionElement.setAttribute(\"id\", \"nf_recaptcha_consent_event\");\n\t\t\t\tactionElement.innerText += model.collection.options.formModel.get(\"settings\").recaptchaConsentEvent;\n\n\t\t\t\tconst detailData = {\n\t\t\t\t\t\"services\": services,\n\t\t\t\t\t\"element\": actionElement,\n\t\t\t\t\t\"submitFieldID\": submitFieldID, \n\t\t\t\t\t\"layoutView\": layoutView\n\t\t\t\t}\n\t\t\t\t//Allow filtering of the element before printing it\n\t\t\t\tlet nf_consent_link_event = new CustomEvent('nf_consent_link', {detail: detailData});\n\t\t\t\tdocument.dispatchEvent(nf_consent_link_event);\n\n\t\t\t\t//Append action to error element\n\t\t\t\tconst genericErrorElements = document.getElementsByClassName(\"nf-error-recaptcha-v3-missing\");\n\t\t\t\tconst genericErrorElementsList = Array.prototype.slice.call(genericErrorElements);\n\t\t\t\tgenericErrorElementsList.forEach( (error) => {\n\t\t\t\t\terror.append( actionElement );\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t\t\n    });\n\n    return controller;\n} );\n","define('controllers/fieldHTML',[], function() {\n    var controller = Marionette.Object.extend({\n\n        htmlFields: [],\n        trackedMergeTags: [],\n\n        initialize: function () {\n            this.listenTo( Backbone.Radio.channel( 'fields-html' ), 'init:model', this.setupFieldMergeTagTracking );\n        },\n\n        setupFieldMergeTagTracking: function( fieldModel ) {\n            this.htmlFields.push( fieldModel );\n\n            var formID = fieldModel.get( 'formID' );\n\n            this.listenTo( nfRadio.channel( 'form-' + formID ), 'init:model', function( formModel ){\n\n                var mergeTags = fieldModel.get( 'default' ).match( new RegExp( /{field:(.*?)}/g ) );\n                if ( ! mergeTags ) return;\n\n                _.each( mergeTags, function( mergeTag ) {\n                    var fieldKey = mergeTag.replace( '{field:', '' ).replace( '}', '' );\n                    var fieldModel = formModel.get( 'fields' ).findWhere({ key: fieldKey });\n                    if( 'undefined' == typeof fieldModel ) return;\n\n                    this.trackedMergeTags.push( fieldModel );\n                    this.listenTo( nfRadio.channel( 'field-' + fieldModel.get( 'id' ) ), 'change:modelValue', this.updateFieldMergeTags );\n                }, this );\n\n                // Let's get this party started!\n                this.updateFieldMergeTags();\n            }, this );\n        },\n\n        updateFieldMergeTags: function( fieldModel ) {\n            _.each( this.htmlFields, function( htmlFieldModel ){\n                var value = htmlFieldModel.get( 'value' );\n               _.each( this.trackedMergeTags, function( fieldModel ){\n\n                   /* Search the value for any spans with mergetag data-key\n                   * values\n                   */\n                   var spans = value.match( new RegExp( /<span data-key=\"field:(.*?)<\\/span>/g ) );\n\t               _.each( spans, function( spanVar ) {\n\t                   /* See if the span string contains the current\n                       * fieldModel's key. If so replace the span with a\n                       * merge tag for evaluation.\n                       */\n                       if( -1 < spanVar.indexOf( \"data-key=\\\"field:\" + fieldModel.get( 'key' ) ) ) {\n\t                       value = value.replace( spanVar, \"{field:\" + fieldModel.get( 'key' ) + \"}\" );\n                       }\n\t               } );\n\n                    var mergeTag = '{field:' + fieldModel.get( 'key' ) + '}';\n\n                    const fieldValue = fieldModel.get( 'type' ) === \"repeater\" ? this.displayRepeaterData(fieldModel) : fieldModel.getValue();\n\n\t               /* We replace the merge tag with the value\n\t               * surrounded by a span so that we can still find it\n\t               * and not affect itself or other field merge tags\n\t               */\n                    value = value.replace( mergeTag, \"<span data-key=\\\"field:\"\n                        + fieldModel.get( 'key' ) + \"\\\">\"\n                        + fieldValue + \"</span>\" );\n               }, this ) ;\n               htmlFieldModel.set( 'value', value );\n               htmlFieldModel.trigger( 'reRender' );\n            }, this );\n        },\n\n        displayRepeaterData: function(fieldModel) {\n                const repeaterFieldIDs = Object.keys(fieldModel.getValue());\n                let returnHTML = \"\", passedFields = [];\n\n                _.each(repeaterFieldIDs, function(fieldID){\n                    if(passedFields.indexOf(fieldID) === -1) {\n                        const field = nfRadio.channel( 'fields' ).request( 'get:field', fieldID );\n                        if(typeof field !== \"undefined\"){\n                            const excluded = ['submit', 'html', 'hidden', 'password', 'passwordconfirm', 'divider', 'hr', 'note', 'unknown', 'button', 'confirm', 'creditcard', 'creditcardcvc', 'creditcardexpiration', 'creditcardfullname', 'creditcardnumber', 'creditcardzip', 'recaptcha', 'recaptcha_v3' ];\n                            if(excluded.indexOf(field.get('type')) === -1 && field.getValue().toString().length > 0){\n                                const index = Number(fieldID.split(\"_\").pop()) + 1;\n                                returnHTML += \"<p>\"+ field.get(\"label\") + \" \" + index + \" : \" + field.getValue() + \"</p>\";\n                                passedFields.push(fieldID);\n                            } \n                        }\n                    }\n                });\n\n                return returnHTML;\n        }\n\n    });\n\n    return controller;\n});\n\n","/**\n* When a form is loaded, enable any help text that appears on the page.\n*/\ndefine('controllers/helpText',[], function() {\n\tvar controller = Marionette.Object.extend( {\n\t\tinitialize: function() {\n\t\t\tthis.listenTo( nfRadio.channel( 'form' ), 'render:view', this.initHelpText );\n\t\t\tthis.listenTo( nfRadio.channel( 'field-repeater' ), 'fieldset:added', this.initHelpText );\n\n\t\t\tnfRadio.channel( 'form' ).reply( 'init:help', this.initHelpText );\n\t\t},\n\n\t\tinitHelpText: function( view ) {\n\n\t\t\tif(view && !view.el && typeof view.get === 'function'){\n\t\t\t\t//Catch repeater fieldset added event\n\t\t\t\tif(view.get(\"type\") === \"repeater\"){\n\t\t\t\t\tview.el = \"#nf-form-\" + view.get(\"formID\") + \"-cont\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tjQuery( view.el ).find( '.nf-help' ).each( function(el) {\n\t\t\t\tvar jBox = jQuery( this ).jBox( 'Tooltip', {\n\t\t\t\t\ttheme: 'TooltipBorder',\n\t\t\t\t\tcontent: jQuery( this ).data( 'text' ),\n\t\t\t\t\ttrigger: 'mouseenter focus',\n\t\t\t\t\tcloseOnMouseleave: true,\n\t\t\t\t\tcloseOnClick: true\n\t\t\t\t});\n\t\t\t// Hide tooltip on keydown and mouseleave\n\t\t\tjQuery(this).on('keydown mouseleave', function() {\n\t\t\t\tjBox.close();\n\t\t\t});\n\t\t\t} );\n\t\t}\n\t});\n\n\treturn controller;\n } );\n\n","define('controllers/fieldTextbox',[], function() {\n\tvar controller = Marionette.Object.extend( {\n\t\tinitialize: function() {\n            nfRadio.channel( 'textbox' ).reply( 'get:calcValue', this.getCalcValue, this );\n\t\t},\n\n\t\tgetCalcValue: function( fieldModel ) {\n            if('currency' == fieldModel.get('mask')){\n                var form = nfRadio.channel( 'app' ).request( 'get:form', fieldModel.get( 'formID' ) );\n                var currencySymbol = ('undefined' !== typeof form) ? form.get( 'currencySymbol' ) : '';\n                var currencySymbolDecoded = jQuery('<textarea />').html(currencySymbol).text();\n                return fieldModel.get( 'value' ).replace(currencySymbolDecoded, '');\n            }\n\n\t\t\treturn fieldModel.get( 'value' );\n\t\t},\n\t});\n\n\treturn controller;\n} );\n","/**\n * When a form is loaded, enable any rtes in textareas.\n */\ndefine('controllers/fieldTextareaRTE',[], function() {\n\tvar controller = Marionette.Object.extend( {\n\t\tinitialize: function() {\n\t\t\tthis.listenTo( nfRadio.channel( 'textarea' ), 'render:view', this.initTextareaRTEs );\n\t\t\tthis.listenTo( nfRadio.channel( 'textarea' ), 'click:extra', this.clickExtra );\n\n\t\t\t// Instantiates the variable that holds the media library frame.\n\t\t\tthis.meta_image_frame;\n\n\t\t\tthis.currentContext = {};\n\n\t\t\tif( 'undefined' == typeof jQuery.summernote ) return;\n\n\t\t\tjQuery.summernote.options.icons = {\n\t\t        'align': 'dashicons dashicons-editor-alignleft',\n\t\t        'alignCenter': 'dashicons dashicons-editor-aligncenter',\n\t\t        'alignJustify': 'dashicons dashicons-editor-justify',\n\t\t        'alignLeft': 'dashicons dashicons-editor-alignleft',\n\t\t        'alignRight': 'dashicons dashicons-editor-alignright',\n\t\t        'indent': 'dashicons dashicons-editor-indent',\n\t\t        'outdent': 'dashicons dashicons-editor-outdent',\n\t\t        // 'arrowsAlt': 'dashicons fa-arrows-alt',\n\t\t        'bold': 'dashicons dashicons-editor-bold',\n\t\t        'caret': 'dashicons dashicons-arrow-down',\n\t\t        // 'circle': 'dashicons fa-circle',\n\t\t        'close': 'dashicons dashicons-dismiss',\n\t\t        'code': 'dashicons dashicons-editor-code',\n\t\t        'eraser': 'dashicons dashicons-editor-removeformatting',\n\t\t        // 'font': 'dashicons fa-font',\n\t\t        // 'frame': 'dashicons fa-frame',\n\t\t        'italic': 'dashicons dashicons-editor-italic',\n\t\t        'link': 'dashicons dashicons-admin-links',\n\t\t        'unlink': 'dashicons dashicons-editor-unlink',\n\t\t        'magic': 'dashicons dashicons-editor-paragraph',\n\t\t        // 'menuCheck': 'dashicons fa-check',\n\t\t        'minus': 'dashicons dashicons-minus',\n\t\t        'orderedlist': 'dashicons dashicons-editor-ol',\n\t\t        // 'pencil': 'dashicons fa-pencil',\n\t\t        // 'picture': 'dashicons fa-picture-o',\n\t\t        // 'question': 'dashicons fa-question',\n\t\t        'redo': 'dashicons dashicons-redo',\n\t\t        'square': 'dashicons fa-square',\n\t\t        // 'strikethrough': 'dashicons fa-strikethrough',\n\t\t        // 'subscript': 'dashicons fa-subscript',\n\t\t        // 'superscript': 'dashicons fa-superscript',\n\t\t        'table': 'dashicons dashicons-editor-table',\n\t\t        // 'textHeight': 'dashicons fa-text-height',\n\t\t        // 'trash': 'dashicons fa-trash',\n\t\t        'underline': 'dashicons dashicons-editor-underline',\n\t\t        'undo': 'dashicons dashicons-undo',\n\t\t        'unorderedlist': 'dashicons dashicons-editor-ul',\n\t\t        // 'video': 'dashicons fa-youtube-play'\n\t\t      };\n\n\t\t},\n\n\t\tinitTextareaRTEs: function( view ) {\n\t\t\tif ( 1 != view.model.get( 'textarea_rte' ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t/*\n\t\t\t * Custom Button for links\n\t\t\t */\n\t\t\tvar that = this;\n\t\t\t// var linkButton = this.linkButton();\n\t\t\tvar linkButton = function( context ) {\n\t\t\t\treturn that.linkButton( context );\n\t\t\t}\n\t\t\tvar mediaButton = function( context ) {\n\t\t\t\treturn that.mediaButton( context );\n\t\t\t}\n\n\t\t\tvar toolbar = [\n\t\t\t\t[ 'paragraphStyle', ['style'] ],\n\t\t\t\t[ 'fontStyle', [ 'bold', 'italic', 'underline','clear' ] ],\n\t\t\t\t[ 'lists', [ 'ul', 'ol' ] ],\n\t\t\t    [ 'paragraph', [ 'paragraph' ] ],\n\t\t\t    [ 'customGroup', [ 'linkButton', 'unlink' ] ],\n\t\t\t    [ 'table', [ 'table' ] ],\n\t\t\t    [ 'actions', [ 'undo', 'redo' ] ],\n\t\t\t];\n\n\t\t\tif ( 1 == view.model.get( 'textarea_media' ) && 0 != userSettings.uid ) {\n\t\t\t\ttoolbar.push( [ 'tools', [ 'mediaButton' ] ] );\n\t\t\t}\n\n\t\t\tjQuery( view.el ).find( '.nf-element' ).summernote( {\n\t\t\t\ttoolbar: toolbar,\n\t\t\t\tbuttons: {\n\t\t\t\t\tlinkButton: linkButton,\n\t\t\t\t\tmediaButton: mediaButton\n\t\t\t\t},\n\t\t\t\theight: 150,   //set editable area's height\n\t\t\t\tcodemirror: { // codemirror options\n\t\t\t\t    theme: 'monokai',\n\t\t\t\t    lineNumbers: true\n\t\t\t\t},\n\t\t\t\tprettifyHtml: true,\n\t\t\t\tcallbacks: {\n\t\t\t\t\tonChange: function( e ) {\n\t\t\t\t\t\tview.model.set( 'value', jQuery( this ).summernote( 'code' ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tvar linkMenu = jQuery( view.el ).find( '.link-button' ).next( '.dropdown-menu' ).find( 'button' );\n\t\t\tlinkMenu.replaceWith(function () {\n\t\t\t    return jQuery( '<div/>', {\n\t\t\t        class: jQuery( linkMenu ).attr( 'class' ),\n\t\t\t        html: this.innerHTML\n\t\t\t    } );\n\t\t\t} );\n\t\t},\n\n\t\tlinkButton: function( context ) {\n\t\t\tvar that = this;\n\t\t\tvar ui = jQuery.summernote.ui;\n\t\t\tvar linkButton = nfRadio.channel( 'app' ).request( 'get:template',  '#tmpl-nf-rte-link-button' );\n\t\t\tvar linkDropdown = nfRadio.channel( 'app' ).request( 'get:template',  '#tmpl-nf-rte-link-dropdown' );\n\t\t\treturn ui.buttonGroup([\n\t\t\t\tui.button({\n\t            className: 'dropdown-toggle link-button',\n\t            contents: linkButton({}),\n\t            tooltip: nfi18n.fieldTextareaRTEInsertLink,\n\t            click: function( e ) {\n\t            \tthat.clickLinkButton( e, context );\n\t            },\n\t            data: {\n\t              toggle: 'dropdown'\n\t            }\n\t          }),\n\t\t\t\tui.dropdown([\n\t            ui.buttonGroup({\n\t              children: [\n\t                ui.button({\n\t                  contents: linkDropdown({}),\n\t                  tooltip: ''\n\t                }),\n\t              ]\n\t            })\n\t          ])\n\t\t\t]).render();\n\t\t},\n\n\t\tmediaButton: function( context ) {\n\t\t\tvar that = this;\n\t\t\tvar ui = jQuery.summernote.ui;\n\t\t\tvar mediaButton = nfRadio.channel( 'app' ).request( 'get:template',  '#tmpl-nf-rte-media-button' );\n\t\t\treturn ui.button({\n\t            className: 'dropdown-toggle',\n\t            contents: mediaButton({}),\n\t            tooltip: nfi18n.fieldTextareaRTEInsertMedia,\n\t            click: function( e ) {\n\t            \tthat.openMediaManager( e, context );\n\t            }\n\t          }).render();\n\t\t},\n\n\t\topenMediaManager: function( e, context ) {\n\t\t\tcontext.invoke( 'editor.saveRange' );\n\t\t\t// If the frame already exists, re-open it.\n\t\t\tif ( this.meta_image_frame ) {\n\t\t\t\tthis.meta_image_frame.open();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Sets up the media library frame\n\t\t\tthis.meta_image_frame = wp.media.frames.meta_image_frame = wp.media({\n\t\t\t\ttitle: nfi18n.fieldTextareaRTESelectAFile,\n\t\t\t\tbutton: { text:  'insert' }\n\t\t\t});\n\n\t\t\tvar that = this;\n\n\t\t\t// Runs when an image is selected.\n\t\t\tthis.meta_image_frame.on('select', function(){\n\n\t\t\t\t// Grabs the attachment selection and creates a JSON representation of the model.\n\t\t\t\tvar media_attachment = that.meta_image_frame.state().get('selection').first().toJSON();\n\t\t\t\tthat.insertMedia( media_attachment, context );\n\t\t\t});\n\n\t\t\t// Opens the media library frame.\n\t\t\tthis.meta_image_frame.open();\n\t\t},\n\n\t\tclickLinkButton: function ( e, context ) {\n\t\t\tvar range = context.invoke( 'editor.createRange' );\n\t\t\tcontext.invoke( 'editor.saveRange' );\n\t\t\tvar text = range.toString()\n\t\t\tthis.currentContext = context;\n\n\t\t\tjQuery( e.target ).closest( '.note-customGroup > .note-btn-group' ).on ('hide.bs.dropdown', function ( e ) {\n\t\t\t\treturn false;\n\t\t\t});\n\n\t\t\tjQuery( e.target ).closest( '.note-customGroup > .note-btn-group' ).on ('shown.bs.dropdown', function ( e ) {\n\t\t\t\tjQuery( e.target ).parent().parent().find( '.link-text' ).val( text );\n\t\t\t\tjQuery( e.target ).parent().parent().find( '.link-url' ).focus();\n\t\t\t});\n\t\t},\n\n\t\tclickExtra: function( e ) {\n\t\t\tvar textEl = jQuery( e.target ).parent().find( '.link-text' );\n\t\t\tvar urlEl = jQuery( e.target ).parent().find( '.link-url' );\n\t\t\tvar isNewWindowEl = jQuery( e.target ).parent().find( '.link-new-window' );\n\t\t\tthis.currentContext.invoke( 'editor.restoreRange' );\n\t\t\tif ( jQuery( e.target ).hasClass( 'insert-link' ) ) {\n\t\t\t\tvar text = textEl.val();\n\t\t\t\tvar url = urlEl.val();\n\t\t\t\tvar isNewWindow = ( isNewWindowEl.prop( 'checked' ) ) ? true: false;\n\t\t\t\tif ( 0 != text.length && 0 != url.length ) {\n\t\t\t\t\tthis.currentContext.invoke( 'editor.createLink', { text:text, url: url, isNewWindow: isNewWindow } );\n\t\t\t\t}\n\t\t\t}\n\t\t\ttextEl.val( '' );\n\t\t\turlEl.val( '' );\n\t\t\tisNewWindowEl.prop( 'checked', false );\n\t\t\tjQuery( e.target ).closest( 'div.note-btn-group.open' ).removeClass( 'open' );\n\t\t},\n\n\t\tinsertMedia: function( media, context ) {\n\t\t\tcontext.invoke( 'editor.restoreRange' );\n\t\t\tif ( 'image' == media.type ) {\n\t\t\t\tcontext.invoke( 'editor.insertImage', media.url );\n\t\t\t} else {\n\t\t\t\tcontext.invoke( 'editor.createLink', { text: media.filename, url: media.url } );\n\t\t\t}\n\n\t\t}\n\t});\n\n\treturn controller;\n} );\n","define('controllers/fieldStarRating',[], function() {\n    var controller = Marionette.Object.extend( {\n\n        initialize: function() {\n        \tthis.listenTo( nfRadio.channel( 'starrating' ), 'init:model', this.register );\n            this.listenTo( nfRadio.channel( 'starrating' ), 'render:view', this.initRating );\n        },\n\n        register: function( model ) {\n\t\t\tmodel.set( 'renderRatings', this.renderRatings );\n\t\t},\n\n        initRating: function( view ){\n            jQuery( view.el ).find( '.starrating' ).rating();\n\n        },\n\n        renderRatings: function() {\n        \tvar html = document.createElement( 'span' );\n        \t// changed from 'default' to 'number_of_stars'\n        \tfor (var i = 0; i <= this.number_of_stars - 1; i++) {\n                var template = nfRadio.channel( 'app' ).request( 'get:template',  '#tmpl-nf-field-starrating-star' );\n                var num = i + 1;\n                var checked = '';\n\n                // Check to see if current 'star' matches the default value\n\t\t        if ( this.value == num ) {\n\t\t        \tchecked = 'checked';\n\t\t        }\n                var htmlFragment = template( { id: this.id, classes: this.classes, num: num, checked: checked, required: this.required } );\n                html.appendChild(\n                    document.createRange().createContextualFragment( htmlFragment )\n                );\n        \t}\n        \treturn html.innerHTML;\n        }\n\n    });\n\n    return controller;\n});\n\n","define('controllers/fieldTerms',[], function() {\n    var controller = Marionette.Object.extend( {\n        initialize: function() {\n            this.listenTo( nfRadio.channel( 'terms' ), 'init:model', this.register );\n        },\n\n        register: function( model ) {\n            // nfRadio.channel( 'field-' + this.model.get( 'id' ) ).trigger( 'click:extra', e, this.model );\n            this.listenTo( nfRadio.channel( 'field-' + model.get( 'id' ) ), 'click:extra', this.clickExtra );\n            this.listenTo( nfRadio.channel( 'field-' + model.get( 'id' ) ), 'keyup:field', this.keyUpExtra );\n        },\n        \n        clickExtra: function( e, model ) {\n            var el = jQuery( e.currentTarget );\n            var value = el.parent().find( '.extra-value' ).val();\n            this.addOption( model, value );\n        },\n\n        keyUpExtra: function( el, model, keyCode ) {\n            if( 13 != keyCode ) return;\n            this.addOption( model, el.val() );\n        },\n\n        addOption: function( model, value ) {\n            if( ! value ) return;\n            var options = model.get( 'options' );\n            var new_option = {\n                label: value,\n                value: value,\n                selected: 0,\n            };\n            options.push( new_option );\n\n            var selected = model.get( 'value' );\n            selected.push( value );\n\n            // model.set( 'reRender', true );\n            model.trigger( 'reRender' );\n        }\n        \n    });\n\n    return controller;\n} );\n","/**\n * Before we display our form content, ask if anyone wants to give us a different view.\n * Before we do anything with the data, pass it through any loading filters.\n * \n * @package Ninja Forms builder\n * @subpackage Main App\n * @copyright (c) 2016 WP Ninjas\n * @since 3.0\n */\ndefine( 'controllers/formContentFilters',[], function() {\n\tvar controller = Marionette.Object.extend( {\n\t\tinitialize: function() {\n\t\t\t/*\n\t\t\t * Init our fieldContent view and load filter arrays.\n\t\t\t */\n\t\t\tthis.viewFilters = [];\n\t\t\tthis.loadFilters = [];\n\n\t\t\t/*\n\t\t\t * Listen for requests to add new formContent filters.\n\t\t\t */\n\t\t\tnfRadio.channel( 'formContent' ).reply( 'add:viewFilter', this.addViewFilter, this );\n\t\t\tnfRadio.channel( 'formContent' ).reply( 'add:loadFilter', this.addLoadFilter, this );\n\n\t\t\t/*\n\t\t\t * Listen for requests to get our formContent filters.\n\t\t\t */\n\t\t\tnfRadio.channel( 'formContent' ).reply( 'get:viewFilters', this.getViewFilters, this );\n\t\t\tnfRadio.channel( 'formContent' ).reply( 'get:loadFilters', this.getLoadFilters, this );\n\n\t\t\t/*\n\t\t\t * -- DEPRECATED RADIO REPLIES --\n\t\t\t * \n\t\t\t * The 'fieldContents' channel has been deprecated as of 3.0 (it was present in the RC) in favour of 'formContent'.\n\t\t\t * Listen for requests to add new fieldContent filters.\n\t\t\t * \n\t\t\t * TODO: These radio listeners on the 'fieldContents' channels are here for backwards compatibility and should be removed eventually.\n\t\t\t */\n\t\t\tnfRadio.channel( 'fieldContents' ).reply( 'add:viewFilter', this.addViewFilter, this );\n\t\t\tnfRadio.channel( 'fieldContents' ).reply( 'add:loadFilter', this.addLoadFilter, this );\n\n\t\t\t/*\n\t\t\t * Listen for requests to get our fieldContent filters.\n\t\t\t * TODO: Remove eventually.\n\t\t\t */\n\t\t\tnfRadio.channel( 'fieldContents' ).reply( 'get:viewFilters', this.getViewFilters, this );\n\t\t\tnfRadio.channel( 'fieldContents' ).reply( 'get:loadFilters', this.getLoadFilters, this );\n\t\t\n\t\t\t/*\n\t\t\t * -- END DEPRECATED --\n\t\t\t */\n\t\t},\n\n\t\taddViewFilter: function( callback, priority ) {\n\t\t\tthis.viewFilters[ priority ] = callback;\n\t\t},\n\n\t\tgetViewFilters: function() {\n\t\t\treturn this.viewFilters;\n\t\t},\n\n\t\taddLoadFilter: function( callback, priority ) {\n\t\t\tthis.loadFilters[ priority ] = callback;\n\t\t},\n\n\t\tgetLoadFilters: function() {\n\t\t\treturn this.loadFilters;\n\t\t}\n\n\t});\n\n\treturn controller;\n} );\n","define( 'views/fieldItem',[], function() {\n\tvar view = Marionette.ItemView.extend({\n\t\ttagName: 'div',\n\n\t\tinitialize: function() {\n    \t\tthis.listenTo( this.model, 'reRender', this.render, this );\n    \t\tthis.listenTo( this.model, 'change:addWrapperClass', this.addWrapperClass, this );\n    \t\tthis.listenTo( this.model, 'change:removeWrapperClass', this.removeWrapperClass, this );\n    \t\tthis.listenTo( this.model, 'change:invalid', this.toggleAriaInvalid, this );\n\n    \t\tthis.template = '#tmpl-nf-field-' + this.model.get( 'wrap_template' );\n\t\t},\n\n\t\ttest: function( model ) {\n\t\t\tconsole.log( 'firing from trigger 1' );\n\t\t},\n\n\t\taddWrapperClass: function() {\n\t\t\tvar cl = this.model.get( 'addWrapperClass' );\n\t\t\tif ( '' != cl ) {\n\t\t\t\tjQuery( this.el ).addClass( cl );\n\t\t\t\tthis.model.set( 'addWrapperClass', '' );\n\t\t\t}\n\t\t},\n\n\t\tremoveWrapperClass: function() {\n\t\t\tvar cl = this.model.get( 'removeWrapperClass' );\n\t\t\tif ( '' != cl ) {\n\t\t\t\tjQuery( this.el ).removeClass( cl );\n\t\t\t\tthis.model.set( 'removeWrapperClass', '' );\n\t\t\t}\n\t\t},\n\n\t\ttoggleAriaInvalid: function() {\n\t\t\tvar invalid = this.model.get( 'invalid' );\n\t\t\tjQuery( '[aria-invalid]', this.el ).attr( 'aria-invalid', JSON.stringify( invalid ) );\n\t\t},\n\n\t\tonRender: function() {\n\t\t\tthis.$el = this.$el.children();\n\t\t\tthis.$el.unwrap();\n\t\t\tthis.setElement( this.$el );\n\n\t   \t\t/*\n    \t\t * If we have an input mask, init that mask.\n    \t\t * TODO: Move this to a controller so that the logic isn't in the view.\n    \t\t */\n    \t\tif ( 'undefined' != typeof this.model.get( 'mask' ) && '' != String(this.model.get( 'mask' )).trim() ) {\n    \t\t\tif ( 'custom' == this.model.get( 'mask') ) {\n    \t\t\t\tvar mask = this.model.get( 'custom_mask' );\n    \t\t\t} else {\n    \t\t\t\tvar mask = this.model.get( 'mask' );\n    \t\t\t}\n\n\t\t\t\t/* POLYFILL */ Number.isInteger = Number.isInteger || function(value) { return typeof value === \"number\" && isFinite(value) && Math.floor(value) === value; };\n    \t\t\tif ( Number.isInteger( mask ) ) {\n    \t\t\t\tmask = mask.toString();\n    \t\t\t}\n\n\t\t\t\tif ( 'currency' == mask ) {\n\t\t\t\t\tvar form = nfRadio.channel( 'app' ).request( 'get:form', this.model.get( 'formID' ) );\n\n\t\t\t\t\tvar thousands_sep = form.get( 'thousands_sep' );\n\t\t\t\t\t/*\n\t\t\t\t\t * TODO: if we have a &nbsp; , replace it with a string with a space\n\t\t\t\t\t */\n\t\t\t\t\tif ( '&nbsp;' == thousands_sep || 160==thousands_sep.charCodeAt(0) ) {\n\t\t\t\t\t\tthousands_sep = ' ';\n\t\t\t\t\t}\n\t\t\t\t\tvar currencySymbol = jQuery( '<div/>' ).html( form.get( 'currencySymbol' ) ).text();\n\t\t\t\t\tthousands_sep = jQuery( '<div/>' ).html( thousands_sep ).text();\n\t\t\t\t\tvar decimal_point = jQuery( '<div/>' ).html( form.get( 'decimal_point' ) ).text();\n\t\t\t\t\t\n\t\t\t\t\t/*\n\t\t\t\t\t * TODO: Currently, these options use the plugin-wide defaults for locale.\n\t\t\t\t\t * When per-form locales are implemented, these will need to be revisited.\n\t\t\t\t\t */\n\t\t\t\t\tvar autoNumericOptions = {\n\t\t\t\t\t    digitGroupSeparator        : thousands_sep,\n\t\t\t\t\t    decimalCharacter           : decimal_point,\n\t\t\t\t\t    currencySymbol             : currencySymbol,\n\t\t\t\t\t\tmodifyValueOnWheel         : false\n\t\t\t\t\t};\n\n\t\t\t\t\t// Initialization\n\t\t\t\t\tvar autoN_el = jQuery(jQuery( this.el ).find( '.nf-element' )[ 0 ]);\n\t\t\t\t\tnew AutoNumeric( jQuery( this.el ).find( '.nf-element' )[ 0 ], autoNumericOptions );\n\t\t\t\t\t// update the value for the model so it gets saved to\n\t\t\t\t\t// the database properly\n\t\t\t\t\tvar context = this;\n\t\t\t\t\tautoN_el.on( 'change', function( e ) {\n\t\t\t\t\t\tcontext.model.set( 'value', e.target.value );\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tjQuery( this.el ).find( '.nf-element' ).mask( mask );\n\t\t\t\t} \t\t\t\n\t   \t\t}\n\n\t\t\tnfRadio.channel( this.model.get( 'type' ) ).trigger( 'render:view', this );\n\t\t\tnfRadio.channel( 'fields' ).trigger( 'render:view', this );\n\t\t},\n\n\t\ttemplateHelpers: function () {\n\t\t\tvar that = this;\n\t    \treturn {\n\n\t\t\t\trenderElement: function(){\n\t\t\t\t\t// Account for falsey default value of 0.\n\t\t\t\t\tif( this.clean && ! this.value && 0 === this.default ) this.value = '0';\n\t\t\t\t\tvar tmpl = _.find( this.element_templates, function( tmpl ) {\n\t\t\t\t\t\tif ( 0 < jQuery( '#tmpl-nf-field-' + tmpl ).length ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t\tvar template = nfRadio.channel( 'app' ).request( 'get:template',  '#tmpl-nf-field-' + tmpl );\n\t\t\t\t\t\n\t\t\t\t\treturn template( this );\n\t\t\t\t},\n\n\t\t\t\trenderLabel: function() {\n\t\t\t\t\tvar template = nfRadio.channel( 'app' ).request( 'get:template',  '#tmpl-nf-field-label' );\n\t\t\t\t\treturn template( this );\n\t\t\t\t},\n\n\t\t\t\trenderLabelClasses: function () {\n\t\t\t\t\tvar classes = '';\n\t\t\t\t\tif ( 'undefined' != typeof this.customLabelClasses ) {\n\t\t\t\t\t\tclasses = this.customLabelClasses( classes );\n\t\t\t\t\t}\n\t\t\t\t\treturn classes;\n\t\t\t\t},\n\n\t\t\t\trenderPlaceholder: function() {\n\t\t\t\t\tvar placeholder = this.placeholder;\n\n\t\t\t\t\tif ( 'undefined' != typeof this.customPlaceholder ) {\n\t\t\t\t\t\tplaceholder = this.customPlaceholder( placeholder );\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif( '' != String(placeholder).trim() ) {\n\t\t\t\t\t\treturn 'placeholder=\"' + _.escape( placeholder ) + '\"';\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn '';\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\trenderWrapClass: function() {\n\t\t\t\t\tvar wrapClass = 'field-wrap ' + this.type + '-wrap';\n\n\t\t\t\t\t// Check if type and parentType are different. If, so\n\t\t\t\t\t// then add appropriate parentType wrap class\n\t\t\t\t\tif ( this.type !== this.parentType ) {\n\t\t\t\t\t\twrapClass = wrapClass + ' ' + this.parentType + '-wrap';\n\t\t\t\t\t}\n\t\t\t\t\t// If we have an old_classname defined, output wrap class for backward compatibility\n\t\t\t\t\tif ( 'undefined' != typeof this.old_classname && 0 < String(this.old_classname).trim().length ) {\n\t\t\t\t\t\twrapClass += ' ' + this.old_classname + '-wrap';\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( 'undefined' != typeof customWrapClass ) {\n\t\t\t\t\t\twrapClass = customWrapClass( wrapClass );\n\t\t\t\t\t}\n\n\t\t\t\t\treturn wrapClass;\n\t\t\t\t},\n\n\t\t\t\trenderClasses: function() {\n\t\t\t\t\tvar classes = this.classes;\n\n\t\t\t\t\tif ( this.error ) {\n\t\t\t\t\t\tclasses += ' nf-error';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclasses = classes.replace( 'nf-error', '' );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( 'undefined' != typeof this.element_class && 0 < String(this.element_class).trim().length ) {\n\t\t\t\t\t\tclasses += ' ' + this.element_class;\n\t\t\t\t\t}\n\n\t\t\t\t\t/*\n\t\t\t\t\t * If we have a function for adding extra classes, add those.\n\t\t\t\t\t */\n\n\t\t\t\t\tif ( 'undefined' != typeof this.customClasses ) {\n\t\t\t\t\t\tclasses = this.customClasses( classes );\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn classes;\n\t\t\t\t},\n\n\t\t\t\tmaybeFilterHTML: function() {\n\t\t\t\t\treturn typeof nfFrontEnd.filter_esc_status !== \"undefined\" ? nfFrontEnd.filter_esc_status : \"false\";\n\t\t\t\t},\n\n\t\t\t\tmaybeDisabled: function() {\n\t\t\t\t\tif ( 1 == this.disable_input ) {\n\t\t\t\t\t\treturn 'disabled';\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn '';\n\t\t\t\t\t}\n\t\t\t\t},\n                \n                maybeRequired: function() {\n                    if ( 1 == this.required ) {\n                        return 'aria-required=\"true\" required';\n                    } else {\n                        return '';\n                    }\n                },\n\n\t\t\t\tmaybeDisableAutocomplete: function() {\n\t\t\t\t\tif ( 1 == this.disable_browser_autocomplete ) {\n\t\t\t\t\t\treturn 'autocomplete=\"off\"';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst autoType = this.translateAutoCompletionType( this.type );\n\t\t\t\t\t\treturn 'autocomplete=\"' + autoType + '\"';\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\ttranslateAutoCompletionType: function( type ){\n\t\t\t\t\t//https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/autocomplete\n\t\t\t\t\tswitch( type ){\n\t\t\t\t\t\tcase 'address':\n\t\t\t\t\t\t\treturn 'street-address';\n\t\t\t\t\t\tcase 'address2':\n\t\t\t\t\t\t\treturn 'address-line2';\n\t\t\t\t\t\tcase 'city':\n\t\t\t\t\t\t\treturn 'address-level2';\n\t\t\t\t\t\tcase 'email':\n\t\t\t\t\t\t\treturn 'email';\n\t\t\t\t\t\tcase 'firstname':\n\t\t\t\t\t\t\treturn 'given-name';\n\t\t\t\t\t\tcase 'lastname':\n\t\t\t\t\t\t\treturn 'family-name';\n\t\t\t\t\t\tcase 'zip':\n\t\t\t\t\t\t\treturn 'postal-code';\n\t\t\t\t\t\tcase 'phone':\n\t\t\t\t\t\t\treturn 'tel';\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\treturn 'on';\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tmaybeInputLimit: function() {\n\t\t\t\t\tif ( 'characters' == this.input_limit_type && '' != String(this.input_limit).trim() ) {\n\t\t\t\t\t\treturn 'maxlength=\"' + this.input_limit + '\"';\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn '';\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tgetHelpText: function() {\n\t\t\t\t\t// this.help_text = jQuery( this.help_text ).html();\n\t\t\t\t\t// return ( 'undefined' != typeof this.help_text ) ? this.help_text.replace(/\"/g, \"&quot;\") : '';\n\t\t\t\t\treturn ( 'undefined' != typeof this.help_text ) ? this.help_text : '';\n\t\t\t\t},\n\n\t\t\t\tmaybeRenderHelp: function() {\n\n\t\t\t\t\t// use jQuery().text() to make sure help_text has actual\n\t\t\t\t\t// text and not just HTML tags.\n\t\t\t\t\tvar check_text_par = document.createElement( 'p' );\n                    check_text_par.innerHTML = this.help_text;\n\n                    var shouldRenderHelpText = false;\n                    // Check for text or image tags\n\t\t\t\t\tif ( 0 != String(jQuery( check_text_par ).text()).trim().length\n\t\t\t\t\t\t|| 0 < jQuery( check_text_par ).find('img').length ) {\n                    \tshouldRenderHelpText = true;\n                    }\n\n\t\t\t\t\tif ( 'undefined' != typeof this.help_text && shouldRenderHelpText ) {\n\n\t\t\t\t\t\t// Strip HTML tags for accessibility\n\t\t\t\t\t\tfunction stripTags( input ) {\n\t\t\t\t\t\t\treturn input.replace(/<\\/?[^>]+(>|$)/g, \"\").trim();\n\t\t\t\t\t\t}\n \n\t\t\t\t\t\tvar icon = document.createElement( 'span' );\n\t\t\t\t\t\ticon.classList.add( 'fa', 'fa-info-circle', 'nf-help' );\n\t\t\t\t\t\ticon.setAttribute( 'data-text', this.getHelpText() );\n\t\t\t\t\t\ticon.setAttribute( 'tabindex', '0' ); // Make it focusable\n\t\t\t\t\t\ticon.setAttribute( 'aria-describedby',  'hidden-help-text-' + this.id ); // Link to the hidden description\n\t\t\t\t\t   \n\t\t\t\t\t\t// Create a hidden element for screen readers\n\t\t\t\t\t\tvar hiddenHelpText = document.createElement( 'span' );\n\t\t\t\t\t\thiddenHelpText.textContent = stripTags( this.help_text ); // Output the help text without tags\n\t\t\t\t\t\thiddenHelpText.id = 'hidden-help-text-' + this.id;\n\t\t\t\t\t\thiddenHelpText.classList.add( 'nf-sr-only' ); // Visually hidden but available for screen readers\n\t\t\t\t\t\thiddenHelpText.setAttribute( 'role', 'tooltip' );\n\t\t\t\t\t   \n\t\t\t\t\t\ticon.appendChild( hiddenHelpText ); // Append the hidden help text\n \n\t\t\t\t\t\treturn icon.outerHTML;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn '';\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\trenderDescText: function() {\n\t\t\t\t\tif ( 'undefined' == typeof this.desc_text ) {\n\t\t\t\t\t\treturn '';\n\t\t\t\t\t}\n\n\t\t\t\t\t// Creates an element so we can check to see if the text is empty.\n\t\t\t\t\tvar text = document.createElement( 'p' );\n\t\t\t\t\ttext.innerHTML = this.desc_text;\n\t\t\t\t\tif( 0 == String(text.innerText).trim().length ) return '';\n\n                    var check, checkText;\n\t\t\t\t\tcheckText = document.createTextNode( this.desc_text );\n\t\t\t\t\tcheck = document.createElement( 'p' );\n\t\t\t\t\tcheck.appendChild( checkText );\n\t\t\t\t\tif ( 0 != String(jQuery( check ).text()).trim().length ) {\n\t\t\t\t\t\tvar descriptionText, fieldDescription;\n                        descriptionText  = document.createRange().createContextualFragment( this.desc_text );\n                        fieldDescription  = document.createElement( 'div' );\n\t\t\t\t\t\tfieldDescription.classList.add( 'nf-field-description' );\n\t\t\t\t\t\tfieldDescription.setAttribute('aria-hidden', 'true');\n\t\t\t\t\t\tfieldDescription.setAttribute('id', 'nf-description-' + this.id);\n\t\t\t\t\t\tfieldDescription.appendChild( descriptionText );\n\t\t\t\t\t\treturn fieldDescription.outerHTML;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn '';\n\t\t\t\t\t}\n\t\t\t\t},\n                \n                renderNumberDefault: function() {\n                    // If the field is clean...\n                    if ( this.clean ) {\n                        // If we have a default...\n                        if ( 0 === this.default || this.default ) {\n                            return this.default;\n                        } // If we do not have a placeholder...\n                        else if ( ! this.placeholder ) {\n                            return this.value;\n                        } // Otherwise...\n                        else {\n                            return '';\n                        }\n                    } // Otherwise... (The field is not clean.)\n                    else {\n                        return this.value;\n                    }\n                },\n\n\t\t\t\trenderCurrencyFormatting: function( number ) {\n\t\t\t\t\t/*\n\t\t\t\t\t * Our number will have a . as a decimal point. We want to replace that with our locale decimal, nfi18n.decimal_point.\n\t\t\t\t\t */\n\t\t\t\t\tvar replacedDecimal = number.toString().replace( '.', '||' );\n\t\t\t\t\t/*\n\t\t\t\t\t * Add thousands separator. Our original number var won't have thousands separators.\n\t\t\t\t\t */\n\t\t\t\t\tvar replacedThousands = replacedDecimal.replace( /\\B(?=(\\d{3})+(?!\\d))/g, nfi18n.thousands_sep );\n\t\t\t\t\tvar formattedNumber = replacedThousands.replace( '||', nfi18n.decimal_point );\n\n\t\t\t\t\tvar form = nfRadio.channel( 'app' ).request( 'get:form', that.model.get( 'formID' ) );\n\t\t\t\t\tvar currency_symbol = form.get( 'settings' ).currency_symbol;\n\t\t\t\t\treturn currency_symbol + formattedNumber;\n\t\t\t\t},\n\n\t\t\t\tmaybeRenderTime: function() {\n\t\t\t\t\tif ( 'time_only' == this.date_mode || 'date_and_time' == this.date_mode ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\n\t\tevents: {\n\t\t\t'change .nf-element': 'fieldChange',\n\t\t\t'keyup .nf-element': 'fieldKeyup',\n\t\t\t'click .nf-element': 'fieldClick',\n\t\t\t'click .extra': 'extraClick',\n\t\t\t'change .extra': 'extraChange',\n\t\t\t'blur .nf-element': 'fieldBlur'\n\t\t},\n\n\t\tfieldChange: function( e ) {\n\t\t\tvar el = jQuery( e.currentTarget );\n\t\t\tvar response = nfRadio.channel( 'nfAdmin' ).request( 'change:field', el, this.model );\n\t\t},\n\n\t\tfieldKeyup: function( e ) {\n\t\t\tvar el = jQuery( e.currentTarget );\n\t\t\tvar keyCode = e.keyCode;\n\t\t\tnfRadio.channel( 'field-' + this.model.get( 'id' ) ).trigger( 'keyup:field', el, this.model, keyCode );\n\t\t\tnfRadio.channel( this.model.get( 'type' ) ).trigger( 'keyup:field', el, this.model, keyCode );\n\t\t\tnfRadio.channel( 'fields' ).trigger( 'keyup:field', el, this.model, keyCode );\n\t\t},\n\n\t\tfieldClick: function( e ) {\n\t\t\tvar el = jQuery( e.currentTarget );\n\t\t\tnfRadio.channel( 'field-' + this.model.get( 'id' ) ).trigger( 'click:field', el, this.model );\n\t\t\tnfRadio.channel( this.model.get( 'type' ) ).trigger( 'click:field', el, this.model );\n\t\t\tnfRadio.channel( 'fields' ).trigger( 'click:field', el, this.model );\n\t\t},\n\n\t\textraClick: function( e ) {\n\t\t\tnfRadio.channel( 'field-' + this.model.get( 'id' ) ).trigger( 'click:extra', e, this.model );\n\t\t\tnfRadio.channel( this.model.get( 'type' ) ).trigger( 'click:extra', e, this.model );\n\t\t\tnfRadio.channel( 'fields' ).trigger( 'click:extra', e, this.model );\n\t\t},\n\n\t\textraChange: function( e ) {\n\t\t\tnfRadio.channel( 'field-' + this.model.get( 'id' ) ).trigger( 'change:extra', e, this.model );\n\t\t\tnfRadio.channel( this.model.get( 'type' ) ).trigger( 'change:extra', e, this.model );\n\t\t\tnfRadio.channel( 'fields' ).trigger( 'change:extra', e, this.model );\n\t\t},\n\n\t\tfieldBlur: function( e ) {\n\t\t\tvar el = jQuery( e.currentTarget );\n\t\t\tnfRadio.channel( 'field-' + this.model.get( 'id' ) ).trigger( 'blur:field', el, this.model );\n\t\t\tnfRadio.channel( this.model.get( 'type' ) ).trigger( 'blur:field', el, this.model );\n\t\t\tnfRadio.channel( 'fields' ).trigger( 'blur:field', el, this.model );\n\t\t},\n\n\t\tonAttach: function() {\n\t\t\tnfRadio.channel( this.model.get( 'type' ) ).trigger( 'attach:view', this );\n\t\t}\n\t});\n\n\treturn view;\n} );\n\n","define( 'views/beforeField',[], function() {\n    var view = Marionette.ItemView.extend({\n        tagName: 'nf-section',\n        template: '#tmpl-nf-field-before'\n    });\n\n    return view;\n} );\n","define( 'views/fieldErrorItem',[], function() {\n\tvar view = Marionette.ItemView.extend({\n\t\ttagName: 'nf-section',\n\t\ttemplate: '#tmpl-nf-field-error',\n\n\t\tonRender: function() {\n\t\t\tthis.$el = this.$el.children();\n\t\t\tthis.$el.unwrap();\n\t\t\tthis.setElement( this.$el );\n\t\t},\n\t});\n\n\treturn view;\n} );\n","define( 'views/fieldErrorCollection',['views/fieldErrorItem'], function( fieldErrorItem ) {\n\tvar view = Marionette.CollectionView.extend({\n\t\ttagName: \"nf-errors\",\n\t\tchildView: fieldErrorItem,\n\n\t\tinitialize: function( options ) {\n\t\t\tthis.fieldModel = options.fieldModel;\n\t\t},\n\n\t\tonRender: function() {\n\t\t\tif ( 0 == this.fieldModel.get( 'errors' ).models.length ) {\n                this.fieldModel.removeWrapperClass( 'nf-error' );\n                this.fieldModel.removeWrapperClass( 'nf-fail' );\n                this.fieldModel.addWrapperClass( 'nf-pass' );\n                this.fieldModel.setInvalid( false );\n            } else {\n                this.fieldModel.removeWrapperClass( 'nf-pass' );\n                this.fieldModel.addWrapperClass( 'nf-fail' );\n                this.fieldModel.addWrapperClass( 'nf-error' );\n                this.fieldModel.setInvalid( true );\n            }\n\n\t\t}\n\t});\n\n\treturn view;\n} );\n\n","define( 'views/inputLimit',[], function() {\n    var view = Marionette.ItemView.extend({\n        tagName: 'nf-section',\n        template: '#tmpl-nf-field-input-limit',\n\n        initialize: function() {\n        \tthis.listenTo( nfRadio.channel( 'field-' + this.model.get( 'id' ) ), 'keyup:field', this.updateCount );\n        \tthis.count = this.model.get( 'input_limit' );\n        \tthis.render();\n        },\n\n        updateCount: function( el, model ) {\n            var value = jQuery( el ).val();\n            var regex = /\\s+/gi;\n            var words = String(value).trim().replace(regex, ' ').split(' ');\n            var wordCount = words.length;\n            var charCount = value.length;\n            \n            /**\n             * PHP Config has 'char' instead of 'characters', so I changed it to\n             * 'characters', but added 'char' here so existing form fields will\n             * act correctly\n             **/\n            if ( 'characters' == this.model.get( 'input_limit_type' )\n                    || 'char' == this.model.get( 'input_limit_type' ) ) {\n                jQuery( el ).attr( 'maxlength', this.model.get( 'input_limit' ) );\n                this.count = this.model.get( 'input_limit' ) - charCount;\n            } else {\n                this.count = this.model.get( 'input_limit' ) - wordCount;\n                var limit = this.model.get( 'input_limit' );\n                if( wordCount > limit ){\n                    jQuery( el ).val( words.slice( 0, limit).join( ' ' ) );\n                }\n            }\n\n        \tthis.render();\n        },\n\n        templateHelpers: function() {\n        \tvar that = this;\n        \treturn {\n        \t\tcurrentCount: function() {\n        \t\t\treturn that.count;\n        \t\t}\n        \t}\n        }\n\n    });\n\n    return view;\n} );\n","define( 'views/afterField',['views/fieldErrorCollection', 'views/inputLimit'], function( fieldErrorCollection, InputLimitView ) {\n    var view = Marionette.ItemView.extend({\n        tagName: 'nf-section',\n        template: '#tmpl-nf-field-after',\n\n        initialize: function() {\n    \t\tthis.model.on( 'change:errors', this.changeError, this );\n        },\n\n        onRender: function() {\n        \t/*\n        \t * If we have an error, render our error view.\n        \t * TODO: Perhaps move to a controller?\n        \t */\n        \tvar errorEl = jQuery( this.el ).children( '.nf-error-wrap' );\n    \t\tthis.errorCollectionView = new fieldErrorCollection( { el: errorEl, collection: this.model.get( 'errors' ), fieldModel: this.model } );\n            if ( 0 < this.model.get( 'errors' ).length ) {\n               this.errorCollectionView.render(); \n            }\n            \n    \t\t/*\n    \t\t * If we have an input limit set, render the view that contains our counter\n    \t\t * TODO: Move this to a controller so that the logic isn't in the view.\n    \t\t */\n    \t\tif ( 'undefined' != typeof this.model.get( 'input_limit' ) && '' != String(this.model.get( 'input_limit' )).trim() ){\n    \t\t\tvar inputLimitEl = jQuery( this.el ).children( '.nf-input-limit');\n    \t\t\tthis.inputLimitView = new InputLimitView( { el: inputLimitEl, model: this.model } );\n\t\t\t\tinputLimitEl.attr('aria-live', 'polite');\n\t\t\t\tinputLimitEl.attr('role', 'status');\n\t\t\t\tinputLimitEl.attr('aria-relevant', 'additions');\n\t\t\t\tinputLimitEl.attr( 'aria-atomic', true );\n    \t\t}\n        },\n\n        changeError: function() {\n\t\t\tthis.errorCollectionView.render();\n\t\t},\n\n    });\n\n    return view;\n} );\n","define( 'views/fieldRepeaterFieldLayout',['views/fieldItem', 'views/beforeField', 'views/afterField'], function( fieldItem, beforeField, afterField ) {\n\n    var view = Marionette.LayoutView.extend({\n        tagName: 'nf-field',\n\n        regions: {\n            beforeField: '.nf-before-field',\n            field: '.nf-field',\n            afterField: '.nf-after-field',\n        },\n\n        initialize: function() {\n            this.listenTo( this.model, 'change:visible', this.render, this );\n        },\n\n        getTemplate: function() {\n            if ( this.model.get( 'visible' ) ) {\n                return '#tmpl-nf-field-layout';\n            } else {\n                return '#tmpl-nf-empty';\n            }\n        },\n\n        onRender: function() {\n            if ( this.model.get( 'visible' ) ) {\n                this.beforeField.show( new beforeField( { model: this.model } ) );\n                this.field.show( new fieldItem( { model: this.model } ) ); \n                this.afterField.show( new afterField( { model: this.model } ) );\n            }\n        },\n\n        templateHelpers: function() {\n            return {\n                renderContainerClass: function() {\n                    var containerClass = ' label-' + this.label_pos + ' ';\n                    // If we have a description position, add that to our container.\n                    if ( 'undefined' != typeof this.desc_pos ) {\n                        containerClass += 'desc-' + this.desc_pos + ' ';\n                    }\n                    // if we have a container_class field setting, add that to our container.\n                    if ( 'undefined' != typeof this.container_class && 0 < String(this.container_class).trim().length ) {\n                        containerClass += this.container_class + ' ';\n                    }\n\n                    //check if the parent type and type are different. If\n                    // so, add parent type container styling\n                    \n                    if( this.type !== this.parentType ) {\n                        containerClass += ' ' + this.parentType + '-container';\n                    }\n                    return containerClass;\n                }\n            }\n        }\n    });\n\n    return view;\n} );\n\n","define( 'views/fieldRepeaterFieldCollection',['views/fieldRepeaterFieldLayout'], function( fieldLayout ) {\n\tvar view = Marionette.CollectionView.extend({\n\t\ttagName: 'nf-fields-wrap',\n\t\tchildView: fieldLayout,\n\t});\n\n\treturn view;\n} );\n","define( 'views/fieldRepeaterSetLayout',[ 'views/fieldRepeaterFieldCollection' ], function( fieldCollection ) {\n    var view = Marionette.LayoutView.extend({\n        tagName: 'fieldset',\n        template: '#tmpl-nf-field-repeater-set',\n\n        regions: {\n            fields: '.nf-repeater-fieldset',\n        },\n\n        onRender: function() {\n            this.fields.show( new fieldCollection( { collection: this.model.get( 'fields' ) } ) );\n        },\n\n\t\ttemplateHelpers: function() {\n\t\t\treturn {\n\t\t\t\tmaybeFilterHTML: function()  {\n\t\t\t\t\treturn typeof nfFrontEnd.filter_esc_status !== \"undefined\" ? nfFrontEnd.filter_esc_status : \"false\";\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n        events: {\n            'click .nf-remove-fieldset': 'removeSet',\n        },\n\n        removeSet: function() {\n            nfRadio.channel( \"field-repeater\" ).trigger( 'remove:fieldset',  this.model )\n        }\n\n    });\n\n    return view;\n} );\n","define( 'views/fieldRepeaterSetCollection',['views/fieldRepeaterSetLayout'], function( repeaterSetLayout ) {\n\tvar view = Marionette.CollectionView.extend({\n\t\ttagName: 'div',\n\t\tchildView: repeaterSetLayout,\n\t});\n\n\treturn view;\n} );\n","define( 'views/fieldRepeaterLayout',[ 'views/fieldRepeaterSetCollection' ], function( repeaterSetCollection ) {\n\n    var view = Marionette.LayoutView.extend({\n        tagName: 'div',\n        template: '#tmpl-nf-field-repeater',\n\n        regions: {\n            sets: '.nf-repeater-fieldsets',\n        },\n\n        initialize: function() {\n\n            this.collection = this.model.get( 'sets' );\n\n\t\t\tthis.listenTo( nfRadio.channel('field-repeater'), 'rerender:fieldsets', this.render );\n\n        },\n\n        onRender: function() { \n            this.sets.show( new repeaterSetCollection( { collection: this.collection } ) );\n        },\n\n\t\ttemplateHelpers: function() {\n\t\t\treturn {\n\t\t\t\tmaybeFilterHTML: function()  {\n\t\t\t\t\treturn typeof nfFrontEnd.filter_esc_status !== \"undefined\" ? nfFrontEnd.filter_esc_status : \"false\";\n\t\t\t\t},\n                renderDescText: function() {\n\t\t\t\t\tif ( 'undefined' == typeof this.desc_text ) {\n\t\t\t\t\t\treturn '';\n\t\t\t\t\t}\n\n\t\t\t\t\t// Creates an element so we can check to see if the text is empty.\n\t\t\t\t\tvar text = document.createElement( 'p' );\n\t\t\t\t\ttext.innerHTML = this.desc_text;\n\t\t\t\t\tif( 0 == String(text.innerText).trim().length ) return '';\n\n                    var check, checkText;\n\t\t\t\t\tcheckText = document.createTextNode( this.desc_text );\n\t\t\t\t\tcheck = document.createElement( 'p' );\n\t\t\t\t\tcheck.appendChild( checkText );\n\t\t\t\t\tif ( 0 != String(jQuery( check ).text()).trim().length ) {\n\t\t\t\t\t\tvar descriptionText, fieldDescription;\n                        descriptionText  = document.createRange().createContextualFragment( this.desc_text );\n                        fieldDescription  = document.createElement( 'div' );\n\t\t\t\t\t\tfieldDescription.classList.add( 'nf-field-description' );\n\t\t\t\t\t\tfieldDescription.appendChild( descriptionText );\n\t\t\t\t\t\treturn fieldDescription.outerHTML;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn '';\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\n        events: {\n            'click .nf-add-fieldset': 'addSet'\n        },\n\n        addSet: function() {\n            nfRadio.channel( 'field-repeater' ).trigger( 'add:fieldset', this.model.id );   \n        },\n\n        beforeSubmit: function() {\n\t\t\tthis.collection.beforeSubmit( this.model.get( 'sets' ) );\n\t\t}\n        \n\n    });\n\n    return view;\n} );\n","define( 'views/fieldLayout',['views/fieldItem', 'views/beforeField', 'views/afterField', 'views/fieldRepeaterLayout'], function( fieldItem, beforeField, afterField, repeaterFieldLayout ) {\n\n    var view = Marionette.LayoutView.extend({\n        tagName: 'nf-field',\n\n        regions: {\n            beforeField: '.nf-before-field',\n            field: '.nf-field',\n            afterField: '.nf-after-field',\n        },\n\n        initialize: function() {\n            this.listenTo( this.model, 'change:visible', this.render, this );\n        },\n\n        getTemplate: function() {\n            if ( this.model.get( 'visible' ) ) {\n                return '#tmpl-nf-field-layout';\n            } else {\n                return '#tmpl-nf-empty';\n            }\n        },\n\n        onRender: function() {\n            if ( this.model.get( 'visible' ) ) {\n                \n                if ( 'repeater' == this.model.get( 'type' ) ) {\n                    this.field.show( new repeaterFieldLayout( { model: this.model } ) );\n                } else {\n                    this.beforeField.show( new beforeField( { model: this.model } ) );\n                    this.field.show( new fieldItem( { model: this.model } ) ); \n                    this.afterField.show( new afterField( { model: this.model } ) );\n                }\n                \n            }\n        },\n\n        templateHelpers: function() {\n            return {\n                renderContainerClass: function() {\n                    var containerClass = ' label-' + this.label_pos + ' ';\n                    // If we have a description position, add that to our container.\n                    if ( 'undefined' != typeof this.desc_pos ) {\n                        containerClass += 'desc-' + this.desc_pos + ' ';\n                    }\n                    // if we have a container_class field setting, add that to our container.\n                    if ( 'undefined' != typeof this.container_class && 0 < String(this.container_class).trim().length ) {\n                        containerClass += this.container_class + ' ';\n                    }\n\n                    //check if the parent type and type are different. If\n                    // so, add parent type container styling\n                    \n                    if( this.type !== this.parentType ) {\n                        containerClass += ' ' + this.parentType + '-container';\n                    }\n\n                    return containerClass;\n                }\n            }\n        }\n\n    });\n\n    return view;\n} );\n\n","/**\n * Return views that might be used in extensions.\n * These are un-instantiated views.\n * \n * @package Ninja Forms builder\n * @subpackage Main App\n * @copyright (c) 2015 WP Ninjas\n * @since 3.0\n */\ndefine( 'controllers/loadViews',['views/fieldItem', 'views/fieldLayout'], function( fieldItemView, fieldLayoutView ) {\n\tvar controller = Marionette.Object.extend( {\n\t\tinitialize: function() {\n\t\t\t// Reply to requests for our field item view.\n\t\t\tnfRadio.channel( 'views' ).reply( 'get:fieldItem', this.getFieldItem );\n\n\t\t\tnfRadio.channel( 'views' ).reply( 'get:fieldLayout', this.getFieldLayout );\n\t\t},\n\n\t\tgetFieldItem: function( model ) {\n\t\t\treturn fieldItemView;\n\t\t},\n\n\t\tgetFieldLayout: function() {\n\t\t\treturn fieldLayoutView;\n\t\t}\n\n\t});\n\n\treturn controller;\n} );\n","/**\n * If a form has at least one field error, we should disable the submit button and add a form error.\n * If a form had errors, but all the field errors have been removed, we should remove the form error.\n *\n * @since 3.0\n */\ndefine('controllers/formErrors',[], function() {\n\tvar controller = Marionette.Object.extend( {\n\t\tinitialize: function() {\n\t\t\t/*\n\t\t\t * Listen for error messages being added to and removed from fields.\n\t\t\t */\n\t\t\tthis.listenTo( nfRadio.channel( 'fields' ), 'add:error', this.addError );\n\t\t\tthis.listenTo( nfRadio.channel( 'fields' ), 'remove:error', this.removeError );\n\n\t\t\t/*\n\t\t\t * Respond to requests to get form errors\n\t\t\t */\n\t\t\tnfRadio.channel( 'form' ).reply( 'get:errors', this.getFormErrors );\n\t\t},\n\n\t\taddError: function( fieldModel, errorID, errorMsg ) {\n\t\t\tvar formModel = nfRadio.channel( 'app' ).request( 'get:form', fieldModel.get( 'formID' ) );\n\t\t\t/*\n\t\t\t * We store our errors in this object by field ID so that we don't have to loop over all our fields when we're testing for errors.\n\t\t\t * They are stored as an object within an array, using the field ID as the key.\n\t\t\t *\n\t\t\t * If we haven't setup an array item for this field, set it as an object.\n\t\t\t */\n\t\t\tif ( 'undefined' == typeof formModel.get( 'fieldErrors' )[ fieldModel.get( 'id' ) ] ) {\n\t\t\t\tformModel.get( 'fieldErrors' )[ fieldModel.get( 'id' ) ] = {};\n\t\t\t}\n\t\t\t// Add an error to our tracking array\n\t\t\tformModel.get( 'fieldErrors' )[ fieldModel.get( 'id' ) ][ errorID ] = errorMsg;\n\t\t\t/*\n\t\t\t * We have at least one field error, so submmission should be prevented.\n\t\t\t * Add a form error.\n\t\t\t */\n\t\t\tnfRadio.channel( 'form-' + fieldModel.get( 'formID' ) ).request( 'add:error', 'field-errors', formModel.get( 'settings' ).formErrorsCorrectErrors );\n\t\t},\n\n\t\tremoveError: function( fieldModel, errorID ) {\n\t\t\tvar formModel = nfRadio.channel( 'app' ).request( 'get:form', fieldModel.get( 'formID' ) );\n\t\t\t// Remove this error ID from our tracking array.\n\t\t\tformModel.get( 'fieldErrors' )[ fieldModel.get( 'id' ) ] = _.omit( formModel.get( 'fieldErrors' )[ fieldModel.get( 'id' ) ], errorID );\n\t\t\t/*\n\t\t\t * If we don't have any more error IDs on this field, then we need to remove this field from the array.\n\t\t\t *\n\t\t\t * Then, if the fieldErrors tracking array has a length of 0, we remove our form error, because all field errors have been dealt with.\n\t\t\t */\n\t\t\tif ( 0 == _.size( formModel.get( 'fieldErrors' )[ fieldModel.get( 'id' ) ] ) ) {\n\t\t\t\tdelete formModel.get( 'fieldErrors' )[ fieldModel.get( 'id' ) ];\n\t\t\t}\n\n\t\t\tif ( 0 == _.size( formModel.get( 'fieldErrors' ) ) ) {\n\t\t\t\t// Remove our form error.\n\t\t\t\tnfRadio.channel( 'form-' + fieldModel.get( 'formID' ) ).request( 'remove:error', 'field-errors' );\n\t\t\t}\n\t\t},\n\n\t\tgetFormErrors: function( formID ) {\n\t\t\tvar formModel = nfRadio.channel( 'app' ).request( 'get:form', formID );\n\t\t\tvar errors = false;\n\t\t\t\n\t\t\tif ( formModel ) {\n\t\t\t\t/*\n\t\t\t\t * Check to see if we have any errors on our form model.\n\t\t\t\t */\n\t\t\t\tif ( 0 !== formModel.get( 'errors' ).length ) {\n\t\t\t\t\t_.each( formModel.get( 'errors' ).models, function( error ) {\n\t\t\t\t\t\terrors = errors || {};\n\t\t\t\t\t\terrors[ error.get( 'id' ) ] = error.get( 'msg' );\n\t\t\t\t\t} );\t\t\t\t\t\t\n\t\t\t\t}\n\n\t\t\t\t\n\t\t\t}\n\t\t\treturn errors;\n\t\t}\n\t});\n\n\treturn controller;\n} );\n","/**\n * Handles submission of our form.\n */\ndefine('controllers/submit',[], function() {\n\tvar controller = Marionette.Object.extend( {\n\t\tinitialize: function() {\n\t\t\tthis.listenTo( nfRadio.channel( 'forms' ), 'init:model', this.registerSubmitHandler );\n\t\t},\n\n\t\t/**\n\t\t * Register the submission handler function.\n\t\t *\n\t\t * @since  3.0\n\t\t * @param  Backbone.model \tformModel\n\t\t * @return void\n\t\t */\n\t\tregisterSubmitHandler: function( formModel ) {\n\t\t\tnfRadio.channel( 'form-' + formModel.get( 'id' ) ).reply( 'submit', this.submit );\n\t\t},\n\n\t\t/**\n\t\t * Handles the actual submission of our form.\n\t\t * When we submit:\n\t\t *\n\t\t * 1) Send out a message saying that we're about to begin form submission.\n\t\t * 2) Check the form for errors\n\t\t * 3) Submit the data\n\t\t * 4) Send out a message with our response\n\t\t *\n\t\t * @since  3.0\n\t\t * @param  Backbone.model \tformModel\n\t\t * @return void\n\t\t */\n\t\tsubmit: function( formModel ) {\n\n\t\t\t/*\n\t\t\t * Send out a radio message saying that we're about to begin submitting.\n\t\t\t * First we send on the generic forms channel, and then on the form-specific channel.\n\t\t\t */\n\t\t\tnfRadio.channel( 'forms' ).trigger( 'before:submit', formModel );\n\t\t\tnfRadio.channel( 'form-' + formModel.get( 'id' ) ).trigger( 'before:submit', formModel );\n\n\t\t\t/*\n\t\t\t * Validate our field models.\n\t\t\t */\n\t\t\tvar validate = nfRadio.channel( 'forms' ).request( 'maybe:validate', formModel );\n\t\t \tif( false !== validate ){\n\n                // When validating all fields, set clean to false to force validation.\n                _.each( formModel.get( 'fields' ).models, function( fieldModel ) {\n                    fieldModel.set( 'clean', false );\n                } );\n\n\t\t\t\t/*\n\t\t\t\t * This method is defined in our models/fieldCollection.js file,\n\t\t\t\t * except where overridden by an add-on (ie Layout & Styles).\n\t\t\t\t */\n\t\t\t\tformModel.get( 'formContentData' ).validateFields();\n\t\t\t}\n\n\t\t\tvar submit = nfRadio.channel( 'form-' + formModel.get( 'id' ) ).request( 'maybe:submit', formModel );\n\t\t\tif ( false == submit ) {\n\t\t\t\tnfRadio.channel( 'forms' ).trigger( 'submit:cancel', formModel );\n\t\t\t\tnfRadio.channel( 'form-' + formModel.get( 'id' ) ).trigger( 'submit:cancel', formModel );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif( false !== validate ){\n\n\t\t\t\t// Ignore non-blocking errors.\n\t\t\t\tvar blockingFormErrors = _.filter( formModel.get( 'errors' ).models, function( error ){\n\n\t\t\t\t\t// Ignore email action related errors.\n\t\t\t\t\tif( 'invalid_email' == error.get( 'id' ) || 'email_not_sent' == error.get( 'id' ) ) return false;\n\n\t\t\t\t\treturn true; // Error is blocking.\n\t\t\t\t});\n\n\t\t\t\t/*\n\t\t\t\t * Make sure we don't have any form errors before we submit.\n\t\t\t\t * Return false if we do.\n\t\t\t\t */\n\t\t\t\tif ( 0 != _.size( blockingFormErrors ) ) {\n\t\t\t\t\tnfRadio.channel( 'forms' ).trigger( 'submit:failed', formModel );\n\t\t\t\t\tnfRadio.channel( 'form-' + formModel.get( 'id' ) ).trigger( 'submit:failed', formModel );\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * Send out a radio message saying that we're about to begin submitting.\n\t\t\t * First we send on the generic forms channel, and then on the form-specific channel.\n\t\t\t */\n\t\t\tnfRadio.channel( 'forms' ).trigger( 'after:submitValidation', formModel );\n\t\t\tnfRadio.channel( 'form-' + formModel.get( 'id' ) ).trigger( 'after:submitValidation', formModel );\n\n\t\t\t/*\n\t\t\t * Actually submit our form, and send out a message with our response.\n\t\t\t */\n\n \t\t\tvar formID = formModel.get( 'id' );\n\t\t\tvar fields = {};\n\t\t\t_.each( formModel.get( 'fields' ).models, function( field ) {\n\t\t\t\tvar fieldDataDefaults = { value:field.get( 'value' ), id:field.get( 'id' ) };\n\n\t\t\t\t// Add field data at the field ID for efficient access.\n\t\t\t\tfields[ field.get( 'id' ) ] = nfRadio.channel( field.get( 'type' ) ).request( 'get:submitData', fieldDataDefaults, field ) || fieldDataDefaults;;\n\t\t\t} );\n\t\t\tvar extra = formModel.get( 'extra' );\n\t\t\tvar settings = formModel.get( 'settings' );\n\t\t\tdelete settings.formContentData;\n\t\t\tvar formData = JSON.stringify( { id: formID, fields: fields, settings: settings, extra: extra } );\n\t\t\tvar data = {\n\t\t\t\t'action': 'nf_ajax_submit',\n\t\t\t\t'security': nfFrontEnd.ajaxNonce,\n\t\t\t\t'nonce_ts': nfFrontEnd.nonce_ts,\n\t\t\t\t'formData': formData\n\t\t\t}\n\n\t\t\tvar that = this;\n\n\t\t\tjQuery.ajax({\n\t\t\t    url: nfFrontEnd.adminAjax,\n\t\t\t    type: 'POST',\n\t\t\t    data: data,\n\t\t\t    cache: false,\n\t\t\t   \tsuccess: function( data, textStatus, jqXHR ) {\n\t\t\t   \t\ttry {\n\t\t\t\t   \t\tvar response = data;\n\t\t\t\t        nfRadio.channel( 'forms' ).trigger( 'submit:response', response, textStatus, jqXHR, formModel.get( 'id' ) );\n\t\t\t\t    \tnfRadio.channel( 'form-' + formModel.get( 'id' ) ).trigger( 'submit:response', response, textStatus, jqXHR );\n\t\t\t\t    \tjQuery( document ).trigger( 'nfFormSubmitResponse', { response: response, id: formModel.get( 'id' ) } );\n\t\t\t   \t\t} catch( e ) {\n\t\t\t   \t\t\tconsole.log( e );\n\t\t\t   \t\t\tconsole.log( 'Parse Error' );\n\t\t\t\t\t\tconsole.log( e );\n\t\t\t   \t\t}\n\n\t\t\t    },\n\t\t\t    error: function( jqXHR, textStatus, errorThrown ) {\n\t\t\t        // Handle errors here\n\t\t\t        console.log('ERRORS: ' + errorThrown);\n\t\t\t\t\tconsole.log( jqXHR );\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar response = jQuery.parseJSON( jqXHR.responseText );\n\t\t\t\t\t\tnfRadio.channel( 'forms' ).trigger( 'submit:response', response, textStatus, jqXHR, formModel.get( 'id' ) );\n\t\t\t\t\t\tnfRadio.channel( 'form-' + formModel.get( 'id' ) ).trigger( 'submit:response', response, textStatus, jqXHR );\n\t\t\t\t\t} catch( e ) {\n\t\t\t\t\t\tconsole.log( 'Parse Error: ' + jqXHR.responseText);\n\t\t\t\t\t\tnfRadio.channel( 'form-' + formModel.get( 'id' ) ).request( 'add:error', 'parse-response-ERROR', errorThrown );\n\t\t\t\t\t}\n\n\t\t\t    }\n\t\t\t});\n\n\t\t}\n\n\t});\n\n\treturn controller;\n} );\n\n","define( 'views/fieldCollection',['views/fieldLayout'], function( fieldLayout ) {\n\tvar view = Marionette.CollectionView.extend({\n\t\ttagName: 'nf-fields-wrap',\n\t\tchildView: fieldLayout\n\n\t});\n\n\treturn view;\n} );\n","/**\n * Default filters\n * \n * @package Ninja Forms builder\n * @subpackage Main App\n * @copyright (c) 2015 WP Ninjas\n * @since 3.0\n */\ndefine( 'controllers/defaultFilters',[ 'views/fieldCollection', 'models/fieldCollection' ], function( FieldCollectionView, FieldCollection ) {\n\tvar controller = Marionette.Object.extend( {\n\t\tinitialize: function() {\n\t\t\tthis.listenTo( nfRadio.channel( 'form' ), 'before:filterData', this.registerDefaultDataFilter );\n\t\t},\n\n\t\tregisterDefaultDataFilter: function( formModel ) {\n\t\t\t/*\n\t\t\t * Set our default formContent load filter\n\t\t\t */\n\t\t\tnfRadio.channel( 'formContent' ).request( 'add:loadFilter', this.defaultFormContentLoad, 10, this );\n\t\t\t/*\n\t\t\t * Set our default formContentView.\n\t\t\t */\n\t\t\tnfRadio.channel( 'formContent' ).request( 'add:viewFilter', this.defaultFormContentView, 10, this );\n\t\t},\n\n\t\tdefaultFormContentLoad: function( formContentData, formModel, context ) {\n\t\t\tvar fieldCollection = formModel.get( 'fields' );\n\t\t\t/*\n\t\t\t * If we only have one load filter, we can just return the field collection.\n\t\t\t */\n\t\t\tvar formContentLoadFilters = nfRadio.channel( 'formContent' ).request( 'get:loadFilters' );\n\t\t\tvar sortedArray = _.without( formContentLoadFilters, undefined );\n\t\t\tif ( 1 == sortedArray.length || 'undefined' == typeof formContentData || true === formContentData instanceof Backbone.Collection ) return formModel.get( 'fields' );\n\n        \tvar fieldModels = _.map( formContentData, function( key ) {\n        \t\treturn formModel.get( 'fields' ).findWhere( { key: key } );\n        \t}, this );\n\n        \tvar currentFieldCollection = new FieldCollection( fieldModels );\n\n        \tfieldCollection.on( 'reset', function( collection ) {\n        \t\tvar resetFields = [];\n        \t\tcurrentFieldCollection.each( function( fieldModel ) {\n        \t\t\tif ( 'submit' != fieldModel.get( 'type' ) ) {\n        \t\t\t\tresetFields.push( collection.findWhere( { key: fieldModel.get( 'key' ) } ) );\n        \t\t\t} else {\n        \t\t\t\tresetFields.push( fieldModel );\n        \t\t\t}\n        \t\t} );\n\n                currentFieldCollection.options = { formModel: formModel };\n        \t\tcurrentFieldCollection.reset( resetFields );\n        \t} );\n\n        \treturn currentFieldCollection;\n        },\n\n        defaultFormContentView: function() {\n        \treturn FieldCollectionView;\n        }\n\n\t});\n\n\treturn controller;\n} );\n","/**\n * Controller responsible for removing unique field errors.\n */\n\ndefine('controllers/uniqueFieldError',[], function() {\n\tvar controller = Marionette.Object.extend( {\n\n\t\tinitialize: function() {\n\t\t\t/*\n\t\t\t * Listen to keyup and field changes.\n\t\t\t *\n\t\t\t * If those fields have a unique field error, remove that error.\n\t\t\t */\n\t\t\tthis.listenTo( nfRadio.channel( 'fields' ), 'change:modelValue', this.removeError );\n\t\t\tthis.listenTo( nfRadio.channel( 'fields' ), 'keyup:field', this.removeError );\n\t\t\tthis.listenTo( nfRadio.channel( 'fields' ), 'blur:field', this.removeError );\n\n\t\t},\n\n\t\tremoveError: function( el, model ) {\n\t\t\tmodel = model || el;\n\t\t\t/*\n\t\t\t * Remove any unique field errors.\n\t\t\t */\n\t\t\tnfRadio.channel( 'fields' ).request( 'remove:error', model.get( 'id' ), 'unique_field' );\n\t\t},\n\n\t});\n\n\treturn controller;\n} );\n","let nfAllRepeaterFieldsModels = [];\ndefine( 'models/fieldRepeaterSetModel',[], function() {\n\tvar model = Backbone.Model.extend( {\n\n\t\tinitialize: function(collection, options) {\n\n\t\t\tthis.repeaterFieldModel = options.repeaterFieldModel;\n\n\t\t\tthis.set( 'label', this.repeaterFieldModel.get('label') );\n\n\t\t\tif(collection && options){\n\t\t\t\tthis.initAllRepeaterFieldsModels(collection, options);\n\t\t\t}\n\n\t\t\tnfRadio.channel( \"field-repeater\" ).reply( 'get:repeaterFields', this.getRepeaterFields, this );\n\t\t\tnfRadio.channel( \"field-repeater\" ).reply( 'get:repeaterFieldById', this.getRepeaterFieldById, this );\n\t\t\tnfRadio.channel( \"field-repeater\" ).reply( 'get:repeaterModels', this.getAllRepeaterFieldsModels, this );\n\t\t\tnfRadio.channel( \"field-repeater\" ).reply( 'get:repeaterFieldsetsByForm', this.getAllFieldsetsByForm, this );\n\t\t\tnfRadio.channel( \"field-repeater\" ).reply( 'get:repeaterFieldsModelsArrayByForm', this.getAllFieldsModelsArrayByForm, this );\n\t\t\tthis.listenTo( nfRadio.channel('field-repeater'), 'set:repeaterModels', this.setAllRepeaterFieldsModels);\n\t\t\tthis.listenTo( nfRadio.channel('field-repeater'), 'set:value', this.setAllRepeatersValues );\n\t\t},\n\n\t\tsetAllRepeaterFieldsModels: function() {\n\t\t\tthis.set( 'repeaterFieldsetsModels', nfAllRepeaterFieldsModels );\n\t\t\tthis.allRepeatersFieldsetsModels = nfAllRepeaterFieldsModels;\n\t\t},\n\n\t\tinitAllRepeaterFieldsModels: function(collection, options) {\t\n\t\t\tconst formID = options.repeaterFieldModel.get('formID');\n\t\t\tconst repeaterID = options.repeaterFieldModel.get('id');\n\t\t\tconst currentModels = collection.fields.models;\n\t\t\t\n\t\t\tlet isModelSet = nfAllRepeaterFieldsModels.find(model => model.id === repeaterID && model.form === formID);\n\n\t\t\tif ( isModelSet ){\n\t\t\t\tisModelSet.fields = isModelSet.fields.concat(currentModels);\n\t\t\t} else {\n\t\t\t\tnfAllRepeaterFieldsModels.push( {\n\t\t\t\t\tform: formID,\n\t\t\t\t\tid: repeaterID,\n\t\t\t\t\tfields: currentModels\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.setAllRepeaterFieldsModels();\n\t\t},\n\n\t\tgetAllRepeaterFieldsModels: function() {\n\t\t\treturn nfAllRepeaterFieldsModels;\n\t\t},\n\n\t\tgetAllFieldsetsByForm: function(formID) {\n\t\t\tconst allFormsModels = this.getAllRepeaterFieldsModels();\n\t\t\tconst thisFormModels = allFormsModels.filter( model => model.form === formID );\n\n\t\t\treturn thisFormModels;\n\t\t},\n\n\t\tgetAllFieldsModelsArrayByForm: function(formID) {\n\t\t\tconst thisFormModels = this.getAllFieldsetsByForm(formID);\n\t\t\tlet singleArray = [];\n\t\t\tthisFormModels.map( model => {\n\t\t\t\tsingleArray = singleArray.concat(model.fields);\n\t\t\t});\n\n\t\t\treturn singleArray;\n\t\t},\n\n\t\tgetRepeaterFields: function(repeaterID) {\n\t\t\tconst allModels = this.getAllRepeaterFieldsModels();\n\t\t\tlet fields = allModels.find(model => String(model.id) === String(repeaterID));\n\t\t\tif(typeof fields === \"undefined\"){\n\t\t\t\tfields = this.reverseResearchFieldsetModel(repeaterID, allModels);\n\t\t\t}\n\n\t\t\treturn fields;\n\t\t},\n\n\t\treverseResearchFieldsetModel: function(repeaterID, allModels) {\n\t\t\tlet fields;\n\t\t\t_.each(allModels, function(fieldsetModel) {\n\t\t\t\t_.each(fieldsetModel.fields, function(fieldModel){\n\t\t\t\t\tif(String(fieldModel.id).startsWith(repeaterID)){\n\t\t\t\t\t\tfields = fieldsetModel;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn fields;\n\t\t},\n\n\t\tgetRepeaterFieldById: function( id ){\n\t\t\tconst repeaterID = String(id).split('.')[0];\n\t\t\tconst fieldObject = this.getRepeaterFields(repeaterID);\n\t\t\t//return early if no match found by ID\n\t\t\tif(typeof fieldObject === 'undefined') return;\n\n\t\t\tconst model = fieldObject.fields.find(field => field.id === id);\n\n\t\t\treturn model;\n\t\t},\n\n\t\tsetAllRepeatersValues: function() {\n\t\t\tconst repeaters = this.getAllRepeaterFieldsModels();\n\t\t\tif(repeaters.length > 0) {\n\t\t\t\t\n\t\t\t\t_.each(repeaters, function(repeater){\n\t\t\t\t\tlet fields = repeater.fields;\n\t\t\t\t\tlet repeaterFieldModel = nfRadio.channel( 'fields' ).request( 'get:field', repeater.id );\n\n\t\t\t\t\tif(fields.length > 0){\n\t\t\t\t\t\tlet repeaterFieldValue = {};\n\t\t\t\t\t\t//Loop through fields\n\t\t\t\t\t\t_.each( fields, function( field ){\n\t\t\t\t\t\t\t//Get ID and Value to format and store them in the repeaterFieldValue object\n\t\t\t\t\t\t\tlet value = field.get('value');\n\t\t\t\t\t\t\tlet id = field.get('id');\n\t\t\t\t\t\t\t//Refactor ID used in case we have multiple same form on the DOM and using a changed ID for main repeater field.\n\t\t\t\t\t\t\tif(id.split(\"_\").length > 2){\n\t\t\t\t\t\t\t\tlet idArray = id.split(\"_\");\n\t\t\t\t\t\t\t\tidArray[1] = idArray[1].split(\".\")[1];\n\t\t\t\t\t\t\t\tlet newID = idArray[0] + \".\" + idArray[1] + \"_\" + idArray[2];\n\t\t\t\t\t\t\t\tdelete repeaterFieldValue[id];\n\t\t\t\t\t\t\t\tid = newID;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\trepeaterFieldValue[id] = {\n\t\t\t\t\t\t\t\t\"value\": value,\n\t\t\t\t\t\t\t\t\"id\": id\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t//Check if time is correctly added on Date/time fields\n\t\t\t\t\t\t\tif(field.get('type') === \"date\" && typeof value === \"string\" && ( field.get('date_mode') === \"date_and_time\" || field.get('date_mode') === \"time_only\" )){\n\t\t\t\t\t\t\t\trepeaterFieldValue[id].value = {\n\t\t\t\t\t\t\t\t\t\"date\": value,\n\t\t\t\t\t\t\t\t\t\"hour\": field.attributes.selected_hour,\n\t\t\t\t\t\t\t\t\t\"minute\": field.attributes.selected_minute,\n\t\t\t\t\t\t\t\t\t\"ampm\": field.attributes.selected_ampm\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif(field.get('type') === \"file_upload\" && field.get('value')){\n\t\t\t\t\t\t\t\trepeaterFieldValue[id].files = field.attributes.files;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\trepeaterFieldModel.set( 'isUpdated', false);\n\t\t\t\t\t\t//Update repeater field value with repeaterFieldValue \n\t\t\t\t\t\tnfRadio.channel( 'nfAdmin' ).request( 'update:field', repeaterFieldModel, repeaterFieldValue);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t} );\n\n\treturn model;\n} );\n\n","define( 'models/fieldRepeaterSetCollection',['models/fieldRepeaterSetModel', 'models/fieldCollection' ], function( repeaterSetModel, fieldCollection ) {\n\tvar collection = Backbone.Collection.extend( {\n\t\tmodel: repeaterSetModel,\n\n\t\tinitialize: function( models, options ) {\n\t\t\tthis.options = options;\n\t\t\n\t\t\tthis.listenTo( nfRadio.channel( 'field-repeater' ), 'sort:fieldsets', this.sortIDs );\n\t\t\tthis.listenTo( nfRadio.channel( 'field-repeater' ), 'remove:fieldset', this.removeSet );\n\t\t\tthis.listenTo( nfRadio.channel( 'field-repeater' ), 'add:fieldset', this.addSet );\n\t\t\tnfRadio.channel( \"field-repeater\" ).reply( 'get:fieldsets', this.getFieldSets, this );\n\n\t\t},\n\n\t\taddSet: function(repeaterFieldID = false) {\n\t\t\tlet repeater;\n\t\t\tif(repeaterFieldID){\n\t\t\t\t//Get correct Field Model in case of multiple Repeater fields use\n\t\t\t\tconst repeaterFieldModel = this.options.repeaterFieldModel.id === repeaterFieldID ? this.options.repeaterFieldModel : false;\n\t\t\t\trepeater = repeaterFieldModel;\n\t\t\t\tif(repeaterFieldModel){\n\t\t\t\t\t//Create a new collection\n\t\t\t\t\tlet fields = new fieldCollection( this.options.templateFields, { formModel: this.options.formModel, repeaterFieldModel: repeaterFieldModel } );\n\t\t\t\t\t//Add it th sets of collection\n\t\t\t\t\tthis.add( { fields: fields }, {repeaterFieldModel: repeaterFieldModel } );\n\t\t\t\t}\n\t\t\t}\n\t\t\t//reset all fields IDs\n\t\t\tthis.sortIDs();\n\t\t\tnfRadio.channel( 'field-repeater' ).trigger('fieldset:added', repeater);\n\t\t},\n\n\t\tremoveSet: function( fieldset ) {\n\t\t\t// Remove possible form errors related to required fields\n\t\t\tthis.removeRequiredFieldsErrors(fieldset);\n\n\t\t\t//Remove field models saved globally\n\t\t\tconst formID = fieldset.repeaterFieldModel.get('formID');\n\t\t\tconst repeaterID = fieldset.repeaterFieldModel.get('id');\n\t\t\tconst isRepeaterModelSet = nfAllRepeaterFieldsModels.find(rep => rep.id === repeaterID && rep.form === formID );\n\t\t\tif ( isRepeaterModelSet ){\n\t\t\t\tlet remove = [];\n\t\t\t\t_.each(isRepeaterModelSet.fields, (field, index) => {\n\t\t\t\t\tif(typeof field !== \"undefined\"){\n\t\t\t\t\t\t_.each(fieldset.get('fields').models, (fieldsetField) => {\n\t\t\t\t\t\t\tconst fieldID = typeof field.id !== \"undefined\" ? field.id : field.get('id');\n\t\t\t\t\t\t\tif(fieldsetField.id === fieldID){\n\t\t\t\t\t\t\t\t// Delete any input values.\n\t\t\t\t\t\t\t\tdelete fieldset.repeaterFieldModel.get('value')[fieldsetField.id];\n\t\t\t\t\t\t\t\tremove.push(fieldID);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tisRepeaterModelSet.fields = _.reject(isRepeaterModelSet.fields, (field) =>{\n\t\t\t\t\tif(typeof field === \"undefined\") return true;\n\t\t\t\t\tif(remove.includes(field.id)) return true;\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t\tnfRadio.channel( \"field-repeater\" ).trigger( 'set:repeaterModels' );\n\t\t\t}\n\n\t\t\t//Remove the fieldset\n\t\t\tthis.remove( fieldset );\n\t\t\tfieldset.destroy();\n\t\t\t\n\t\t\t//reset all fields IDs\n\t\t\tthis.sortIDs();\n\n\t\t\t//Reset values\n\t\t\tnfRadio.channel( \"field-repeater\" ).trigger( 'set:value' );\n\t\t},\n\n\t\tremoveRequiredFieldsErrors: function( fieldset ) {\n\t\t\tlet fields = fieldset.get('fields');\n\t\t\t_.each( fields.models, function( field ) {\n\t\t\t\tnfRadio.channel( 'fields' ).request( 'remove:error', field.get(\"id\"), \"required-error\" );\n\t\t\t});\n\t\t},\n\n\t\tgetFieldsets: function() {\n\t\t\treturn this.models;\n\t\t},\n\n\t\tcheckTimeField: function(field){\n\t\t\tconst id = field.get('id');\n\t\t\t//Get elements\n\t\t\tconst hourEl = document.getElementById(\"hour-select-\" + id),\n\t\t\tminEl = document.getElementById(\"minute-select-\" + id),\n\t\t\tdefaultHour = field.attributes.hours_24 === 0 ? \"12\" : \"00\";\n\t\t\t// set field values to element\n\t\t\tif(!hourEl || !minEl) return;\n\t\t\tminEl.value = typeof field.attributes.selected_minute !== \"undefined\" ? field.attributes.selected_minute : \"00\";\n\t\t\thourEl.value = typeof field.attributes.selected_hour !== \"undefined\" ? field.attributes.selected_hour : defaultHour;\n\n\t\t\tconst wrapper = document.getElementById(\"nf-field-\" + id + \"-wrap\");\n\t\t\tconst ampmEl = wrapper.querySelector('#ampm-select');\n\t\t\tif( ! ampmEl ) return;\n\t\t\tampmEl.value = typeof field.attributes.selected_ampm !== \"undefined\" ? field.attributes.selected_ampm : \"am\";\n\t\t},\n\n\t\tsortIDs: function(){\n\t\t\tconst fieldsets = this.getFieldsets();\n\t\t\tconst timeFields = [];\n\t\t\t//Reset repeater fields IDs when adding / removing a field\n\t\t\t_.each(fieldsets, function(fieldset, modelIndex){\n\t\t\t\tlet fields = fieldset.get('fields');\n\t\t\t\tfieldset.set( 'index', modelIndex + 1 );\n\t\t\t\t_.each( fields.models, function( field ) {\n\t\t\t\t\t//Always rebuild ID to allow same form multiple times on DOM\n\t\t\t\t\t//Remove suffix if it has one\n\t\t\t\t\tconst cutEl = String(field.id).split('_')[0];\n\t\t\t\t\t//Extract Field index of ID\n\t\t\t\t\tconst fieldIndex = String( cutEl ).split(\".\").length > 1 ? String( cutEl ).split(\".\").pop() : false;\n\t\t\t\t\t//The loop makes first fieldset of second same form to miss correct index here, next iteration will get that correct index\n\t\t\t\t\tif(!fieldIndex) return;\n\t\t\t\t\t//Update FieldID using ( REPEATER FIELD id . field index in the repeater field _ fieldset index in the repeater field ) format\n\t\t\t\t\tconst newID = field.collection.options.repeaterFieldModel.id + \".\" + fieldIndex + \"_\" + modelIndex;\n\t\t\t\t\tfield.set(\"id\", newID);\n\n\t\t\t\t\t// Detect time fields, fix inconsistency of date field when associated with time, as we don't use flatPickr display for time\n\t\t\t\t\tif(field.get('type') === \"date\" && ( field.get('date_mode') === \"date_and_time\" || field.get('date_mode') === \"time_only\" ) ){\n\t\t\t\t\t\ttimeFields.push(field);\n\t\t\t\t\t}\n\n\t\t\t\t});\n\t\t\t});\n\t\t\t//Reload repeater field view ( collection of fieldsets updated )\n\t\t\tnfRadio.channel( 'field-repeater' ).trigger( 'rerender:fieldsets' );\n\t\t\t\n\t\t\t//Process time fields values\n\t\t\ttimeFields.forEach( (field) => {\n\t\t\t\tthis.checkTimeField(field);\n\t\t\t});\n\t\t}\n\n\t} );\n\treturn collection;\n} );\n","define('controllers/fieldRepeater',[ 'models/fieldRepeaterSetCollection', 'models/fieldCollection' ], function( repeaterSetCollection, fieldCollection ) {\n    var controller = Marionette.Object.extend({\n\n        initialize: function () {\n            this.listenTo( nfRadio.channel( 'repeater' ), 'init:model', this.initRepeater );\n        },\n\n        initRepeater: function ( model ) {\n        \tif ( 'undefined' == typeof model.collection.options.formModel ) {\n        \t\treturn false;\n        \t}\n\n        \tlet fields = new fieldCollection( model.get( 'fields' ), { formModel: model.collection.options.formModel, repeaterFieldModel: model } );\n            model.set( 'sets', new repeaterSetCollection( [ { fields: fields } ], { templateFields: model.get( 'fields' ), formModel: model.collection.options.formModel, repeaterFieldModel: model } ) );\n            //Trigger Fields IDs sorting in case of same form being printed multiple times on DOM\n            nfRadio.channel( \"field-repeater\" ).trigger( 'sort:fieldsets' );\n        },\n\n    });\n\n    return controller;\n});\n","define('controllers/actionGA',[], function() {\n\tvar controller = Marionette.Object.extend( {\n\t\tinitialize: function() {\n\t\t\tthis.listenTo( nfRadio.channel( 'forms' ), 'submit:response', this.actionSendGaEvent );\n\t\t},\n\n\t\tactionSendGaEvent: function( response ) {\n      if (typeof response.data.actions.googleanalytics === 'undefined') {\n        return;\n      }\n      \n      response.data.actions.googleanalytics.forEach( (action) => {\n        const eventName = action.event_name;\n        if(typeof eventName === 'undefined') {\n          console.warn('No event name defined in the GA4 action settings. Please define an event name.');\n          return;\n        }\n\n        if(typeof action.method_type !== 'undefined' && action.method_type === 'ga4'){\n          if(typeof gtag === 'function') {\n            const eventParams = {\n              'event_category': 'form_submit',\n              'event_label': 'ninja_forms_submit',\n              'form_id': response.data.form_id\n            };\n            gtag('event', eventName, eventParams);\n          } else if (typeof dataLayer === 'object'){\n            console.warn('gtag isn\\'t defined. But GTM was detected, did you mean to use GTM in the action settings?');\n          } else {\n            console.warn('gtag isn\\'t defined. Please make sure you have GA4 installed on your site.');\n          }\n        } else if( typeof action.method_type !== 'undefined' && action.method_type === 'gtm'){\n       \n  \n          if (typeof dataLayer === 'object') {\n            //Process with GTM dataLayer\n            const eventParams = {\n              'event': eventName,\n              'event_category': 'form_submit',\n              'event_label': 'ninja_forms_submit',\n              'form_id': response.data.form_id\n            };\n            dataLayer.push(eventParams);\n          } else if (typeof gtag === 'function') {\n            console.warn('GTM isn\\'t defined. But GA4 was detected, did you mean to use GA4 in the action settings?');\n          } else {\n            console.warn('GTM isn\\'t defined. Please make sure you have GTM installed on your site.');\n          }\n        } else {\n          console.warn('GTM and gtag aren\\'t defined. Please make sure you have GTM or GA4 installed on your site.');\n        }\n      });\n      \n\t\t}\n\n\t});\n\n\treturn controller;\n});\n\n","define(\n\t'controllers/loadControllers',[\n\t\t'controllers/formData',\n\t\t'controllers/fieldError',\n\t\t'controllers/changeField',\n\t\t'controllers/changeEmail',\n\t\t'controllers/changeDate',\n\t\t'controllers/fieldCheckbox',\n\t\t'controllers/fieldCheckboxList',\n\t\t'controllers/fieldImageList',\n\t\t'controllers/fieldRadio',\n\t\t'controllers/fieldNumber',\n\t\t'controllers/mirrorField',\n\t\t'controllers/confirmField',\n\t\t'controllers/updateFieldModel',\n\t\t'controllers/submitButton',\n\t\t'controllers/submitDebug',\n\t\t'controllers/getFormErrors',\n\t\t'controllers/validateRequired',\n\t\t'controllers/submitError',\n\t\t'controllers/actionRedirect',\n\t\t'controllers/actionSuccess',\n\t\t'controllers/fieldSelect',\n\t\t'controllers/coreSubmitResponse',\n\t\t'controllers/fieldProduct',\n\t\t'controllers/fieldTotal',\n\t\t'controllers/fieldQuantity',\n\t\t'controllers/calculations',\n\t\t'controllers/dateBackwardsCompat',\n\t\t'controllers/fieldDate',\n\t\t'controllers/fieldRecaptcha',\n\t\t'controllers/fieldRecaptchaV3',\n\t\t'controllers/fieldHTML',\n\t\t'controllers/helpText',\n\t\t'controllers/fieldTextbox',\n\t\t'controllers/fieldTextareaRTE',\n\t\t'controllers/fieldStarRating',\n\t\t'controllers/fieldTerms',\n\t\t'controllers/formContentFilters',\n\t\t'controllers/loadViews',\n\t\t'controllers/formErrors',\n\t\t'controllers/submit',\n\t\t'controllers/defaultFilters',\n\t\t'controllers/uniqueFieldError',\n\t\t'controllers/fieldRepeater',\n\t\t'controllers/actionGA',\n\t],\n\tfunction(\n\t\tFormData,\n\t\tFieldError,\n\t\tChangeField,\n\t\tChangeEmail,\n\t\tChangeDate,\n\t\tFieldCheckbox,\n\t\tFieldCheckboxList,\n\t\tFieldImageList,\n\t\tFieldRadio,\n\t\tFieldNumber,\n\t\tMirrorField,\n\t\tConfirmField,\n\t\tUpdateFieldModel,\n\t\tSubmitButton,\n\t\tSubmitDebug,\n\t\tGetFormErrors,\n\t\tValidateRequired,\n\t\tSubmitError,\n\t\tActionRedirect,\n\t\tActionSuccess,\n\t\tFieldSelect,\n\t\tCoreSubmitResponse,\n\t\tFieldProduct,\n\t\tFieldTotal,\n\t\tFieldQuantity,\n\t\tCalculations,\n\t\tDateBackwardsCompat,\n\t\tFieldDate,\n\t\tFieldRecaptcha,\n\t\tFieldRecaptchaV3,\n\t\tFieldHTML,\n\t\tHelpText,\n\t\tFieldTextbox,\n\t\tFieldTextareaRTE,\n\t\tFieldStarRating,\n\t\tFieldTerms,\n\t\tFormContentFilters,\n\t\tLoadViews,\n\t\tFormErrors,\n\t\tSubmit,\n\t\tDefaultFilters,\n\t\tUniqueFieldError,\n\t\tFieldRepeater,\n\t\tActionGA\n\t) {\n\t\tvar controller = Marionette.Object.extend( {\n\t\t\tinitialize: function() {\n\n\t\t\t\t/**\n\t\t\t\t * App Controllers\n\t\t\t\t */\n\t\t\t\tnew LoadViews();\n\t\t\t\tnew FormErrors();\n\t\t\t\tnew Submit();\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\t * Field type controllers\n\t\t\t\t */\n\t\t\t\tnew FieldCheckbox();\n\t\t\t\tnew FieldCheckboxList();\n\t\t\t\tnew FieldImageList();\n\t\t\t\tnew FieldRadio();\n\t\t\t\tnew FieldNumber();\n\t\t\t\tnew FieldSelect();\n\t\t\t\tnew FieldProduct();\n\t\t\t\tnew FieldTotal();\n\t\t\t\tnew FieldQuantity();\n\t\t\t\tnew FieldRecaptcha();\n\t\t\t\tnew FieldRecaptchaV3();\n\t\t\t\tnew FieldHTML();\n\t\t\t\tnew HelpText();\n\t\t\t\tnew FieldTextbox();\n\t\t\t\tnew FieldTextareaRTE();\n\t\t\t\tnew FieldStarRating();\n\t\t\t\tnew FieldTerms();\n\t\t\t\tnew FormContentFilters();\n\t\t\t\tnew UniqueFieldError();\n\t\t\t\tnew FieldRepeater();\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\t * Misc controllers\n\t\t\t\t */\n\t\t\t\tnew FieldError();\n\t\t\t\tnew ChangeField();\n\t\t\t\tnew ChangeEmail();\n\t\t\t\tnew ChangeDate();\n\t\t\t\t\n\t\t\t\tnew MirrorField();\n\t\t\t\tnew ConfirmField();\n\t\t\t\tnew UpdateFieldModel();\n\t\t\t\tnew SubmitButton();\n\t\t\t\tnew SubmitDebug();\n\t\t\t\tnew GetFormErrors();\n\t\t\t\tnew ValidateRequired();\n\t\t\t\tnew SubmitError();\n\t\t\t\tnew ActionRedirect();\n\t\t\t\tnew ActionSuccess();\n\t\t\t\tnew ActionGA();\n\t\t\t\t\n\t\t\t\tnew CoreSubmitResponse();\n\t\t\t\tnew Calculations();\n\n\t\t\t\tnew DefaultFilters();\n\n\t\t\t\t/**\n\t\t\t\t * Data controllers\n\t\t\t\t */\n\t\t\t\tnew DateBackwardsCompat();\n\t\t\t\tnew FieldDate();\n\t\t\t\tnew FormData();\n\t\t\t\t\n\t\t\t}\n\t\t});\n\n\t\treturn controller;\n} );\n\n","define( 'views/beforeForm',[], function( ) {\n\n\tvar view = Marionette.ItemView.extend({\n\t\ttagName: \"nf-section\",\n\t\ttemplate: \"#tmpl-nf-before-form\",\n\n\t});\n\n\treturn view;\n} );\n","define( 'views/formErrorItem',[], function() {\n\tvar view = Marionette.ItemView.extend({\n\t\ttagName: 'nf-section',\n\t\ttemplate: '#tmpl-nf-form-error',\n\n\t\tonRender: function() {\n\t\t\t// this.$el = this.$el.children();\n\t\t\t// this.$el.unwrap();\n\t\t\t// this.setElement( this.$el );\n\t\t},\n\t});\n\n\treturn view;\n} );\n","define( 'views/formErrorCollection',['views/formErrorItem'], function( formErrorItem ) {\n\tvar view = Marionette.CollectionView.extend({\n\t\ttagName: \"nf-errors\",\n\t\tchildView: formErrorItem\n\t});\n\n\treturn view;\n} );\n","define( 'views/honeyPot',[], function() {\n    var view = Marionette.ItemView.extend({\n        tagName: 'nf-section',\n        template: '#tmpl-nf-form-hp',\n\n        events: {\n        \t'keyup .nf-field-hp': 'maybeError',\n            'change .nf-field-hp': 'maybeError'\n        },\n\n        maybeError: function( e ) {\n            /*\n             * If we have an empty honeyPot field, remove the honeypot form error.\n             * If we do not have an empty honeyPot field, add the honeypot form error.\n             */\n            if ( 0 == jQuery( e.target ).val().length ) {\n                nfRadio.channel( 'form-' + this.model.get( 'id' ) ).request( 'remove:error', 'honeyPot' );\n            } else {\n                var formModel  = nfRadio.channel( 'app'    ).request( 'get:form',  this.model.get( 'id' ) );\n                nfRadio.channel( 'form-' + this.model.get( 'id' ) ).request( 'add:error', 'honeyPot', formModel.get( 'settings' ).honeypotHoneypotError );\n            }\n        }\n    });\n\n    return view;\n} );\n","define( 'views/afterFormContent',['views/formErrorCollection', 'views/honeyPot'], function( FormErrors, HoneyPot ) {\n\n    var view = Marionette.LayoutView.extend({\n        tagName: \"nf-section\",\n        template: \"#tmpl-nf-after-fields\",\n\n\t\tregions: {\n\t\t\terrors: \".nf-form-errors\",\n            hp: \".nf-form-hp\"\n\t\t},\n\n        onShow: function() {\n        \tthis.errors.show( new FormErrors( { collection: this.model.get( 'errors' ) } ) );\n            this.hp.show( new HoneyPot( { model: this.model } ) );\n        }\n\n    });\n\n    return view;\n} );\n","define( 'views/beforeFormContent',[], function( ) {\n\n    var view = Marionette.ItemView.extend({\n        tagName: \"nf-section\",\n        template: \"#tmpl-nf-before-fields\",\n\n        templateHelpers: function () {\n            return {\n\n                renderFieldsMarkedRequired: function() {\n\n                    var requiredFields = this.fields.filter( { required: 1 } );\n                    return ( requiredFields.length ) ? this.fieldsMarkedRequired : '';\n                },\n            };\n        },\n\n    });\n\n    return view;\n} );\n","define( 'views/formLayout',[ 'views/afterFormContent', 'views/beforeFormContent', 'models/fieldCollection' ], function( AfterFormContent, BeforeFormContent, FieldCollection ) {\n\n\tvar view = Marionette.LayoutView.extend({\n\t\ttagName: \"nf-section\",\n\t\ttemplate: \"#tmpl-nf-form-layout\",\n\n\t\tregions: {\n\t\t\tbeforeFormContent: \".nf-before-form-content\",\n\t\t\tformContent: \".nf-form-content\",\n\t\t\tafterFormContent: \".nf-after-form-content\"\n\t\t},\n\n\t\tinitialize: function() {\n\t\t\tnfRadio.channel( 'form-' + this.model.get( 'id' ) ).reply( 'get:el', this.getEl, this );\n\t\t\t\n\t\t\t/*\n\t\t\t * If we need to hide a form, set the visibility of this form to hidden.\n\t\t\t */\n\t\t\t this.listenTo( this.model, 'hide', this.hide );\n\t\t},\n\n\t\tonRender: function() {\n\t\t\tthis.$el = this.$el.children();\n\t\t\tthis.$el.unwrap();\n\t\t\tthis.setElement( this.$el );\n\t\t},\n\n\t\tonShow: function() {\n\t\t\tthis.beforeFormContent.show( new BeforeFormContent( { model: this.model } ) );\n\t\t\t\n\t\t\t/*\n\t\t\t * Set our formContentData to our form setting 'formContentData'\n\t\t\t */\n\t\t\tvar formContentData = this.model.get( 'formContentData' );\n\t\t\t\n\t\t\t/*\n\t\t\t * Check our fieldContentViewsFilter to see if we have any defined.\n\t\t\t * If we do, overwrite our default with the view returned from the filter.\n\t\t\t */\n\t\t\tvar formContentViewFilters = nfRadio.channel( 'formContent' ).request( 'get:viewFilters' );\n\t\t\t\n\t\t\t/* \n\t\t\t* Get our first filter, this will be the one with the highest priority.\n\t\t\t*/\n\t\t\tvar sortedArray = _.without( formContentViewFilters, undefined );\n\t\t\tvar callback = _.first( sortedArray );\n\t\t\tformContentView = callback();\n\t\t\t\n\t\t\tvar options = {\n\t\t\t\tdata: formContentData,\n\t\t\t\tformModel: this.model\n\t\t\t};\n\t\t\t\n\t\t\t/*\n\t\t\t * If we have a collection, pass the returned data as the collection.\n\t\t\t *\n\t\t\t * If we have a model, pass the returned data as the collection.\n\t\t\t */\n\t\t\tif ( false !== formContentData instanceof Backbone.Collection ) {\n\t\t\t\toptions.collection = formContentData;\n\t\t\t} else if ( false !== formContentData instanceof Backbone.Model ) {\n\t\t\t\toptions.model = formContentData;\n\t\t\t}\n\n\t\t\tthis.formContent.show( new formContentView( options ) );\n\t\t\tthis.afterFormContent.show( new AfterFormContent( { model: this.model } ) );\n\t\t},\n\n\t\tgetEl: function() {\n\t\t\treturn this.el;\n\t\t},\n\n        templateHelpers: function () {\n            return {\n\n                renderClasses: function() {\n                    return '';\n                }\n\n            };\n        },\n\n        hide: function() {\n        \tjQuery( this.el ).hide();\n        }\n\n\t});\n\n\treturn view;\n} );\n","define( 'views/afterForm',[], function( ) {\n\n\tvar view = Marionette.ItemView.extend({\n\t\ttagName: \"nf-section\",\n\t\ttemplate: \"#tmpl-nf-after-form\",\n\t\t\n\t});\n\n\treturn view;\n} );\n","define( 'views/mainLayout',['views/beforeForm', 'views/formLayout', 'views/afterForm'], function( BeforeForm, FormLayout, AfterForm ) {\n\n\tvar view = Marionette.LayoutView.extend({\n\t\ttemplate: '#tmpl-nf-layout',\n\n\t\tregions: {\n\t\t\tresponseMsg: '.nf-response-msg',\n\t\t\tbeforeForm: '.nf-before-form',\n\t\t\tformLayout: '.nf-form-layout',\n\t\t\tafterForm: '.nf-after-form'\n\t\t},\n\n\t\tinitialize: function() {\n\t\t\tthis.$el = jQuery( '#nf-form-' + this.model.id + '-cont' );\n\t\t\tthis.el = '#nf-form-' + this.model.id + '-cont';\n\n\t\t\tthis.render();\n\n\t\t\tthis.beforeForm.show( new BeforeForm( { model: this.model } ) );\n\t\t\tthis.formLayout.show( new FormLayout( { model: this.model, fieldCollection: this.options.fieldCollection } ) );\n\t\t\tthis.afterForm.show( new AfterForm( { model: this.model } ) );\n\n\t\t\t/*\n\t\t\t * If we need to hide a form, set the visibility of this form to hidden.\n\t\t\t */\n\t\t\t this.listenTo( this.model, 'hide', this.hide );\n\t\t},\n\n        hide: function() {\n        \tjQuery( this.el ).find( '.nf-form-title' ).hide();\n        }\n\n\t});\n\n\treturn view;\n} );\n","// const Intl = require('intl');\n\n// class nfLocaleConverter {\nvar nfLocaleConverter = function(newLocale, thousands_sep, decimal_sep) {\n\n    // constructor(newLocale = 'en-US', thousands_sep, decimal_sep) {\n        if ('undefined' !== typeof newLocale && 0 < newLocale.length) {\n            this.locale = newLocale.split('_').join('-');\n        } else {\n            this.locale = 'en-US';\n        }\n\n        this.thousands_sep = thousands_sep || ',';\n        this.decimal_sep = decimal_sep || '.';\n    // }\n\n    this.uniqueElememts = function( value, index, self ) {\n        return self.indexOf(value) === index;\n    }\n\n    this.numberDecoder = function(num) {\n        num = num.toString();\n        // let thousands_sep = ',';\n        var formatted = '';\n\n        // Account for negative numbers.\n        var negative = false;\n        \n        if ('-' === num.charAt(0)) {\n            negative = true;\n            num = num.replace( '-', '' );\n        }\n        \n        // Account for a space as the thousands separator.\n        // This pattern accounts for all whitespace characters (including thin space).\n        num = num.replace( /\\s/g, '' );\n        num = num.replace( /&nbsp;/g, '' );\n\n        // Determine what our existing separators are.\n        var myArr = num.split('');\n        var separators = myArr.filter(function(el) {\n            return !el.match(/[0-9]/);\n          });\n          \n        var final_separators = separators.filter(this.uniqueElememts);\n        \n        switch( final_separators.length ) {\n            case 0:\n                formatted = num;\n                break;\n            case 1:\n                var replacer = '';\n                if ( 1 == separators.length ) {\n                    separator = separators.pop();\n                    var sides = num.split(separator);\n                    var last = sides.pop();\n                    if ( 3 == last.length && separator == this.thousands_sep ) {\n                        replacer = '';\n                    } else {\n                        replacer = '.';\n                    }\n                } else {\n                    separator = final_separators.pop();\n                }\n\n                formatted = num.split(separator).join(replacer);\n                break;\n            case 2:\n                var find_one = final_separators[0];\n                var re_one;\n                if('.' === find_one) {\n                    re_one = new RegExp('[.]', 'g');\n                } else {\n                    re_one = new RegExp(find_one, 'g');\n                }\n                formatted = num.replace(re_one, '');\n                \n                var find_two = final_separators[1];\n                \n                var re_two;\n                if('.' === find_two) {\n                    re_two = new RegExp('[.]', 'g');\n                } else {\n                    re_two = new RegExp(find_two, 'g');\n                }\n                formatted = formatted.replace(re_two, '.' );\n                break;\n            default:\n            return 'NaN';\n        }\n\n        if ( negative ) {\n            formatted = '-' + formatted;\n        }\n        this.debug('Number Decoder ' + num + ' -> ' + formatted );\n        return formatted;\n    }\n\n    this.numberEncoder = function(num, percision) {\n        num = this.numberDecoder(num);\n\n        return Intl.NumberFormat(this.locale, { minimumFractionDigits: percision, maximumFractionDigits: percision }).format(num);\n    }\n\n    this.debug = function(message) {\n        if ( window.nfLocaleConverterDebug || false ) console.log(message);\n    }\n}\n\n// module.exports = nfLocaleConverter;\ndefine(\"../nfLocaleConverter\", function(){});\n\n","//Inline data converted to globally available vars sent via wp_localize_script\nif('undefined' !== typeof(nfInlineVars.nfForms)) {\n\twindow.nfForms = nfInlineVars.nfForms;\n}\n\n/*\n * Because our backbone listens to .change() events on elements, changes made using jQuery .val() don't bubble properly.\n * This patch overwrites the default behaviour of jQuery .val() so that IF the item has an nf-element class, we fire a change event.\n */\n( function( jQuery ) {\n\t/*\n\t * Store our original .val() function.\n\t */\n    var originalVal = jQuery.fn.val;\n    /*\n     * Create our own .val() function.\n     */\n    jQuery.fn.val = function(){\n        var prev;\n        /* \n         * Store a copy of the results of the original .val() call.\n         * We use this to make sure that we've actually changed something.\n         */\n        if( arguments.length > 0 ){\n            prev = originalVal.apply( this,[] );\n        }\n        /*\n         * Get the results of the original .val() call. \n         */\n        var result = originalVal.apply( this, arguments );\n\n        /*\n         * If we have arguments, we have actually made a change, AND this has the nf-element class, trigger .change().\n         */\n        if( arguments.length > 0 && prev != originalVal.apply( this, [] ) && jQuery( this ).hasClass( 'nf-element' ) ) {\n\t\t\tjQuery(this).change();\n        }\n\n        return result;\n    };\n} ) ( jQuery );\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n\trequire( [ 'models/formCollection', 'models/formModel', 'models/fieldCollection', 'controllers/loadControllers', 'views/mainLayout', '../nfLocaleConverter'], function( formCollection, FormModel, FieldCollection, LoadControllers, mainLayout ) {\n\n\t\tif( 'undefined' == typeof nfForms ) {\n\t\t\t/*\n\t\t\t * nfForms is not defined. This means that something went wrong loading the form data.\n\t\t\t * Bail form setup and empty the form containers to remove any loading animations.\n\t\t\t */\n\t\t\tjQuery( '.nf-form-cont' ).empty();\n\t\t\treturn;\n\t\t}\n\n\t\tvar NinjaForms = Marionette.Application.extend({\n\t\t\tforms: {},\n\t\t\tinitialize: function( options ) {\n\t\t\t\tvar that = this;\n\t\t\t\tMarionette.Renderer.render = function(template, data){\n\t\t\t\t\tvar template = that.template( template );\n\t\t\t\t\treturn template( data );\n\t\t\t\t};\n\n\t\t\t\t// Underscore one-liner for getting URL Parameters\n\t\t\t\tthis.urlParameters = _.object(_.compact(_.map(location.search.slice(1).split('&'), function(item) {  if (item) return item.split('='); })));\n\n\t\t\t\tif( 'undefined' != typeof this.urlParameters.nf_resume ) {\n\t\t\t\t\tthis.listenTo(nfRadio.channel('form-' + this.urlParameters.nf_resume), 'loaded', this.restart);\n\t\t\t\t}\n\n\t\t\t\tnfRadio.channel( 'app' ).reply( 'locale:decodeNumber', this.decodeNumber);\n\n\t\t\t\tnfRadio.channel( 'app' ).reply( 'locale:encodeNumber',this.encodeNumber);\n\n\t\t\t\tvar loadControllers = new LoadControllers();\n\t\t\t\tnfRadio.channel( 'app' ).trigger( 'after:loadControllers' );\n\n\t\t\t\tnfRadio.channel( 'app' ).reply( 'get:template', this.template );\t\t\t},\n\t\t\t\n\t\t\tonStart: function() {\n\t\t\t\tvar formCollection = nfRadio.channel( 'app' ).request( 'get:forms' );\n\t\t\t\t_.each( formCollection.models, function( form, index ) {\n\t\t\t\t\tvar layoutView = new mainLayout( { model: form, fieldCollection: form.get( 'fields' ) } );\t\t\t\n\t\t\t\t\tnfRadio.channel( 'form' ).trigger( 'render:view', layoutView );\n\t\t\t\t\tjQuery( document ).trigger( 'nfFormReady', layoutView );\n\t\t\t\t} );\n\t\t\t},\n\n\t\t\trestart: function( formModel ) {\n\t\t\t\tif( 'undefined' != typeof this.urlParameters.nf_resume ){\n\t\t\t\t\tvar data = {\n\t\t\t\t\t\t'action': 'nf_ajax_submit',\n\t\t\t\t\t\t'security': nfFrontEnd.ajaxNonce,\n\t\t\t\t\t\t'nf_resume': this.urlParameters\n\t\t\t\t\t};\n\n\t\t\t\t\tnfRadio.channel( 'form-' + formModel.get( 'id' ) ).trigger( 'disable:submit' );\n\t\t\t\t\tnfRadio.channel( 'form-' + formModel.get( 'id' ) ).trigger( 'processingLabel' );\n\n\t\t\t\t\tthis.listenTo( nfRadio.channel( 'form' ), 'render:view', function() {\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t * TODO: This needs to be re-worked for backbone. It's not dynamic enough.\n\t\t\t\t\t\t */\n\t\t\t\t\t\t/*\n\t\t\t\t\t\t * Hide form fields (but not the submit button).\n\t\t\t\t\t\t */\n\t\t\t\t\t\tjQuery( '#nf-form-' + formModel.get( 'id' ) + '-cont .nf-field-container:not(.submit-container)' ).hide();\n\t\t\t\t\t});\n\n\t\t\t\t\t// TODO: Refactor Duplication\n\t\t\t\t\tjQuery.ajax({\n\t\t\t\t\t\turl: nfFrontEnd.adminAjax,\n\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\tcache: false,\n\t\t\t\t\t\tsuccess: function( data, textStatus, jqXHR ) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t   \t\tvar response = data;\n\t\t\t\t\t\t        nfRadio.channel( 'forms' ).trigger( 'submit:response', response, textStatus, jqXHR, formModel.get( 'id' ) );\n\t\t\t\t\t\t    \tnfRadio.channel( 'form-' + formModel.get( 'id' ) ).trigger( 'submit:response', response, textStatus, jqXHR );\n\t\t\t\t\t\t\t} catch( e ) {\n\t\t\t\t\t\t\t\tconsole.log( 'Parse Error' );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t    },\n\t\t\t\t\t    error: function( jqXHR, textStatus, errorThrown ) {\n\t\t\t\t\t        // Handle errors here\n\t\t\t\t\t        console.log('ERRORS: ' + textStatus);\n\t\t\t\t\t        // STOP LOADING SPINNER\n\t\t\t\t\t\t\tnfRadio.channel( 'forms' ).trigger( 'submit:response', 'error', textStatus, jqXHR, errorThrown );\n\t\t\t\t\t    }\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\n\t\t\ttemplate: function( template ) {\n\t\t\t\tif (!template.startsWith('script')) {\n\t\t\t\t\ttemplate = 'script'+template;\n\t\t\t\t}\n\t\t\t\treturn _.template( jQuery( template ).html(),  {\n\t\t\t\t\tevaluate:    /<#([\\s\\S]+?)#>/g,\n\t\t\t\t\tinterpolate: /\\{\\{\\{([\\s\\S]+?)\\}\\}\\}/g,\n\t\t\t\t\tescape:      /\\{\\{([^\\}]+?)\\}\\}(?!\\})/g,\n\t\t\t\t\tvariable:    'data'\n\t\t\t\t} );\n\t\t\t},\n\n\t\t\tencodeNumber: function(num) {\n\t\t\t\tvar localeConverter = new nfLocaleConverter(nfi18n.siteLocale, nfi18n.thousands_sep, nfi18n.decimal_point);\n\n\t\t\t\treturn localeConverter.numberEncoder(num);\n\t\t\t},\n\n\t\t\tdecodeNumber: function(num) {\n\t\t\t\tvar localeConverter = new nfLocaleConverter(nfi18n.siteLocale, nfi18n.thousands_sep, nfi18n.decimal_point);\n\n\t\t\t\treturn localeConverter.numberDecoder(num);\n\t\t\t}\n\t\t});\n\t\n\t\tvar ninjaForms = new NinjaForms();\n\t\tninjaForms.start();\t\t\n\t} );\n} );\n\ndefine(\"main\", function(){});\n\n"]}