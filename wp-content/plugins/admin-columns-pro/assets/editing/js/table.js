/*! For license information please see table.js.LICENSE.txt */
(()=>{var e={390:(e,t,n)=>{"use strict";n.r(t),n.d(t,{clearAllBodyScrollLocks:()=>b,disableBodyScroll:()=>g,enableBodyScroll:()=>v});var s=!1;if("undefined"!=typeof window){var i={get passive(){s=!0}};window.addEventListener("testPassive",null,i),window.removeEventListener("testPassive",null,i)}var r="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),o=[],l=!1,a=-1,c=void 0,u=void 0,d=void 0,h=function(e){return o.some((function(t){return!(!t.options.allowTouchMove||!t.options.allowTouchMove(e))}))},p=function(e){var t=e||window.event;return!!h(t.target)||t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1)},m=function(){void 0!==d&&(document.body.style.paddingRight=d,d=void 0),void 0!==c&&(document.body.style.overflow=c,c=void 0)},f=function(){if(void 0!==u){var e=-parseInt(document.body.style.top,10),t=-parseInt(document.body.style.left,10);document.body.style.position=u.position,document.body.style.top=u.top,document.body.style.left=u.left,window.scrollTo(t,e),u=void 0}},g=function(e,t){if(e){if(!o.some((function(t){return t.targetElement===e}))){var n={targetElement:e,options:t||{}};o=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(o),[n]),r?window.requestAnimationFrame((function(){if(void 0===u){u={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,t=e.scrollY,n=e.scrollX,s=e.innerHeight;document.body.style.position="fixed",document.body.style.top=-t,document.body.style.left=-n,setTimeout((function(){return window.requestAnimationFrame((function(){var e=s-window.innerHeight;e&&t>=s&&(document.body.style.top=-(t+e))}))}),300)}})):function(e){if(void 0===d){var t=!!e&&!0===e.reserveScrollBarGap,n=window.innerWidth-document.documentElement.clientWidth;if(t&&n>0){var s=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);d=document.body.style.paddingRight,document.body.style.paddingRight=s+n+"px"}}void 0===c&&(c=document.body.style.overflow,document.body.style.overflow="hidden")}(t),r&&(e.ontouchstart=function(e){1===e.targetTouches.length&&(a=e.targetTouches[0].clientY)},e.ontouchmove=function(t){1===t.targetTouches.length&&function(e,t){var n=e.targetTouches[0].clientY-a;!h(e.target)&&(t&&0===t.scrollTop&&n>0||function(e){return!!e&&e.scrollHeight-e.scrollTop<=e.clientHeight}(t)&&n<0?p(e):e.stopPropagation())}(t,e)},l||(document.addEventListener("touchmove",p,s?{passive:!1}:void 0),l=!0))}}else console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.")},b=function(){r&&(o.forEach((function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null})),l&&(document.removeEventListener("touchmove",p,s?{passive:!1}:void 0),l=!1),a=-1),r?f():m(),o=[]},v=function(e){e?(o=o.filter((function(t){return t.targetElement!==e})),r&&(e.ontouchstart=null,e.ontouchmove=null,l&&0===o.length&&(document.removeEventListener("touchmove",p,s?{passive:!1}:void 0),l=!1)),r?f():m()):console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.")}},114:e=>{function t(e,t){if(!e)throw new Error(t||"AssertionError")}t.notEqual=function(e,n,s){t(e!=n,s)},t.notOk=function(e,n){t(!e,n)},t.equal=function(e,n,s){t(e==n,s)},t.ok=t,e.exports=t},403:(e,t,n)=>{var s=n(415),i=n(511),r=n(114);function o(e){if(!(this instanceof o))return new o(e);this._name=e||"nanobus",this._starListeners=[],this._listeners={}}e.exports=o,o.prototype.emit=function(e){r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.emit: eventName should be type string or symbol");for(var t=[],n=1,s=arguments.length;n<s;n++)t.push(arguments[n]);var o=i(this._name+"('"+e.toString()+"')"),l=this._listeners[e];return l&&l.length>0&&this._emit(this._listeners[e],t),this._starListeners.length>0&&this._emit(this._starListeners,e,t,o.uuid),o(),this},o.prototype.on=o.prototype.addListener=function(e,t){return r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.on: eventName should be type string or symbol"),r.equal(typeof t,"function","nanobus.on: listener should be type function"),"*"===e?this._starListeners.push(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)),this},o.prototype.prependListener=function(e,t){return r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.prependListener: eventName should be type string or symbol"),r.equal(typeof t,"function","nanobus.prependListener: listener should be type function"),"*"===e?this._starListeners.unshift(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].unshift(t)),this},o.prototype.once=function(e,t){r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.once: eventName should be type string or symbol"),r.equal(typeof t,"function","nanobus.once: listener should be type function");var n=this;return this.on(e,(function s(){t.apply(n,arguments),n.removeListener(e,s)})),this},o.prototype.prependOnceListener=function(e,t){r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.prependOnceListener: eventName should be type string or symbol"),r.equal(typeof t,"function","nanobus.prependOnceListener: listener should be type function");var n=this;return this.prependListener(e,(function s(){t.apply(n,arguments),n.removeListener(e,s)})),this},o.prototype.removeListener=function(e,t){return r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.removeListener: eventName should be type string or symbol"),r.equal(typeof t,"function","nanobus.removeListener: listener should be type function"),"*"===e?(this._starListeners=this._starListeners.slice(),n(this._starListeners,t)):(void 0!==this._listeners[e]&&(this._listeners[e]=this._listeners[e].slice()),n(this._listeners[e],t));function n(e,t){if(e){var n=e.indexOf(t);return-1!==n?(s(e,n,1),!0):void 0}}},o.prototype.removeAllListeners=function(e){return e?"*"===e?this._starListeners=[]:this._listeners[e]=[]:(this._starListeners=[],this._listeners={}),this},o.prototype.listeners=function(e){var t="*"!==e?this._listeners[e]:this._starListeners,n=[];if(t)for(var s=t.length,i=0;i<s;i++)n.push(t[i]);return n},o.prototype._emit=function(e,t,n,s){if(void 0!==e&&0!==e.length){void 0===n&&(n=t,t=null),t&&(n=void 0!==s?[t].concat(n,s):[t].concat(n));for(var i=e.length,r=0;r<i;r++){var o=e[r];o.apply(o,n)}}}},792:(e,t,n)=>{var s=n(114),i="undefined"!=typeof window;function r(e){this.hasWindow=e,this.hasIdle=this.hasWindow&&window.requestIdleCallback,this.method=this.hasIdle?window.requestIdleCallback.bind(window):this.setTimeout,this.scheduled=!1,this.queue=[]}r.prototype.push=function(e){s.equal(typeof e,"function","nanoscheduler.push: cb should be type function"),this.queue.push(e),this.schedule()},r.prototype.schedule=function(){if(!this.scheduled){this.scheduled=!0;var e=this;this.method((function(t){for(;e.queue.length&&t.timeRemaining()>0;)e.queue.shift()(t);e.scheduled=!1,e.queue.length&&e.schedule()}))}},r.prototype.setTimeout=function(e){setTimeout(e,0,{timeRemaining:function(){return 1}})},e.exports=function(){var e;return i?(window._nanoScheduler||(window._nanoScheduler=new r(!0)),e=window._nanoScheduler):e=new r,e}},511:(e,t,n)=>{var s,i=n(792)(),r=n(114);o.disabled=!0;try{s=window.performance,o.disabled="true"===window.localStorage.DISABLE_NANOTIMING||!s.mark}catch(e){}function o(e){if(r.equal(typeof e,"string","nanotiming: name should be type string"),o.disabled)return l;var t=(1e4*s.now()).toFixed()%Number.MAX_SAFE_INTEGER,n="start-"+t+"-"+e;function a(r){var o="end-"+t+"-"+e;s.mark(o),i.push((function(){var i=null;try{var l=e+" ["+t+"]";s.measure(l,n,o),s.clearMarks(n),s.clearMarks(o)}catch(e){i=e}r&&r(i,e)}))}return s.mark(n),a.uuid=t,a}function l(e){e&&i.push((function(){e(new Error("nanotiming: performance API unavailable"))}))}e.exports=o},415:e=>{"use strict";e.exports=function(e,t,n){var s,i=e.length;if(!(t>=i||0===n)){var r=i-(n=t+n>i?i-t:n);for(s=t;s<r;++s)e[s]=e[s+n];e.length=r}}},204:e=>{function t(e,t){if(!e)throw new Error(t||"AssertionError")}t.notEqual=function(e,n,s){t(e!=n,s)},t.notOk=function(e,n){t(!e,n)},t.equal=function(e,n,s){t(e==n,s)},t.ok=t,e.exports=t},559:(e,t,n)=>{var s=n(69),i=n(999),r=n(204);function o(e){if(!(this instanceof o))return new o(e);this._name=e||"nanobus",this._starListeners=[],this._listeners={}}e.exports=o,o.prototype.emit=function(e){r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.emit: eventName should be type string or symbol");for(var t=[],n=1,s=arguments.length;n<s;n++)t.push(arguments[n]);var o=i(this._name+"('"+e.toString()+"')"),l=this._listeners[e];return l&&l.length>0&&this._emit(this._listeners[e],t),this._starListeners.length>0&&this._emit(this._starListeners,e,t,o.uuid),o(),this},o.prototype.on=o.prototype.addListener=function(e,t){return r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.on: eventName should be type string or symbol"),r.equal(typeof t,"function","nanobus.on: listener should be type function"),"*"===e?this._starListeners.push(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)),this},o.prototype.prependListener=function(e,t){return r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.prependListener: eventName should be type string or symbol"),r.equal(typeof t,"function","nanobus.prependListener: listener should be type function"),"*"===e?this._starListeners.unshift(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].unshift(t)),this},o.prototype.once=function(e,t){r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.once: eventName should be type string or symbol"),r.equal(typeof t,"function","nanobus.once: listener should be type function");var n=this;return this.on(e,(function s(){t.apply(n,arguments),n.removeListener(e,s)})),this},o.prototype.prependOnceListener=function(e,t){r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.prependOnceListener: eventName should be type string or symbol"),r.equal(typeof t,"function","nanobus.prependOnceListener: listener should be type function");var n=this;return this.prependListener(e,(function s(){t.apply(n,arguments),n.removeListener(e,s)})),this},o.prototype.removeListener=function(e,t){return r.ok("string"==typeof e||"symbol"==typeof e,"nanobus.removeListener: eventName should be type string or symbol"),r.equal(typeof t,"function","nanobus.removeListener: listener should be type function"),"*"===e?(this._starListeners=this._starListeners.slice(),n(this._starListeners,t)):(void 0!==this._listeners[e]&&(this._listeners[e]=this._listeners[e].slice()),n(this._listeners[e],t));function n(e,t){if(e){var n=e.indexOf(t);return-1!==n?(s(e,n,1),!0):void 0}}},o.prototype.removeAllListeners=function(e){return e?"*"===e?this._starListeners=[]:this._listeners[e]=[]:(this._starListeners=[],this._listeners={}),this},o.prototype.listeners=function(e){var t="*"!==e?this._listeners[e]:this._starListeners,n=[];if(t)for(var s=t.length,i=0;i<s;i++)n.push(t[i]);return n},o.prototype._emit=function(e,t,n,s){if(void 0!==e&&0!==e.length){void 0===n&&(n=t,t=null),t&&(n=void 0!==s?[t].concat(n,s):[t].concat(n));for(var i=e.length,r=0;r<i;r++){var o=e[r];o.apply(o,n)}}}},61:(e,t,n)=>{var s=n(204),i="undefined"!=typeof window;function r(e){this.hasWindow=e,this.hasIdle=this.hasWindow&&window.requestIdleCallback,this.method=this.hasIdle?window.requestIdleCallback.bind(window):this.setTimeout,this.scheduled=!1,this.queue=[]}r.prototype.push=function(e){s.equal(typeof e,"function","nanoscheduler.push: cb should be type function"),this.queue.push(e),this.schedule()},r.prototype.schedule=function(){if(!this.scheduled){this.scheduled=!0;var e=this;this.method((function(t){for(;e.queue.length&&t.timeRemaining()>0;)e.queue.shift()(t);e.scheduled=!1,e.queue.length&&e.schedule()}))}},r.prototype.setTimeout=function(e){setTimeout(e,0,{timeRemaining:function(){return 1}})},e.exports=function(){var e;return i?(window._nanoScheduler||(window._nanoScheduler=new r(!0)),e=window._nanoScheduler):e=new r,e}},999:(e,t,n)=>{var s,i=n(61)(),r=n(204);o.disabled=!0;try{s=window.performance,o.disabled="true"===window.localStorage.DISABLE_NANOTIMING||!s.mark}catch(e){}function o(e){if(r.equal(typeof e,"string","nanotiming: name should be type string"),o.disabled)return l;var t=(1e4*s.now()).toFixed()%Number.MAX_SAFE_INTEGER,n="start-"+t+"-"+e;function a(r){var o="end-"+t+"-"+e;s.mark(o),i.push((function(){var i=null;try{var l=e+" ["+t+"]";s.measure(l,n,o),s.clearMarks(n),s.clearMarks(o)}catch(e){i=e}r&&r(i,e)}))}return s.mark(n),a.uuid=t,a}function l(e){e&&i.push((function(){e(new Error("nanotiming: performance API unavailable"))}))}e.exports=o},69:e=>{"use strict";e.exports=function(e,t,n){var s,i=e.length;if(!(t>=i||0===n)){var r=i-(n=t+n>i?i-t:n);for(s=t;s<r;++s)e[s]=e[s+n];e.length=r}}}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>$n,hasStandardBrowserEnv:()=>kn,hasStandardBrowserWebWorkerEnv:()=>Cn,navigator:()=>xn,origin:()=>Tn});class t{input(e,t="",n={}){let s=document.createElement("input");return s.name=e,t&&(s.value=t),n=Object.assign({},{type:"text"},n),this.setHtmlAttributes(s,n),s}textarea(e,t="",n={}){let s=document.createElement("textarea");return s.name=e,this.setHtmlAttributes(s,n),s}checkbox(e,t,n){let s=document.createElement("label");return s.classList.add("input__checkbox"),s.innerHTML=`<input type="checkbox" name="${e}" class="input__checkbox__input" value="${t}"><span class="input__checkbox__label">${n}</span>`,s}setHtmlAttributes(e,t){Object.keys(t).forEach((n=>e.setAttribute(n,t[n])))}inputGroup(e,t){return`\n\t\t<div class="input__group">\n\t\t\t<label>${e}</label>\n\t\t\t<div class="input__controlgroup">${t}</div>\n\t\t</div>\n\t\t`}}class s{constructor(e){this.element=e}static find(e){let t=document.querySelector(e);return null===t?null:new s(t)}static create(e){return new s(document.createElement(e))}getElement(){return this.element}addId(e){return this.element.id=e,this}toggleClass(e,t=null){return null===t?this.element.classList.contains(e)?this.removeClass(e):this.addClass(e):t?this.addClass(e):this.removeClasses(e)}addClass(e){return this.element.classList.add(e),this}addClasses(...e){return e.forEach((e=>this.addClass(e))),this}removeClasses(...e){return e.forEach((e=>this.removeClass(e))),this}removeClass(e){return this.element.classList.remove(e),this}setAttribute(e,t){return this.element.setAttribute(e,t),this}setAttributes(e){return Object.keys(e).forEach((t=>this.setAttribute(t,e[t]))),this}addHtml(e){return this.element.innerHTML=e,this}append(e){return this.element.appendChild(e),this}appendFound(e){return document.querySelectorAll(e).forEach((e=>this.append(e))),this}appendSelfTo(e){return e.append(this.element),this}prepend(e){return this.element.prepend(e),this}prependSelfTo(e){return e.prepend(this.element),this}css(e,t){return this.element.style[e]=t,this}insertAfter(e){var t;try{null===(t=this.element.parentElement)||void 0===t||t.insertBefore(e,this.element.nextElementSibling)}catch(e){console.error("Not able to insert element after current node",this.element)}}insertSelfBefore(e){var t;try{null===(t=e.parentElement)||void 0===t||t.insertBefore(this.element,e)}catch(e){console.error("Not able to insert element before current node",this.element)}return this}insertBefore(e){var t;try{null===(t=this.element.parentElement)||void 0===t||t.insertBefore(e,this.element)}catch(e){console.error("Not able to insert element before current node",this.element)}return this}addEventListener(e,t){return this.element.addEventListener(e,t),this}addEventListeners(e,t){return e.forEach((e=>this.addEventListener(e,t))),this}$(){return this.getElement()}}class i{constructor(e){this.form=new t,this.element="bulk"===e?o():r(),this.setError("")}setTemplate(e){let t=this.getElement().querySelector(".aceditable__form__inputs");return t?(t.innerHTML="",t.insertAdjacentHTML("afterbegin",e),this):this}getElement(){return this.element}setError(e){let t=this.getElement().querySelector(".aceditable__form__error");return t?(e?(t.innerHTML=e,t.style.display="block"):t.style.display="none",this):this}getFormHelper(){return this.form}addClass(e){return this.element.classList.add(e),this}setSubmitButton(e){let t=this.element.querySelector("[data-submit]");t&&(t.innerHTML=e)}showButtons(e=!0){let t=this.element.querySelector(".aceditable__form__controls");return t?(t.style.display=e?"block":"none",this):this}}const r=()=>s.create("div").addClasses("aceditable","-inline").addHtml('\t\t\n\t\t\t<div class="aceditable__content">\n\t\t\t\t<form class="aceditable__form" autocomplete="off">\n\t\t\t\t\t<div class="aceditable__form__inputs">\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="aceditable__form__controls">\n\t\t\t\t\t\t<button data-submit="" class="button aceditable__button -primary"><span class="dashicons dashicons-yes"></span></button>\n\t\t\t\t\t\t<button data-cancel="" class="button aceditable__button"><span class="dashicons dashicons-no"></span></button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t\t<div class="aceditable__form__error"></div>\n\t\t\t</div>\n\t\t\t<div class="aceditable__spinner spinner"></div>\n\t\t').getElement(),o=()=>s.create("div").addClasses("aceditable","-bulk").addHtml('\t\t\n\t\t\t\t<form class="aceditable__form" autocomplete="off">\n\t\t\t\t\t<div class="aceditable__form__inputs">\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t').getElement();var l=n(559),a=n.n(l);const c=(e,t,...n)=>{let s=n.reduce(((e,t)=>e&&e[t]),e);return void 0!==s?s:t},u=(e,t)=>void 0===e?t:e,d=(e,t)=>{let n=t;return"object"==typeof e&&Object.keys(e).forEach((t=>{let s=e[t];void 0===n&&(n={}),"object"==typeof s?(n.hasOwnProperty(t)||(n[t]=Array.isArray(s)?[]:{}),n[t]=d(s,n[t])):n[t]=s})),n};class h{constructor(e){this.isInit=!1,this.template=new i(e.mode),this.settings=d(e,this.getDefaults()),this.Events=new(a())}close(){return this.removeElement(),this.Events.emit("close",this),this}focus(){}get(){return this.element=this.template.getElement(),this.beforeRender(),this.render(),this.valueToInput(this.settings.value),this.initEvents(),this.element}render(){}getEditableTemplate(){return this.template}toggle(e){return this.element.querySelectorAll("input, select, textarea, button").forEach((t=>t.disabled=!1===e)),this.disabled=!1===e,this}disable(){return this.toggle(!1)}enable(){return this.toggle(!0)}beforeRender(){this.template.setTemplate(this.getTemplate()).addClass("-"+this.getEditableType()).setError("").showButtons(!this.settings.hasOwnProperty("showbuttons")||!1!==this.settings.showbuttons)}save(){!this.disabled&&this.validate()&&this.Events.emit("save",this)}initEvents(){var e,t,n;this.isInit||(null===(e=this.getElement().querySelector("button[data-submit]"))||void 0===e||e.addEventListener("click",(e=>{e.preventDefault(),this.save()})),null===(t=this.getElement().querySelector("button[data-cancel]"))||void 0===t||t.addEventListener("click",(e=>{e.preventDefault(),this.close()})),null===(n=this.getElement().querySelector("form"))||void 0===n||n.addEventListener("submit",(e=>{e.preventDefault(),this.save()})),this.isInit=!0)}getArg(e,t=null){return c(this.settings,t,e.split("."))}removeElement(){this.getElement()&&this.getElement().remove()}toggleLoading(e=!0){var t,n;e?null===(t=this.getElement())||void 0===t||t.classList.add("-loading"):null===(n=this.getElement())||void 0===n||n.classList.remove("-loading")}setValue(e){return this.settings.value=e,this}setObjectId(e){return this.settings.object_id=e,this}getObjectId(){return!!this.settings.hasOwnProperty("object_id")&&this.settings.object_id}setError(e){this.template.setError(e)}getElement(){return this.element}validate(){let e=this.getElement().querySelector("form");return!(!e||!e.checkValidity()&&(e.reportValidity(),1))}onSave(e){this.Events.on("save",e)}getDefaults(){return{title:!1,mode:"inline"}}}class p extends h{getEditableType(){return"checkbox"}focus(){let e=this.getElement().querySelector("form input[type=checkbox]");e&&e.focus({preventScroll:!0})}render(){const e=this.getElement().querySelector(".input__group.-checkbox");e&&Object.keys(this.settings.options).forEach((t=>{let n=this.settings.options[t];e.insertAdjacentHTML("beforeend",this.getEditableTemplate().getFormHelper().checkbox("option[]",n.value,n.text).outerHTML)}))}valueToInput(e){Array.isArray(e)&&e.forEach((e=>{let t=this.getElement().querySelector(`input[value="${e}"]`);t&&(t.checked=!0)}))}getValue(){let e=[];return this.getElement().querySelectorAll("form input[type=checkbox]:checked").forEach((t=>e.push(t.value))),e}getTemplate(){return'<div class="input__group -checkbox"></div>'}getDefaults(){let e=super.getDefaults();return e.options=[],e}}class m extends h{getEditableType(){return"color"}focus(){var e;null===(e=this.getElement().querySelector("button"))||void 0===e||e.focus({preventScroll:!0})}valueToInput(e){let t=this.getElement().querySelector("input");e&&t&&(t.value=e);let n={};this.settings.palettes&&(n={palettes:this.settings.palettes}),jQuery(t).wpColorPicker(n)}getValue(){var e,t;return null!==(t=null===(e=this.getElement().querySelector("input"))||void 0===e?void 0:e.value)&&void 0!==t?t:""}getTemplate(){return this.getEditableTemplate().getFormHelper().input("color").outerHTML}}class f extends h{getEditableType(){return"date"}focus(){}render(){const e=this,t=jQuery(this.getElement().querySelector("[name=date]"));document.body.classList.add("ac-jqui"),t.prop("readonly",!0).datepicker({dateFormat:"yy-mm-dd",changeYear:!0,firstDay:this.settings.weekstart,showButtonPanel:!0,yearRange:"c-75:c+50",onSelect:()=>{this.settings.saveOnSelect&&e.save()},beforeShow:(t,n)=>{setTimeout((function(){var t;let s=n.dpDiv.get(0);s.style.position="relative",s.style.left=0,s.style.top=0,null===(t=e.getElement().querySelector(".input__date"))||void 0===t||t.append(s)}),0)}}).on("click",(()=>{t.prop("readonly",!1)})).on("blur",(()=>{t.prop("readonly",!0)}))}valueToInput(e){!1===e&&(e=""),e&&8===e.length&&(e=g(e)),setTimeout((()=>{jQuery(this.getElement().querySelector("[name=date]")).val(e).datepicker("show")}),50)}getValue(){var e,t;return null!==(t=null===(e=this.getElement().querySelector("[name=date]"))||void 0===e?void 0:e.value)&&void 0!==t?t:""}getTemplate(){return`\n\t\t\t${this.getEditableTemplate().getFormHelper().input("date","",{placeholder:"yyyy-mm-dd",autocomplete:"nope"}).outerHTML}\n\t\t\t<div class="input__date"></div>\n\t\t`}getDefaults(){let e=super.getDefaults();return e.weekstart=1,e}}const g=e=>[(e=[e.slice(0,4),"-",e.slice(4)].join("")).slice(0,7),"-",e.slice(7)].join("");class b extends h{getEditableType(){return"datetime"}render(){document.body.classList.add("ac-jqui");let e=this.getHourElement(),t=this.getMinutesElement(),n=this.getSecondsElement();e&&b.createSelectHours(e,this.getArg("timeformat",null)),t&&b.createSelectIncementalOptions(t),n&&b.createSelectIncementalOptions(n),jQuery(this.getDateElement()).datepicker({dateFormat:"yy-mm-dd",changeYear:!0,showButtonPanel:!0,firstDay:this.getArg("weekstart",1)})}close(){return document.body.classList.remove("ac-jqui"),super.close()}focus(){var e;null===(e=this.getDateElement())||void 0===e||e.focus({preventScroll:!0})}valueToInput(e){if(!e)return;let t=new Date(e.replace(/-/g,"/"));if(isNaN(t.getTime()))return;let n=this.getDateElement(),s=this.getHourElement(),i=this.getMinutesElement(),r=this.getSecondsElement();n&&(n.value=t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2)),s&&(s.value=("0"+t.getHours()).slice(-2)),i&&(i.value=("0"+t.getMinutes()).slice(-2)),r&&(r.value=("0"+t.getSeconds()).slice(-2))}getValue(){var e,t,n,s,i,r,o,l;let a=null!==(t=null===(e=this.getDateElement())||void 0===e?void 0:e.value)&&void 0!==t?t:null,c=null!==(s=null===(n=this.getHourElement())||void 0===n?void 0:n.value)&&void 0!==s?s:null,u=null!==(r=null===(i=this.getMinutesElement())||void 0===i?void 0:i.value)&&void 0!==r?r:null,d=null!==(l=null===(o=this.getSecondsElement())||void 0===o?void 0:o.value)&&void 0!==l?l:null;return a&&c&&u&&d?`${a} ${c}:${u}:${d}`:null}getTemplate(){return`\n\t\t\t${this.getEditableTemplate().getFormHelper().input("date","",{placeholder:"yyyy-mm-dd",autocomplete:"nope"}).outerHTML}\n\t\t\t<div class="input__time">\n\t\t\t\t<select name="time_hours"></select>\t\t\t\t\n\t\t\t\t<select name="time_minutes"></select>\t\t\t\t\n\t\t\t\t<select name="time_seconds"></select>\t\t\t\t\n\t\t\t</div>\n\t\t`}getDateElement(){return this.getElement().querySelector('[name="date"]')}getHourElement(){return this.getElement().querySelector('[name="time_hours"]')}getMinutesElement(){return this.getElement().querySelector('[name="time_minutes"]')}getSecondsElement(){return this.getElement().querySelector('[name="time_seconds"]')}getDefaults(){return Object.assign(super.getDefaults(),{weekstart:1,showbuttons:!0})}static createSelectHours(e,t){for(let n=0;n<24;n++){let s=document.createElement("option"),i=("0"+n.toString()).slice(-2);s.setAttribute("value",i),s.text=12===t?b.formatAMPM(parseInt(i)):i,e.append(s)}}static formatAMPM(e){let t=e>=12?"pm":"am";return(e=(e%=12)||12)+" "+t}static createSelectIncementalOptions(e,t=0,n=60){for(let s=t;s<n;s++){let t=document.createElement("option"),n=("0"+s).slice(-2);t.setAttribute("value",n),t.text=n,e.append(t)}}}class v extends h{getEditableType(){return"text"}render(){this.getElement().classList.add(`-input-${c(this.settings,"text",["html_attributes","type"])}`)}focus(){var e;null===(e=this.getInputElement())||void 0===e||e.focus({preventScroll:!0})}valueToInput(e){if(e){let t=this.getInputElement();t&&(t.value=e)}}getValue(){var e,t;return null!==(t=null===(e=this.getInputElement())||void 0===e?void 0:e.value)&&void 0!==t?t:""}getInputElement(){return this.getElement().querySelector("input")}getTemplate(){return this.getEditableTemplate().getFormHelper().input("input","",this.settings.html_attributes).outerHTML}}class y extends h{getEditableType(){return"textarea"}focus(){var e;null===(e=this.getElement().querySelector("textarea"))||void 0===e||e.focus({preventScroll:!0})}valueToInput(e){const t=this.getElement().querySelector("textarea");t&&(setTimeout((()=>{t.focus(),t.setSelectionRange(0,0)}),0),e&&(t.value=e))}getValue(){var e,t;return null!==(t=null===(e=this.getElement().querySelector("textarea"))||void 0===e?void 0:e.value)&&void 0!==t?t:""}getTemplate(){return this.getEditableTemplate().getFormHelper().textarea("text","",this.settings.html_attributes).outerHTML}getDefaults(){return Object.assign(super.getDefaults(),{html_attributes:{rows:6}})}}class _ extends h{getEditableType(){return"togglable"}render(){var e,t,n,s;const i=this.settings.options,r=this.getFirstInput(),o=this.getSecondInput(),l=null!==(t=null===(e=r.parentElement)||void 0===e?void 0:e.querySelector(".toggle__label"))&&void 0!==t?t:document.createElement("label"),a=null!==(s=null===(n=o.parentElement)||void 0===n?void 0:n.querySelector(".toggle__label"))&&void 0!==s?s:document.createElement("label");r.value=i[0].value,o.value=i[1].value,l.innerHTML=i[0].label,a.innerHTML=i[1].label,_.getTrueValues().includes(i[0].label.toString().toLowerCase())?(l.innerHTML=_.getDefaultTrueLabel(),a.innerHTML=_.getDefaultFalseLabel()):_.getFalseValues().includes(i[0].label.toString().toLowerCase())&&(l.innerHTML=_.getDefaultFalseLabel(),a.innerHTML=_.getDefaultTrueLabel())}valueToInput(e){if(this.settings.shortroute&&null!==e){let t=!1,n=this.getFirstInput(),s=this.getSecondInput();n.value.toString()===e.toString()&&(s.checked=!0,t=!0),s.value.toString()===e.toString()&&(n.checked=!0,t=!0),t||(this.getTrueInput().checked=!0),this.save(),this.close()}}getTrueInput(){return _.getTrueValues().includes(this.settings.options[0].value.toString().toLowerCase())?this.getFirstInput():this.getSecondInput()}getFirstInput(){return this.getElement().querySelector("input[data-o1]")}getSecondInput(){return this.getElement().querySelector("input[data-o2]")}getValue(){var e,t;return null!==(t=null===(e=this.getElement().querySelector("input:checked"))||void 0===e?void 0:e.value)&&void 0!==t?t:""}static getTrueValues(){return["true","yes","1","on"]}static getFalseValues(){return["","0","no","false","off"]}static getDefaultTrueLabel(){return'<span class="dashicons dashicons-yes"></span>'}static getDefaultFalseLabel(){return'<span class="dashicons dashicons-no"></span>'}getTemplate(){return'\n\t\t<label >\n\t\t\t<input type="radio" name="toggle" data-o1>\n\t\t\t<span class="toggle__label"></span>\n\t\t</label>\n\t\t<label data-false>\n\t\t\t<input type="radio" name="toggle" data-o2>\n\t\t\t<span class="toggle__label"></span>\n\t\t</label>'}}class E extends h{getEditableType(){return"fullname"}focus(){this.getFirstNameElement().focus({preventScroll:!0})}render(){this.getFirstNameElement().placeholder=this.getArg("placeholder_first_name",""),this.getLastNameElement().placeholder=this.getArg("placeholder_last_name","")}valueToInput(e){this.getFirstNameElement().value=u(null==e?void 0:e.first_name,""),this.getLastNameElement().value=u(null==e?void 0:e.last_name,"")}getValue(){return{first_name:this.getFirstNameElement().value,last_name:this.getLastNameElement().value}}getTemplate(){return'\n\t\t\t<div class="aceditable__form__inputs">\n\t\t\t\t<div class="input__group">\n\t\t\t\t<input name="first_name" type="text" placeholder="First name">\n\t\t\t\t<input name="last_name" type="text" placeholder="Last name">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'}getFirstNameElement(){return this.getElement().querySelector('[name="first_name"]')}getLastNameElement(){return this.getElement().querySelector('[name="last_name"]')}}class w extends h{getEditableType(){return"select"}focus(){this.getSelectElement().focus({preventScroll:!0})}render(){let e=this.getSelectElement();Object.keys(this.settings.options).forEach((t=>{let n=this.settings.options[t];e.append(new Option(n.label,n.value))}))}getSelectElement(){return this.getElement().querySelector('select[name="value"]')}valueToInput(e){e&&(this.getSelectElement().value=e)}getValue(){return this.getSelectElement().value}getTemplate(){return'<select name="value"></select>'}}const S=()=>acp_editing_i18n,$=S().replace_with,x=S().add,k=S().remove;class C extends h{getEditableType(){return"select2"}focus(){var e;jQuery(this.getSelectBox()).ac_select2("open").focus(),null===(e=document.querySelector(".select2-container--acs2 .select2-search__field"))||void 0===e||e.focus()}render(){this.getObjectId()&&(this.getSelectBox().dataset.objectId=this.getObjectId())}getSelectBox(){return this.getElement().querySelector(".acs2")}close(){return jQuery(this.getElement().querySelector(".acs2")).ac_select2("close"),super.close()}valueToInput(e){let t=jQuery(this.getElement().querySelector(".acs2"));t.ac_select2(this.settings.select2),t.on("select2:select",(()=>jQuery(".select2-search__field").val(""))),e&&((e,t=!0)=>{const n=[];return Object.keys(e).forEach((t=>{n.push(new Option(e[t],t,!0,!0))})),t&&n.sort(((e,t)=>e.label.localeCompare(t.label))),n})(e,!0).forEach((e=>t.append(e).trigger("change"))),this.settings.saveOnSelect&&t.on("change",(()=>{this.save()}))}getTemplate(){return'<select class="acs2"></select>'}}class T extends C{getValue(){return this.getElement().querySelector("select.acs2").value}}class L extends C{getValue(){const e=this.getElement().querySelectorAll("select.acs2 option:checked");return Array.from(e).map((e=>e.value))}}class O extends L{render(){var e;super.render(),null===(e=this.getElement().querySelector(".aceditable__form__inputs"))||void 0===e||e.insertAdjacentHTML("afterbegin",A)}getTypeElement(){return this.getElement().querySelector("[name=method]")}getValue(){return{value:super.getValue(),method:this.getTypeElement().value}}}const A=`\n\t<div class="input__group -type -strategy">\n        <select class="type" name="method">\n            <option value="replace">${$}..</option>\n            <option value="add">${x}..</option>\n            <option value="remove">${k}..</option>\n        </select>\n\t</div>\n`;class j extends w{render(){super.render(),jQuery(this.getSelectElement()).ac_select2(this.settings.select2).ac_select2("focus")}close(){return jQuery(this.getSelectElement()).ac_select2("close"),super.close()}valueToInput(e){let t=jQuery(this.getSelectElement());t.val(e).change(),this.settings.saveOnSelect&&t.on("change",(()=>{this.save()})),setTimeout((()=>{t.ac_select2("open")}),0)}}class R extends j{valueToInput(e){jQuery(this.getSelectElement()).val(e).change()}getValue(){const e=this.getSelectElement().querySelectorAll("option:checked");return Array.from(e).map((e=>e.value))}}class I extends R{render(){var e;super.render(),null===(e=this.getElement().querySelector(".aceditable__form__inputs"))||void 0===e||e.insertAdjacentHTML("afterbegin",A)}getValue(){var e,t;return{value:super.getValue(),method:null!==(t=null===(e=this.getElement().querySelector("[name=method]"))||void 0===e?void 0:e.value)&&void 0!==t?t:""}}}class q{constructor(e,t=""){this.element=e,this.content=t||e.dataset.acTip,this.tip=P(this.content),this.initEvents()}initEvents(){"1"!==this.element.dataset.acTooltipInit&&(this.element.dataset.acTooltipInit="1",this.element.addEventListener("mouseenter",(()=>{const e=document.body.getBoundingClientRect(),t=this.element.getBoundingClientRect();document.body.appendChild(this.tip),this.tip.style.left=t.left-e.left+this.element.offsetWidth/2+"px",this.tip.style.top=t.top-e.top+this.element.offsetHeight+"px",this.tip.classList.add("hover")})),this.element.addEventListener("mouseleave",(()=>{this.tip.classList.remove("hover"),document.body.contains(this.tip)&&document.body.removeChild(this.tip)})),this.element.removeAttribute("title"))}}const P=e=>{let t=document.createElement("div");return t.classList.add("ac-tooltip"),t.innerHTML=e,t};class N extends h{getEditableType(){return"media"}render(){var e;!0===(null===(e=this.settings.library)||void 0===e?void 0:e.uploadedTo)&&(this.settings.library.uploadedTo=this.settings.object_id),wp.media.model.settings.post.id=this.settings.object_id;const t=new wp.media.controller.Library({id:"acp_edit_state",title:this.settings.title,priority:20,library:wp.media.query(this.settings.library),multiple:this.settings.multiple,editable:!1,allowLocalEdits:!1,displaySettings:!1,displayUserSettings:!1});this.library=wp.media.frames.file_frame=wp.media({library:this.settings.library,state:"acp_edit_state",states:[t]}),this.displaySaveButton(!1),this.currentValues=[],this._addEvents()}valueToInput(e){e&&(this.currentValues=Array.isArray(e)?e:[e]),this.getArg("showbuttons",!0)||this.library.open()}getValue(){return this.getArg("multiple",!0)?this.currentValues:this.currentValues[0]}getTemplate(){return'\n\t\t<a href="#" class="wplib button">Select</a>\n\t\t<div class="aceditable__selected"></div>'}_addEvents(){var e;null===(e=this.getElement().querySelector(".wplib"))||void 0===e||e.addEventListener("click",(e=>{e.preventDefault(),this.library.open()})),this.library.on("open",(()=>{let e=this.library.state().get("selection"),t=this.currentValues;t&&!this.settings.disableSelection&&t.forEach((t=>{let n=wp.media.attachment(t);n.fetch(),e.add(n?[n]:[])}))})),this.library.on("select",(()=>{let e=this.library.state().get("selection").toJSON(),t=[];e.forEach((e=>{t.push(e.id.toString())})),this.currentValues=t,this.settings.showbuttons||(this.save(),this.close()),this.SetImagesFromSelection(this.library.state().get("selection").models),this.displayLibraryButton(!1),this.displaySaveButton(!0)})),this.library.on("close",(()=>{this.settings.showbuttons||setTimeout((()=>this.close()),0)}))}displaySaveButton(e){let t=this.getElement().querySelector(".aceditable__form__controls");t&&(t.style.display=e?"inline-block":"none")}displayLibraryButton(e=!0){let t=this.getElement().querySelector(".wplib");t&&(t.style.display=e?"inline-block":"none")}SetImagesFromSelection(e){let t=this.getElement().querySelector(".aceditable__selected");t.innerHTML="",0!==e.length&&e.forEach((e=>{var n,s;let i=document.createElement("div"),r="image"===e.attributes.type?N.getImageElement(e):N.getFileElement(e);r&&(i.append(r),i.append(N.getInfoElement(e)),i.classList.add("aceditable__selected__item"),new q(i,null!==(s=null===(n=i.querySelector(".aceditable__selected__item__info"))||void 0===n?void 0:n.innerHTML)&&void 0!==s?s:""),r.addEventListener("click",(e=>{e.preventDefault(),this.library.open()})),t.append(i))}))}static getInfoElement(e){let t=document.createElement("div");return t.classList.add("aceditable__selected__item__info"),t.innerHTML=`\n\t\t\t<div>${e.attributes.title}</div>\n\t\t\t<div>${e.attributes.filename}</div>\n\t\t\t<div>ID: ${e.attributes.id}</div>\n\t\t`,t}static getImageElement(e){let t=document.createElement("img"),n=e.attributes.url;return e.attributes.sizes.hasOwnProperty("thumbnail")&&(n=e.attributes.sizes.thumbnail.url),t.setAttribute("src",n),t.classList.add("image"),t}static getFileElement(e){let t=document.createElement("img");return t.setAttribute("src",e.attributes.icon),t.classList.add("file"),t}getDefaults(){return Object.assign(super.getDefaults(),{title:"Media",multiple:!0,disableSelection:!1,library:{uploadedTo:null}})}}const B=(e,t)=>{var n;null===(n=null==t?void 0:t.parentNode)||void 0===n||n.insertBefore(e,t.nextSibling)};class M extends h{getEditableType(){return"multi_input"}focus(){let e=this.getElement().querySelector("form input, form textarea");e&&e.focus({preventScroll:!0})}getSubType(){return this.getArg("subtype")}valueToInput(e){(!e||Array.isArray(e)&&0===e.length)&&(e=[""]),e.forEach((e=>{var t;let n=this.createSingleInput(e);null===(t=this.getElement().querySelector(".acp-ie-multi-container"))||void 0===t||t.append(n)}))}createSingleInput(e){let t=this.settings.subtype,n=document.createElement("div"),s="textarea"===t?this.getEditableTemplate().getFormHelper().textarea("input",e):this.getEditableTemplate().getFormHelper().input("input",e,{type:this.getSubType()});return s.value=e,n.classList.add("single-input"),n.append(s),n.append(this.createControls()),n}determineControls(){let e=this.getElement().querySelectorAll(".single-input").length;this.getElement().querySelectorAll(".single-input__control.-remove").forEach((t=>{t.style.display=e>1?"inline-block":"none"}))}createControls(){var e,t;let n=document.createElement("div");return n.classList.add("single-input__controls"),n.innerHTML='\n\t\t\t<span class="single-input__control -add">\n\t\t\t\t<span class="dashicons dashicons-plus"></span>\n\t\t\t</span>\n\t\t\t<span class="single-input__control -remove">\n\t\t\t\t<span class="dashicons dashicons-minus"></span>\n\t\t\t</span>\n\t\t',null===(e=n.querySelector(".-add"))||void 0===e||e.addEventListener("click",(e=>this.eventNewRow(e.target))),null===(t=n.querySelector(".-remove"))||void 0===t||t.addEventListener("click",(e=>{var t;null===(t=e.target.closest(".single-input"))||void 0===t||t.remove(),this.determineControls()})),setTimeout((()=>{this.determineControls()}),0),n}eventNewRow(e){let t=e.closest(".single-input");t&&B(this.createSingleInput(""),t)}getValue(){let e=[];return this.getElement().querySelectorAll(".single-input input, .single-input textarea").forEach((t=>{e.push(t.value)})),e}getTemplate(){return'<div class="acp-ie-multi-container"></div>'}getDefaults(){return Object.assign(super.getDefaults(),{subtype:"text"})}}const D="ac-edit-popper-wrapper";class F extends h{getEditableType(){return"wysiwyg"}render(){let e=this.getEditorId();jQuery(this.getElement().querySelector("textarea")).attr("id",e),this.getElement().addEventListener("click",(e=>e.preventDefault())),setTimeout((()=>{let t=this.getEditorSettings(),n=this.getElement().closest(".ac-edit-popper"),s=this.getElement().closest(".ac-modal.-bulkedit");n&&(n.classList.add("-full"),this.wrapPopper()),s&&(s.classList.add("-wysiwyg"),t.tinymce.height="300px"),wp.editor.initialize(e,t)}))}wrapPopper(){let e=document.createElement("div"),t=this.getElement().closest(".ac-edit-popper");e&&t&&(e.classList.add(D),document.body.append(e),e.appendChild(t))}removePopperwrap(){document.querySelectorAll(`.${D}`).forEach((e=>e.remove()))}getEditorSettings(){let e=Object.assign({},wp.editor.getDefaultSettings());return e.tinymce.toolbar1="formatselect,bold,italic,bullist,numlist,blockquote,alignleft,alignright,aligncenter,link,unlink,wp_add_media,wp_more,fullscreen,wp_adv",e.tinymce.toolbar2="strikethrough,hr,forecolor,pastetext,removeformat,charmap,undo,redo",e.tinymce.width="100%",e.quicktags=!0,e.mediaButtons=!0,e}close(){return this.id=null,this.removePopperwrap(),super.close()}getEditorId(){return this.id||(this.id="acp_"+Math.floor(1e4*Math.random())+"_"+Math.floor(1e4*Math.random())+"_"+Math.floor(1e4*Math.random())),this.id}valueToInput(e){let t=this.getElement().querySelector("textarea");e&&t&&(t.value=e)}getValue(){let e=this.getEditorId();return wp.editor.getContent(e)}getTemplate(){return"<textarea></textarea>"}}const H=()=>ac_table;class V extends h{getEditableType(){return"select"}close(){return jQuery(this.getElement().querySelector(".acs2")).ac_select2("close"),super.close()}valueToInput(e){this.getRemoteData().done((t=>{let n=this.settings.select2;n.data=t.data.results,jQuery(this.getElement().querySelector(".acs2")).ac_select2(n).val(e).trigger("change")}))}getRemoteData(){const e=this.getObjectId(),t=H();return jQuery.ajax({url:ajaxurl,dataType:"json",method:"get",data:{action:"acp_editing_request",method:this.settings.mode+"-select-values",layout:t.layout,column:this.settings.column,item_id:e||null,list_screen:t.list_screen,_ajax_nonce:t.ajax_nonce}})}getSelectElement(){return this.getElement().querySelector("select.acs2")}getValue(){return this.getSelectElement().value}getTemplate(){return'<select class="acs2"></select>'}}const U=S(),W="replace";class z extends h{render(){this.initValidationAttributes(),this.getValueInput().addEventListener("blur",(()=>{this.initValidationAttributes()}))}focus(){this.getValueInput().focus()}getEditableType(){return"number"}valueToInput(e){e&&(this.getValueInput().value=e)}getValueInput(){return this.getElement().querySelector('[name="value"]')}getComputationSelect(){return this.getElement().querySelector("[name=computation_type]")}getComputationType(){return this.getComputationSelect().value}initValidationAttributes(){const e=this.getComputationType();this.getValueInput().required=e!==W}getValue(){return{allow_negative:!0,value:this.getValueInput().value,computation_type:this.getComputationType()}}getTemplate(){let e=this.getEditableTemplate().getFormHelper().input("value","",this.settings.html_attributes).outerHTML;return`\n            <div class="input__group -type -strategy">\n                <select class="type" name="computation_type">\n                    <option value="${W}">${U.replace_with}..</option>\n                    <option value="add">${U.operators.add}..</option>\n                    <option value="subtract">${U.operators.subtract}..</option>\n                    <option value="multiply">${U.operators.multiply}..</option>\n                    <option value="divide">${U.operators.divide}..</option>\n                </select>\n                ${e}\n            </div>\n        `}}new Set;const Q="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;class J{_listeners="WeakMap"in Q?new WeakMap:void 0;_observer=void 0;options;constructor(e){this.options=e}observe(e,t){return this._listeners.set(e,t),this._getObserver().observe(e,this.options),()=>{this._listeners.delete(e),this._observer.unobserve(e)}}_getObserver(){return this._observer??(this._observer=new ResizeObserver((e=>{for(const t of e)J.entries.set(t.target,t),this._listeners.get(t.target)?.(t)})))}}J.entries="WeakMap"in Q?new WeakMap:void 0;let G,Y,K=!1;function X(e,t){e.appendChild(t)}function Z(e,t,n){const s=function(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}(e);if(!s.getElementById(t)){const e=se("style");e.id=t,e.textContent=n,function(e,t){X(e.head||e,t),t.sheet}(s,e)}}function ee(e,t,n){e.insertBefore(t,n||null)}function te(e){e.parentNode&&e.parentNode.removeChild(e)}function ne(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function se(e){return document.createElement(e)}function ie(e){return document.createTextNode(e)}function re(){return ie(" ")}function oe(){return ie("")}function le(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function ae(e){return function(t){return t.preventDefault(),e.call(this,t)}}function ce(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function ue(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function de(e){let t;return{p(...n){t=n,t.forEach((t=>e.push(t)))},r(){t.forEach((t=>e.splice(e.indexOf(t),1)))}}}function he(e){return""===e?null:+e}function pe(e,t){t=""+t,e.data!==t&&(e.data=t)}function me(e,t){e.value=null==t?"":t}function fe(e,t,n,s){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,s?"important":"")}function ge(e,t,n){for(let n=0;n<e.options.length;n+=1){const s=e.options[n];if(s.__value===t)return void(s.selected=!0)}n&&void 0===t||(e.selectedIndex=-1)}function be(e,t,n){e.classList.toggle(t,!!n)}class ve{is_svg=!1;e=void 0;n=void 0;t=void 0;a=void 0;constructor(e=!1){this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){var s;this.e||(this.is_svg?this.e=(s=t.nodeName,document.createElementNS("http://www.w3.org/2000/svg",s)):this.e=se(11===t.nodeType?"TEMPLATE":t.nodeName),this.t="TEMPLATE"!==t.tagName?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)ee(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(te)}}function ye(e,t){return new e(t)}function _e(){}function Ee(e){return e()}function we(){return Object.create(null)}function Se(e){e.forEach(Ee)}function $e(e){return"function"==typeof e}function xe(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function ke(e,t){return e===t||(G||(G=document.createElement("a")),G.href=t,e===G.href)}function Ce(e,t,n,s){if(e){const i=Te(e,t,n,s);return e[0](i)}}function Te(e,t,n,s){return e[1]&&s?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](s(t))):n.ctx}function Le(e,t,n,s){if(e[2]&&s){const i=e[2](s(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let s=0;s<n;s+=1)e[s]=t.dirty[s]|i[s];return e}return t.dirty|i}return t.dirty}function Oe(e,t,n,s,i,r){if(i){const o=Te(t,n,s,r);e.p(o,i)}}function Ae(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function je(e){return e&&$e(e.destroy)?e.destroy:_e}function Re(e){Y=e}function Ie(){if(!Y)throw new Error("Function called outside component initialization");return Y}function qe(e){Ie().$$.on_mount.push(e)}function Pe(e){Ie().$$.on_destroy.push(e)}function Ne(){const e=Ie();return(t,n,{cancelable:s=!1}={})=>{const i=e.$$.callbacks[t];if(i){const r=function(e,t,{bubbles:n=!1,cancelable:s=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:s})}(t,n,{cancelable:s});return i.slice().forEach((t=>{t.call(e,r)})),!r.defaultPrevented}return!0}}function Be(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}new Map;const Me=[],De=[];let Fe=[];const He=[],Ve=Promise.resolve();let Ue=!1;function We(){Ue||(Ue=!0,Ve.then(Ye))}function ze(e){Fe.push(e)}function Qe(e){He.push(e)}const Je=new Set;let Ge=0;function Ye(){if(0!==Ge)return;const e=Y;do{try{for(;Ge<Me.length;){const e=Me[Ge];Ge++,Re(e),Ke(e.$$)}}catch(e){throw Me.length=0,Ge=0,e}for(Re(null),Me.length=0,Ge=0;De.length;)De.pop()();for(let e=0;e<Fe.length;e+=1){const t=Fe[e];Je.has(t)||(Je.add(t),t())}Fe.length=0}while(Me.length);for(;He.length;)He.pop()();Ue=!1,Je.clear(),Re(e)}function Ke(e){if(null!==e.fragment){e.update(),Se(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ze)}}const Xe=new Set;let Ze,et;function tt(){Ze={r:0,c:[],p:Ze}}function nt(){Ze.r||Se(Ze.c),Ze=Ze.p}function st(e,t){e&&e.i&&(Xe.delete(e),e.i(t))}function it(e,t,n,s){if(e&&e.o){if(Xe.has(e))return;Xe.add(e),Ze.c.push((()=>{Xe.delete(e),s&&(n&&e.d(1),s())})),e.o(t)}else s&&s()}function rt(e){return void 0!==e?.length?e:Array.from(e)}function ot(e,t){e.d(1),t.delete(e.key)}function lt(e,t,n){const s=e.$$.props[t];void 0!==s&&(e.$$.bound[s]=n,n(e.$$.ctx[s]))}function at(e){e&&e.c()}function ct(e,t,n){const{fragment:s,after_update:i}=e.$$;s&&s.m(t,n),ze((()=>{const t=e.$$.on_mount.map(Ee).filter($e);e.$$.on_destroy?e.$$.on_destroy.push(...t):Se(t),e.$$.on_mount=[]})),i.forEach(ze)}function ut(e,t){const n=e.$$;null!==n.fragment&&(function(e){const t=[],n=[];Fe.forEach((s=>-1===e.indexOf(s)?t.push(s):n.push(s))),n.forEach((e=>e())),Fe=t}(n.after_update),Se(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function dt(e,t,n,s,i,r,o,l=[-1]){const a=Y;Re(e);const c=e.$$={fragment:null,ctx:[],props:r,update:_e,not_equal:i,bound:we(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:we(),dirty:l,skip_bound:!1,root:t.target||a.$$.root};o&&o(c.root);let u=!1;if(c.ctx=n?n(e,t.props||{},((t,n,...s)=>{const r=s.length?s[0]:n;return c.ctx&&i(c.ctx[t],c.ctx[t]=r)&&(!c.skip_bound&&c.bound[t]&&c.bound[t](r),u&&function(e,t){-1===e.$$.dirty[0]&&(Me.push(e),We(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],c.update(),u=!0,Se(c.before_update),c.fragment=!!s&&s(c.ctx),t.target){if(t.hydrate){K=!0;const e=(d=t.target,Array.from(d.childNodes));c.fragment&&c.fragment.l(e),e.forEach(te)}else c.fragment&&c.fragment.c();t.intro&&st(e.$$.fragment),ct(e,t.target,t.anchor),K=!1,Ye()}var d;Re(a)}function ht(e,t,n,s){const i=n[e]?.type;if(t="Boolean"===i&&"boolean"!=typeof t?null!=t:t,!s||!n[e])return t;if("toAttribute"===s)switch(i){case"Object":case"Array":return null==t?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return null==t?null:t;default:return t}else switch(i){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":default:return t;case"Number":return null!=t?+t:t}}new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),"function"==typeof HTMLElement&&(et=class extends HTMLElement{$$ctor;$$s;$$c;$$cn=!1;$$d={};$$r=!1;$$p_d={};$$l={};$$l_u=new Map;constructor(e,t,n){super(),this.$$ctor=e,this.$$s=t,n&&this.attachShadow({mode:"open"})}addEventListener(e,t,n){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(t),this.$$c){const n=this.$$c.$on(e,t);this.$$l_u.set(t,n)}super.addEventListener(e,t,n)}removeEventListener(e,t,n){if(super.removeEventListener(e,t,n),this.$$c){const e=this.$$l_u.get(t);e&&(e(),this.$$l_u.delete(t))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){if(await Promise.resolve(),!this.$$cn)return;function e(e){return()=>{let t;return{c:function(){t=se("slot"),"default"!==e&&ue(t,"name",e)},m:function(e,n){ee(e,t,n)},d:function(e){e&&te(t)}}}}const t={},n=function(e){const t={};return e.childNodes.forEach((e=>{t[e.slot||"default"]=!0})),t}(this);for(const i of this.$$s)i in n&&(t[i]=[e(i)]);for(const r of this.attributes){const o=this.$$g_p(r.name);o in this.$$d||(this.$$d[o]=ht(o,r.value,this.$$p_d,"toProp"))}this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:t,$$scope:{ctx:[]}}});const s=()=>{this.$$r=!0;for(const e in this.$$p_d)if(this.$$d[e]=this.$$c.$$.ctx[this.$$c.$$.props[e]],this.$$p_d[e].reflect){const t=ht(e,this.$$d[e],this.$$p_d,"toAttribute");null==t?this.removeAttribute(e):this.setAttribute(this.$$p_d[e].attribute||e,t)}this.$$r=!1};this.$$c.$$.after_update.push(s),s();for(const l in this.$$l)for(const a of this.$$l[l]){const c=this.$$c.$on(l,a);this.$$l_u.set(a,c)}this.$$l={}}}attributeChangedCallback(e,t,n){this.$$r||(e=this.$$g_p(e),this.$$d[e]=ht(e,n,this.$$p_d,"toProp"),this.$$c?.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then((()=>{this.$$cn||(this.$$c.$destroy(),this.$$c=void 0)}))}$$g_p(e){return Object.keys(this.$$p_d).find((t=>this.$$p_d[t].attribute===e||!this.$$p_d[t].attribute&&t.toLowerCase()===e))||e}});class pt{$$=void 0;$$set=void 0;$destroy(){ut(this,1),this.$destroy=_e}$on(e,t){if(!$e(t))return _e;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function mt(e,t){return function(){return e.apply(t,arguments)}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");const{toString:ft}=Object.prototype,{getPrototypeOf:gt}=Object,bt=(vt=Object.create(null),e=>{const t=ft.call(e);return vt[t]||(vt[t]=t.slice(8,-1).toLowerCase())});var vt;const yt=e=>(e=e.toLowerCase(),t=>bt(t)===e),_t=e=>t=>typeof t===e,{isArray:Et}=Array,wt=_t("undefined"),St=yt("ArrayBuffer"),$t=_t("string"),xt=_t("function"),kt=_t("number"),Ct=e=>null!==e&&"object"==typeof e,Tt=e=>{if("object"!==bt(e))return!1;const t=gt(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},Lt=yt("Date"),Ot=yt("File"),At=yt("Blob"),jt=yt("FileList"),Rt=yt("URLSearchParams"),[It,qt,Pt,Nt]=["ReadableStream","Request","Response","Headers"].map(yt);function Bt(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let s,i;if("object"!=typeof e&&(e=[e]),Et(e))for(s=0,i=e.length;s<i;s++)t.call(null,e[s],s,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),r=i.length;let o;for(s=0;s<r;s++)o=i[s],t.call(null,e[o],o,e)}}function Mt(e,t){t=t.toLowerCase();const n=Object.keys(e);let s,i=n.length;for(;i-- >0;)if(s=n[i],t===s.toLowerCase())return s;return null}const Dt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,Ft=e=>!wt(e)&&e!==Dt,Ht=(Vt="undefined"!=typeof Uint8Array&&gt(Uint8Array),e=>Vt&&e instanceof Vt);var Vt;const Ut=yt("HTMLFormElement"),Wt=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),zt=yt("RegExp"),Qt=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};Bt(n,((n,i)=>{let r;!1!==(r=t(n,i,e))&&(s[i]=r||n)})),Object.defineProperties(e,s)},Jt="abcdefghijklmnopqrstuvwxyz",Gt="0123456789",Yt={DIGIT:Gt,ALPHA:Jt,ALPHA_DIGIT:Jt+Jt.toUpperCase()+Gt},Kt=yt("AsyncFunction"),Xt=(Zt="function"==typeof setImmediate,en=xt(Dt.postMessage),Zt?setImmediate:en?(tn=`axios@${Math.random()}`,nn=[],Dt.addEventListener("message",(({source:e,data:t})=>{e===Dt&&t===tn&&nn.length&&nn.shift()()}),!1),e=>{nn.push(e),Dt.postMessage(tn,"*")}):e=>setTimeout(e));var Zt,en,tn,nn;const sn="undefined"!=typeof queueMicrotask?queueMicrotask.bind(Dt):"undefined"!=typeof process&&process.nextTick||Xt,rn={isArray:Et,isArrayBuffer:St,isBuffer:function(e){return null!==e&&!wt(e)&&null!==e.constructor&&!wt(e.constructor)&&xt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||xt(e.append)&&("formdata"===(t=bt(e))||"object"===t&&xt(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&St(e.buffer),t},isString:$t,isNumber:kt,isBoolean:e=>!0===e||!1===e,isObject:Ct,isPlainObject:Tt,isReadableStream:It,isRequest:qt,isResponse:Pt,isHeaders:Nt,isUndefined:wt,isDate:Lt,isFile:Ot,isBlob:At,isRegExp:zt,isFunction:xt,isStream:e=>Ct(e)&&xt(e.pipe),isURLSearchParams:Rt,isTypedArray:Ht,isFileList:jt,forEach:Bt,merge:function e(){const{caseless:t}=Ft(this)&&this||{},n={},s=(s,i)=>{const r=t&&Mt(n,i)||i;Tt(n[r])&&Tt(s)?n[r]=e(n[r],s):Tt(s)?n[r]=e({},s):Et(s)?n[r]=s.slice():n[r]=s};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&Bt(arguments[e],s);return n},extend:(e,t,n,{allOwnKeys:s}={})=>(Bt(t,((t,s)=>{n&&xt(t)?e[s]=mt(t,n):e[s]=t}),{allOwnKeys:s}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,s)=>{let i,r,o;const l={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),r=i.length;r-- >0;)o=i[r],s&&!s(o,e,t)||l[o]||(t[o]=e[o],l[o]=!0);e=!1!==n&&gt(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:bt,kindOfTest:yt,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return-1!==s&&s===n},toArray:e=>{if(!e)return null;if(Et(e))return e;let t=e.length;if(!kt(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=n.next())&&!s.done;){const n=s.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const s=[];for(;null!==(n=e.exec(t));)s.push(n);return s},isHTMLForm:Ut,hasOwnProperty:Wt,hasOwnProp:Wt,reduceDescriptors:Qt,freezeMethods:e=>{Qt(e,((t,n)=>{if(xt(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const s=e[n];xt(s)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},s=e=>{e.forEach((e=>{n[e]=!0}))};return Et(e)?s(e):s(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Mt,global:Dt,isContextDefined:Ft,ALPHABET:Yt,generateString:(e=16,t=Yt.ALPHA_DIGIT)=>{let n="";const{length:s}=t;for(;e--;)n+=t[Math.random()*s|0];return n},isSpecCompliantForm:function(e){return!!(e&&xt(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,s)=>{if(Ct(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[s]=e;const i=Et(e)?[]:{};return Bt(e,((e,t)=>{const r=n(e,s+1);!wt(r)&&(i[t]=r)})),t[s]=void 0,i}}return e};return n(e,0)},isAsyncFn:Kt,isThenable:e=>e&&(Ct(e)||xt(e))&&xt(e.then)&&xt(e.catch),setImmediate:Xt,asap:sn};function on(e,t,n,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}rn.inherits(on,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:rn.toJSONObject(this.config),code:this.code,status:this.status}}});const ln=on.prototype,an={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{an[e]={value:e}})),Object.defineProperties(on,an),Object.defineProperty(ln,"isAxiosError",{value:!0}),on.from=(e,t,n,s,i,r)=>{const o=Object.create(ln);return rn.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),on.call(o,e.message,t,n,s,i),o.cause=e,o.name=e.name,r&&Object.assign(o,r),o};const cn=on;function un(e){return rn.isPlainObject(e)||rn.isArray(e)}function dn(e){return rn.endsWith(e,"[]")?e.slice(0,-2):e}function hn(e,t,n){return e?e.concat(t).map((function(e,t){return e=dn(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const pn=rn.toFlatObject(rn,{},null,(function(e){return/^is[A-Z]/.test(e)})),mn=function(e,t,n){if(!rn.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const s=(n=rn.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!rn.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,r=n.dots,o=n.indexes,l=(n.Blob||"undefined"!=typeof Blob&&Blob)&&rn.isSpecCompliantForm(t);if(!rn.isFunction(i))throw new TypeError("visitor must be a function");function a(e){if(null===e)return"";if(rn.isDate(e))return e.toISOString();if(!l&&rn.isBlob(e))throw new cn("Blob is not supported. Use a Buffer instead.");return rn.isArrayBuffer(e)||rn.isTypedArray(e)?l&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let l=e;if(e&&!i&&"object"==typeof e)if(rn.endsWith(n,"{}"))n=s?n:n.slice(0,-2),e=JSON.stringify(e);else if(rn.isArray(e)&&function(e){return rn.isArray(e)&&!e.some(un)}(e)||(rn.isFileList(e)||rn.endsWith(n,"[]"))&&(l=rn.toArray(e)))return n=dn(n),l.forEach((function(e,s){!rn.isUndefined(e)&&null!==e&&t.append(!0===o?hn([n],s,r):null===o?n:n+"[]",a(e))})),!1;return!!un(e)||(t.append(hn(i,n,r),a(e)),!1)}const u=[],d=Object.assign(pn,{defaultVisitor:c,convertValue:a,isVisitable:un});if(!rn.isObject(e))throw new TypeError("data must be an object");return function e(n,s){if(!rn.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+s.join("."));u.push(n),rn.forEach(n,(function(n,r){!0===(!(rn.isUndefined(n)||null===n)&&i.call(t,n,rn.isString(r)?r.trim():r,s,d))&&e(n,s?s.concat(r):[r])})),u.pop()}}(e),t};function fn(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function gn(e,t){this._pairs=[],e&&mn(e,this,t)}const bn=gn.prototype;bn.append=function(e,t){this._pairs.push([e,t])},bn.toString=function(e){const t=e?function(t){return e.call(this,t,fn)}:fn;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const vn=gn;function yn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function _n(e,t,n){if(!t)return e;const s=n&&n.encode||yn;rn.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let r;if(r=i?i(t,n):rn.isURLSearchParams(t)?t.toString():new vn(t,n).toString(s),r){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}const En=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){rn.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},wn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Sn={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:vn,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},$n="undefined"!=typeof window&&"undefined"!=typeof document,xn="object"==typeof navigator&&navigator||void 0,kn=$n&&(!xn||["ReactNative","NativeScript","NS"].indexOf(xn.product)<0),Cn="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Tn=$n&&window.location.href||"http://localhost",Ln={...e,...Sn},On=function(e){function t(e,n,s,i){let r=e[i++];if("__proto__"===r)return!0;const o=Number.isFinite(+r),l=i>=e.length;return r=!r&&rn.isArray(s)?s.length:r,l?(rn.hasOwnProp(s,r)?s[r]=[s[r],n]:s[r]=n,!o):(s[r]&&rn.isObject(s[r])||(s[r]=[]),t(e,n,s[r],i)&&rn.isArray(s[r])&&(s[r]=function(e){const t={},n=Object.keys(e);let s;const i=n.length;let r;for(s=0;s<i;s++)r=n[s],t[r]=e[r];return t}(s[r])),!o)}if(rn.isFormData(e)&&rn.isFunction(e.entries)){const n={};return rn.forEachEntry(e,((e,s)=>{t(function(e){return rn.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),s,n,0)})),n}return null},An={transitional:wn,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",s=n.indexOf("application/json")>-1,i=rn.isObject(e);if(i&&rn.isHTMLForm(e)&&(e=new FormData(e)),rn.isFormData(e))return s?JSON.stringify(On(e)):e;if(rn.isArrayBuffer(e)||rn.isBuffer(e)||rn.isStream(e)||rn.isFile(e)||rn.isBlob(e)||rn.isReadableStream(e))return e;if(rn.isArrayBufferView(e))return e.buffer;if(rn.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let r;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return mn(e,new Ln.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,s){return Ln.isNode&&rn.isBuffer(e)?(this.append(t,e.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((r=rn.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return mn(r?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||s?(t.setContentType("application/json",!1),function(e,t,n){if(rn.isString(e))try{return(0,JSON.parse)(e),rn.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||An.transitional,n=t&&t.forcedJSONParsing,s="json"===this.responseType;if(rn.isResponse(e)||rn.isReadableStream(e))return e;if(e&&rn.isString(e)&&(n&&!this.responseType||s)){const n=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw cn.from(e,cn.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ln.classes.FormData,Blob:Ln.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};rn.forEach(["delete","get","head","post","put","patch"],(e=>{An.headers[e]={}}));const jn=An,Rn=rn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),In=Symbol("internals");function qn(e){return e&&String(e).trim().toLowerCase()}function Pn(e){return!1===e||null==e?e:rn.isArray(e)?e.map(Pn):String(e)}function Nn(e,t,n,s,i){return rn.isFunction(s)?s.call(this,t,n):(i&&(t=n),rn.isString(t)?rn.isString(s)?-1!==t.indexOf(s):rn.isRegExp(s)?s.test(t):void 0:void 0)}class Bn{constructor(e){e&&this.set(e)}set(e,t,n){const s=this;function i(e,t,n){const i=qn(t);if(!i)throw new Error("header name must be a non-empty string");const r=rn.findKey(s,i);(!r||void 0===s[r]||!0===n||void 0===n&&!1!==s[r])&&(s[r||t]=Pn(e))}const r=(e,t)=>rn.forEach(e,((e,n)=>i(e,n,t)));if(rn.isPlainObject(e)||e instanceof this.constructor)r(e,t);else if(rn.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))r((e=>{const t={};let n,s,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),s=e.substring(i+1).trim(),!n||t[n]&&Rn[n]||("set-cookie"===n?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)})),t})(e),t);else if(rn.isHeaders(e))for(const[t,s]of e.entries())i(s,t,n);else null!=e&&i(t,e,n);return this}get(e,t){if(e=qn(e)){const n=rn.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}(e);if(rn.isFunction(t))return t.call(this,e,n);if(rn.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=qn(e)){const n=rn.findKey(this,e);return!(!n||void 0===this[n]||t&&!Nn(0,this[n],n,t))}return!1}delete(e,t){const n=this;let s=!1;function i(e){if(e=qn(e)){const i=rn.findKey(n,e);!i||t&&!Nn(0,n[i],i,t)||(delete n[i],s=!0)}}return rn.isArray(e)?e.forEach(i):i(e),s}clear(e){const t=Object.keys(this);let n=t.length,s=!1;for(;n--;){const i=t[n];e&&!Nn(0,this[i],i,e,!0)||(delete this[i],s=!0)}return s}normalize(e){const t=this,n={};return rn.forEach(this,((s,i)=>{const r=rn.findKey(n,i);if(r)return t[r]=Pn(s),void delete t[i];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();o!==i&&delete t[i],t[o]=Pn(s),n[o]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return rn.forEach(this,((n,s)=>{null!=n&&!1!==n&&(t[s]=e&&rn.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[In]=this[In]={accessors:{}}).accessors,n=this.prototype;function s(e){const s=qn(e);t[s]||(function(e,t){const n=rn.toCamelCase(" "+t);["get","set","has"].forEach((s=>{Object.defineProperty(e,s+n,{value:function(e,n,i){return this[s].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[s]=!0)}return rn.isArray(e)?e.forEach(s):s(e),this}}Bn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),rn.reduceDescriptors(Bn.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),rn.freezeMethods(Bn);const Mn=Bn;function Dn(e,t){const n=this||jn,s=t||n,i=Mn.from(s.headers);let r=s.data;return rn.forEach(e,(function(e){r=e.call(n,r,i.normalize(),t?t.status:void 0)})),i.normalize(),r}function Fn(e){return!(!e||!e.__CANCEL__)}function Hn(e,t,n){cn.call(this,null==e?"canceled":e,cn.ERR_CANCELED,t,n),this.name="CanceledError"}rn.inherits(Hn,cn,{__CANCEL__:!0});const Vn=Hn;function Un(e,t,n){const s=n.config.validateStatus;n.status&&s&&!s(n.status)?t(new cn("Request failed with status code "+n.status,[cn.ERR_BAD_REQUEST,cn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Wn=(e,t,n=3)=>{let s=0;const i=function(e,t){e=e||10;const n=new Array(e),s=new Array(e);let i,r=0,o=0;return t=void 0!==t?t:1e3,function(l){const a=Date.now(),c=s[o];i||(i=a),n[r]=l,s[r]=a;let u=o,d=0;for(;u!==r;)d+=n[u++],u%=e;if(r=(r+1)%e,r===o&&(o=(o+1)%e),a-i<t)return;const h=c&&a-c;return h?Math.round(1e3*d/h):void 0}}(50,250);return function(e,t){let n,s,i=0,r=1e3/t;const o=(t,r=Date.now())=>{i=r,n=null,s&&(clearTimeout(s),s=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),l=t-i;l>=r?o(e,t):(n=e,s||(s=setTimeout((()=>{s=null,o(n)}),r-l)))},()=>n&&o(n)]}((n=>{const r=n.loaded,o=n.lengthComputable?n.total:void 0,l=r-s,a=i(l);s=r,e({loaded:r,total:o,progress:o?r/o:void 0,bytes:l,rate:a||void 0,estimated:a&&o&&r<=o?(o-r)/a:void 0,event:n,lengthComputable:null!=o,[t?"download":"upload"]:!0})}),n)},zn=(e,t)=>{const n=null!=e;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},Qn=e=>(...t)=>rn.asap((()=>e(...t))),Jn=Ln.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ln.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ln.origin),Ln.navigator&&/(msie|trident)/i.test(Ln.navigator.userAgent)):()=>!0,Gn=Ln.hasStandardBrowserEnv?{write(e,t,n,s,i,r){const o=[e+"="+encodeURIComponent(t)];rn.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),rn.isString(s)&&o.push("path="+s),rn.isString(i)&&o.push("domain="+i),!0===r&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Yn(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Kn=e=>e instanceof Mn?{...e}:e;function Xn(e,t){t=t||{};const n={};function s(e,t,n,s){return rn.isPlainObject(e)&&rn.isPlainObject(t)?rn.merge.call({caseless:s},e,t):rn.isPlainObject(t)?rn.merge({},t):rn.isArray(t)?t.slice():t}function i(e,t,n,i){return rn.isUndefined(t)?rn.isUndefined(e)?void 0:s(void 0,e,0,i):s(e,t,0,i)}function r(e,t){if(!rn.isUndefined(t))return s(void 0,t)}function o(e,t){return rn.isUndefined(t)?rn.isUndefined(e)?void 0:s(void 0,e):s(void 0,t)}function l(n,i,r){return r in t?s(n,i):r in e?s(void 0,n):void 0}const a={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(e,t,n)=>i(Kn(e),Kn(t),0,!0)};return rn.forEach(Object.keys(Object.assign({},e,t)),(function(s){const r=a[s]||i,o=r(e[s],t[s],s);rn.isUndefined(o)&&r!==l||(n[s]=o)})),n}const Zn=e=>{const t=Xn({},e);let n,{data:s,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:o,headers:l,auth:a}=t;if(t.headers=l=Mn.from(l),t.url=_n(Yn(t.baseURL,t.url),e.params,e.paramsSerializer),a&&l.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),rn.isFormData(s))if(Ln.hasStandardBrowserEnv||Ln.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(!1!==(n=l.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];l.setContentType([e||"multipart/form-data",...t].join("; "))}if(Ln.hasStandardBrowserEnv&&(i&&rn.isFunction(i)&&(i=i(t)),i||!1!==i&&Jn(t.url))){const e=r&&o&&Gn.read(o);e&&l.set(r,e)}return t},es="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const s=Zn(e);let i=s.data;const r=Mn.from(s.headers).normalize();let o,l,a,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:p}=s;function m(){c&&c(),u&&u(),s.cancelToken&&s.cancelToken.unsubscribe(o),s.signal&&s.signal.removeEventListener("abort",o)}let f=new XMLHttpRequest;function g(){if(!f)return;const s=Mn.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());Un((function(e){t(e),m()}),(function(e){n(e),m()}),{data:d&&"text"!==d&&"json"!==d?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:s,config:e,request:f}),f=null}f.open(s.method.toUpperCase(),s.url,!0),f.timeout=s.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(n(new cn("Request aborted",cn.ECONNABORTED,e,f)),f=null)},f.onerror=function(){n(new cn("Network Error",cn.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let t=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const i=s.transitional||wn;s.timeoutErrorMessage&&(t=s.timeoutErrorMessage),n(new cn(t,i.clarifyTimeoutError?cn.ETIMEDOUT:cn.ECONNABORTED,e,f)),f=null},void 0===i&&r.setContentType(null),"setRequestHeader"in f&&rn.forEach(r.toJSON(),(function(e,t){f.setRequestHeader(t,e)})),rn.isUndefined(s.withCredentials)||(f.withCredentials=!!s.withCredentials),d&&"json"!==d&&(f.responseType=s.responseType),p&&([a,u]=Wn(p,!0),f.addEventListener("progress",a)),h&&f.upload&&([l,c]=Wn(h),f.upload.addEventListener("progress",l),f.upload.addEventListener("loadend",c)),(s.cancelToken||s.signal)&&(o=t=>{f&&(n(!t||t.type?new Vn(null,e,f):t),f.abort(),f=null)},s.cancelToken&&s.cancelToken.subscribe(o),s.signal&&(s.signal.aborted?o():s.signal.addEventListener("abort",o)));const b=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(s.url);b&&-1===Ln.protocols.indexOf(b)?n(new cn("Unsupported protocol "+b+":",cn.ERR_BAD_REQUEST,e)):f.send(i||null)}))},ts=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,s=new AbortController;const i=function(e){if(!n){n=!0,o();const t=e instanceof Error?e:this.reason;s.abort(t instanceof cn?t:new Vn(t instanceof Error?t.message:t))}};let r=t&&setTimeout((()=>{r=null,i(new cn(`timeout ${t} of ms exceeded`,cn.ETIMEDOUT))}),t);const o=()=>{e&&(r&&clearTimeout(r),r=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)})),e=null)};e.forEach((e=>e.addEventListener("abort",i)));const{signal:l}=s;return l.unsubscribe=()=>rn.asap(o),l}},ns=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let s,i=0;for(;i<n;)s=i+t,yield e.slice(i,s),i=s},ss=(e,t,n,s)=>{const i=async function*(e,t){for await(const n of async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}}(e))yield*ns(n,t)}(e,t);let r,o=0,l=e=>{r||(r=!0,s&&s(e))};return new ReadableStream({async pull(e){try{const{done:t,value:s}=await i.next();if(t)return l(),void e.close();let r=s.byteLength;if(n){let e=o+=r;n(e)}e.enqueue(new Uint8Array(s))}catch(e){throw l(e),e}},cancel:e=>(l(e),i.return())},{highWaterMark:2})},is="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,rs=is&&"function"==typeof ReadableStream,os=is&&("function"==typeof TextEncoder?(ls=new TextEncoder,e=>ls.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var ls;const as=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},cs=rs&&as((()=>{let e=!1;const t=new Request(Ln.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),us=rs&&as((()=>rn.isReadableStream(new Response("").body))),ds={stream:us&&(e=>e.body)};var hs;is&&(hs=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!ds[e]&&(ds[e]=rn.isFunction(hs[e])?t=>t[e]():(t,n)=>{throw new cn(`Response type '${e}' is not supported`,cn.ERR_NOT_SUPPORT,n)})})));const ps={http:null,xhr:es,fetch:is&&(async e=>{let{url:t,method:n,data:s,signal:i,cancelToken:r,timeout:o,onDownloadProgress:l,onUploadProgress:a,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=Zn(e);c=c?(c+"").toLowerCase():"text";let p,m=ts([i,r&&r.toAbortSignal()],o);const f=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let g;try{if(a&&cs&&"get"!==n&&"head"!==n&&0!==(g=await(async(e,t)=>{const n=rn.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(rn.isBlob(e))return e.size;if(rn.isSpecCompliantForm(e)){const t=new Request(Ln.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return rn.isArrayBufferView(e)||rn.isArrayBuffer(e)?e.byteLength:(rn.isURLSearchParams(e)&&(e+=""),rn.isString(e)?(await os(e)).byteLength:void 0)})(t):n})(u,s))){let e,n=new Request(t,{method:"POST",body:s,duplex:"half"});if(rn.isFormData(s)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=zn(g,Wn(Qn(a)));s=ss(n.body,65536,e,t)}}rn.isString(d)||(d=d?"include":"omit");const i="credentials"in Request.prototype;p=new Request(t,{...h,signal:m,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:s,duplex:"half",credentials:i?d:void 0});let r=await fetch(p);const o=us&&("stream"===c||"response"===c);if(us&&(l||o&&f)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=r[t]}));const t=rn.toFiniteNumber(r.headers.get("content-length")),[n,s]=l&&zn(t,Wn(Qn(l),!0))||[];r=new Response(ss(r.body,65536,n,(()=>{s&&s(),f&&f()})),e)}c=c||"text";let b=await ds[rn.findKey(ds,c)||"text"](r,e);return!o&&f&&f(),await new Promise(((t,n)=>{Un(t,n,{data:b,headers:Mn.from(r.headers),status:r.status,statusText:r.statusText,config:e,request:p})}))}catch(t){if(f&&f(),t&&"TypeError"===t.name&&/fetch/i.test(t.message))throw Object.assign(new cn("Network Error",cn.ERR_NETWORK,e,p),{cause:t.cause||t});throw cn.from(t,t&&t.code,e,p)}})};rn.forEach(ps,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const ms=e=>`- ${e}`,fs=e=>rn.isFunction(e)||null===e||!1===e,gs=e=>{e=rn.isArray(e)?e:[e];const{length:t}=e;let n,s;const i={};for(let r=0;r<t;r++){let t;if(n=e[r],s=n,!fs(n)&&(s=ps[(t=String(n)).toLowerCase()],void 0===s))throw new cn(`Unknown adapter '${t}'`);if(s)break;i[t||"#"+r]=s}if(!s){const e=Object.entries(i).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));let n=t?e.length>1?"since :\n"+e.map(ms).join("\n"):" "+ms(e[0]):"as no adapter specified";throw new cn("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return s};function bs(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Vn(null,e)}function vs(e){return bs(e),e.headers=Mn.from(e.headers),e.data=Dn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),gs(e.adapter||jn.adapter)(e).then((function(t){return bs(e),t.data=Dn.call(e,e.transformResponse,t),t.headers=Mn.from(t.headers),t}),(function(t){return Fn(t)||(bs(e),t&&t.response&&(t.response.data=Dn.call(e,e.transformResponse,t.response),t.response.headers=Mn.from(t.response.headers))),Promise.reject(t)}))}const ys={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{ys[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const _s={};ys.transitional=function(e,t,n){function s(e,t){return"[Axios v1.7.9] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,r)=>{if(!1===e)throw new cn(s(i," has been removed"+(t?" in "+t:"")),cn.ERR_DEPRECATED);return t&&!_s[i]&&(_s[i]=!0,console.warn(s(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,r)}},ys.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const Es={assertOptions:function(e,t,n){if("object"!=typeof e)throw new cn("options must be an object",cn.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let i=s.length;for(;i-- >0;){const r=s[i],o=t[r];if(o){const t=e[r],n=void 0===t||o(t,r,e);if(!0!==n)throw new cn("option "+r+" must be "+n,cn.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new cn("Unknown option "+r,cn.ERR_BAD_OPTION)}},validators:ys},ws=Es.validators;class Ss{constructor(e){this.defaults=e,this.interceptors={request:new En,response:new En}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const n=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?n&&!String(e.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+n):e.stack=n}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Xn(this.defaults,t);const{transitional:n,paramsSerializer:s,headers:i}=t;void 0!==n&&Es.assertOptions(n,{silentJSONParsing:ws.transitional(ws.boolean),forcedJSONParsing:ws.transitional(ws.boolean),clarifyTimeoutError:ws.transitional(ws.boolean)},!1),null!=s&&(rn.isFunction(s)?t.paramsSerializer={serialize:s}:Es.assertOptions(s,{encode:ws.function,serialize:ws.function},!0)),Es.assertOptions(t,{baseUrl:ws.spelling("baseURL"),withXsrfToken:ws.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let r=i&&rn.merge(i.common,i[t.method]);i&&rn.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=Mn.concat(r,i);const o=[];let l=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(l=l&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const a=[];let c;this.interceptors.response.forEach((function(e){a.push(e.fulfilled,e.rejected)}));let u,d=0;if(!l){const e=[vs.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,a),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=o.length;let h=t;for(d=0;d<u;){const e=o[d++],t=o[d++];try{h=e(h)}catch(e){t.call(this,e);break}}try{c=vs.call(this,h)}catch(e){return Promise.reject(e)}for(d=0,u=a.length;d<u;)c=c.then(a[d++],a[d++]);return c}getUri(e){return _n(Yn((e=Xn(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}rn.forEach(["delete","get","head","options"],(function(e){Ss.prototype[e]=function(t,n){return this.request(Xn(n||{},{method:e,url:t,data:(n||{}).data}))}})),rn.forEach(["post","put","patch"],(function(e){function t(t){return function(n,s,i){return this.request(Xn(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:s}))}}Ss.prototype[e]=t(),Ss.prototype[e+"Form"]=t(!0)}));const $s=Ss;class xs{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const s=new Promise((e=>{n.subscribe(e),t=e})).then(e);return s.cancel=function(){n.unsubscribe(t)},s},e((function(e,s,i){n.reason||(n.reason=new Vn(e,s,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new xs((function(t){e=t})),cancel:e}}}const ks=xs,Cs={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Cs).forEach((([e,t])=>{Cs[t]=e}));const Ts=Cs,Ls=function e(t){const n=new $s(t),s=mt($s.prototype.request,n);return rn.extend(s,$s.prototype,n,{allOwnKeys:!0}),rn.extend(s,n,null,{allOwnKeys:!0}),s.create=function(n){return e(Xn(t,n))},s}(jn);Ls.Axios=$s,Ls.CanceledError=Vn,Ls.CancelToken=ks,Ls.isCancel=Fn,Ls.VERSION="1.7.9",Ls.toFormData=mn,Ls.AxiosError=cn,Ls.Cancel=Ls.CanceledError,Ls.all=function(e){return Promise.all(e)},Ls.spread=function(e){return function(t){return e.apply(null,t)}},Ls.isAxiosError=function(e){return rn.isObject(e)&&!0===e.isAxiosError},Ls.mergeConfig=Xn,Ls.AxiosHeaders=Mn,Ls.formToJSON=e=>On(rn.isHTMLForm(e)?new FormData(e):e),Ls.getAdapter=gs,Ls.HttpStatusCode=Ts,Ls.default=Ls;const Os=Ls;function As(e,t,n){const s=e.slice();return s[16]=t[n],s}function js(e){let t,n,s=rt(e[2]),i=[];for(let t=0;t<s.length;t+=1)i[t]=Rs(As(e,s,t));return{c(){t=se("div"),n=se("ul");for(let e=0;e<i.length;e+=1)i[e].c();ue(n,"class","acp-post-list__list"),ue(t,"class","acp-post-list")},m(e,s){ee(e,t,s),X(t,n);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(n,null)},p(e,t){if(20&t){let r;for(s=rt(e[2]),r=0;r<s.length;r+=1){const o=As(e,s,r);i[r]?i[r].p(o,t):(i[r]=Rs(o),i[r].c(),i[r].m(n,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=s.length}},d(e){e&&te(t),ne(i,e)}}}function Rs(e){let t,n,s,i,r,o,l,a,c=e[16].title+"",u=e[16].post_type+"";function d(){return e[10](e[16])}return{c(){t=se("li"),n=se("span"),s=ie(c),i=re(),r=se("span"),o=ie(u),ue(n,"class","acp-post-list__item__title"),ue(r,"class","acp-post-list__item__type"),ue(t,"class","acp-post-list__item"),ue(t,"role","none")},m(e,c){ee(e,t,c),X(t,n),X(n,s),X(t,i),X(t,r),X(r,o),l||(a=le(t,"click",d),l=!0)},p(t,n){e=t,4&n&&c!==(c=e[16].title+"")&&pe(s,c),4&n&&u!==(u=e[16].post_type+"")&&pe(o,u)},d(e){e&&te(t),l=!1,a()}}}function Is(e){let t,n,s,i,r,o,l=e[2].length>0&&js(e);return{c(){t=se("div"),n=se("input"),i=re(),l&&l.c(),ue(n,"type","url"),ue(n,"placeholder",e[1]),ue(t,"class","")},m(a,c){ee(a,t,c),X(t,n),me(n,e[0]),e[9](n),X(t,i),l&&l.m(t,null),r||(o=[le(n,"input",e[8]),le(n,"keyup",e[5]),je(s=e[6].call(null,n))],r=!0)},p(e,[s]){2&s&&ue(n,"placeholder",e[1]),1&s&&n.value!==e[0]&&me(n,e[0]),e[2].length>0?l?l.p(e,s):(l=js(e),l.c(),l.m(t,null)):l&&(l.d(1),l=null)},i:_e,o:_e,d(n){n&&te(t),e[9](null),l&&l.d(),r=!1,Se(o)}}}function qs(e,t,n){let s,{value:i}=t,{placeholder:r}=t,{onChange:o}=t,l=[],a=Os.CancelToken,c=a.source();const u=()=>{o&&o(i)},d=e=>{n(0,i=e),s.focus(),u(),setTimeout((()=>{n(2,l=[])}))};return e.$$set=e=>{"value"in e&&n(0,i=e.value),"placeholder"in e&&n(1,r=e.placeholder),"onChange"in e&&n(7,o=e.onChange)},[i,r,l,s,d,e=>{var t;-1===["Enter"].indexOf(e.key)&&(u(),c.cancel(),(e=>null!==e.match(/http:|https:|ftp:|mailto:/))(i)?n(2,l=[]):(t=i,a=Os.CancelToken,c=a.source(),Os.get(ajaxurl,{cancelToken:c.token,params:{search:t,action:"acp-permalinks"}})).then((e=>{n(2,l=e.data.data)})).catch((()=>{})))},e=>{setTimeout((()=>{e.focus()}),200)},o,function(){i=this.value,n(0,i)},function(e){De[e?"unshift":"push"]((()=>{s=e,n(3,s)}))},e=>{d(e.permalink)}]}const Ps=class extends pt{constructor(e){super(),dt(this,e,qs,Is,xe,{value:0,placeholder:1,onChange:7})}};class Ns extends h{constructor(e){super(e),this.dynamicValue=""}getEditableType(){return"internal_link"}valueToInput(e){this.dynamicValue=e;let t=this.getElement().querySelector("[data-component]");new Ps({target:t,props:{placeholder:this.settings.placeholder,value:e,onChange:e=>{this.dynamicValue=e}}})}getValue(){return this.dynamicValue}getTemplate(){return"\n            <div data-component></div>\n        "}}function Bs(e){Z(e,"svelte-jtnoqy","button.button.svelte-jtnoqy.svelte-jtnoqy{white-space:nowrap;width:120px}button.svelte-jtnoqy .dashicons.svelte-jtnoqy{transform:translateY(3px)}input.svelte-jtnoqy.svelte-jtnoqy{width:300px !important;border-radius:3px}.acp-password-strength.svelte-jtnoqy.svelte-jtnoqy{margin-top:5px;padding:6px 0;width:298px;text-align:center;font-weight:bold;margin-bottom:10px;background:var(--ac-color-error-alt);border:1px solid var(--ac-color-error)}.acp-password-strength.-good.svelte-jtnoqy.svelte-jtnoqy{background:#f5e6ab;border-color:#f0c33c}.acp-password-strength.-strong.svelte-jtnoqy.svelte-jtnoqy{background:#b8e6bf;border-color:#68de7c}button.svelte-jtnoqy .dashicons-image-rotate.svelte-jtnoqy{font-size:16px;transform:translateY(5px)}")}function Ms(e){let t,n,s,i=e[6].show+"";return{c(){t=se("span"),n=re(),s=ie(i),ue(t,"class","dashicons dashicons-visibility svelte-jtnoqy")},m(e,i){ee(e,t,i),ee(e,n,i),ee(e,s,i)},p:_e,d(e){e&&(te(t),te(n),te(s))}}}function Ds(e){let t,n,s,i=e[6].hide+"";return{c(){t=se("span"),n=re(),s=ie(i),ue(t,"class","dashicons dashicons-hidden svelte-jtnoqy")},m(e,i){ee(e,t,i),ee(e,n,i),ee(e,s,i)},p:_e,d(e){e&&(te(t),te(n),te(s))}}}function Fs(e){let t,n,s,i,r,o,l,a,c,u,d,h,p,m,f,g,b=e[6].generate+"";function v(e,t){return e[0]?Ds:Ms}let y=v(e),_=y(e);return{c(){t=se("div"),n=se("input"),i=re(),r=se("button"),_.c(),o=re(),l=se("div"),a=ie(e[3]),u=re(),d=se("button"),h=se("span"),p=re(),m=ie(b),n.value=e[1],ue(n,"type",e[5]),ue(n,"placeholder",e[2]),n.required=!0,ue(n,"class","svelte-jtnoqy"),ue(r,"type","button"),ue(r,"class","button svelte-jtnoqy"),fe(t,"display","flex"),ue(l,"class",c="acp-password-strength "+e[4]+" svelte-jtnoqy"),ue(h,"class","dashicons dashicons-image-rotate svelte-jtnoqy"),ue(d,"type","button"),ue(d,"class","button svelte-jtnoqy")},m(c,b){ee(c,t,b),X(t,n),X(t,i),X(t,r),_.m(r,null),ee(c,o,b),ee(c,l,b),X(l,a),ee(c,u,b),ee(c,d,b),X(d,h),X(d,p),X(d,m),f||(g=[le(n,"keyup",ce(e[8])),je(s=e[10].call(null,n)),le(r,"click",ce(ae(e[7]))),le(d,"click",ce(ae(e[9])))],f=!0)},p(e,[t]){2&t&&n.value!==e[1]&&(n.value=e[1]),32&t&&ue(n,"type",e[5]),4&t&&ue(n,"placeholder",e[2]),y===(y=v(e))&&_?_.p(e,t):(_.d(1),_=y(e),_&&(_.c(),_.m(r,null))),8&t&&pe(a,e[3]),16&t&&c!==(c="acp-password-strength "+e[4]+" svelte-jtnoqy")&&ue(l,"class",c)},i:_e,o:_e,d(e){e&&(te(t),te(o),te(l),te(u),te(d)),_.d(),f=!1,Se(g)}}}function Hs(e,t,n){let s,{value:i}=t,{onChange:r}=t,{show:o=!0}=t,{placeholder:l}=t;const a=S();let c=0,u="",d="";const h=()=>{switch(c=wp.passwordStrength.meter(i,{},i),c){case 2:n(3,u=pwsL10n.bad),n(4,d="-bad");break;case 3:n(3,u=pwsL10n.good),n(4,d="-good");break;case 4:n(3,u=pwsL10n.strong),n(4,d="-strong");break;case 5:n(3,u=pwsL10n.mismatch);break;default:n(3,u=pwsL10n.short),n(4,d="-short")}};return qe((()=>{"string"!=typeof i&&n(1,i=""),h()})),e.$$set=e=>{"value"in e&&n(1,i=e.value),"onChange"in e&&n(11,r=e.onChange),"show"in e&&n(0,o=e.show),"placeholder"in e&&n(2,l=e.placeholder)},e.$$.update=()=>{1&e.$$.dirty&&n(5,s=o?"text":"password")},[o,i,l,u,d,s,a,e=>{n(0,o=!o)},e=>{n(1,i=e.target.value),["Enter"].indexOf(e.key),h(),r&&r(i)},()=>{const e=new FormData;e.set("action","generate-password"),Os.post(ajaxurl,e).then((e=>{e.data.success&&(n(1,i=e.data.data),h())}))},e=>{setTimeout((()=>{e.focus()}),200)},r]}const Vs=class extends pt{constructor(e){super(),dt(this,e,Hs,Fs,xe,{value:1,onChange:11,show:0,placeholder:2},Bs)}};class Us extends h{constructor(e){super(e),this.dynamicValue=""}getEditableType(){return"wp_password"}valueToInput(e){this.dynamicValue=e;let t=this.getElement().querySelector("[data-component]");new Vs({target:t,props:{value:e,placeholder:this.settings.placeholder,onChange:e=>{this.dynamicValue=e}}})}getValue(){return this.dynamicValue}getTemplate(){return"\n            <div data-component></div>\n        "}}function Ws(e){let t,n,s,i,r,o;return{c(){t=se("input"),ue(t,"id",n=`editable-input-${e[1].name}`),ue(t,"type","text"),ue(t,"placeholder",s=e[1].placeholder??""),t.required=i=e[1].required??!1},m(n,s){ee(n,t,s),me(t,e[0]),r||(o=[le(t,"input",e[3]),le(t,"input",e[2])],r=!0)},p(e,[r]){2&r&&n!==(n=`editable-input-${e[1].name}`)&&ue(t,"id",n),2&r&&s!==(s=e[1].placeholder??"")&&ue(t,"placeholder",s),2&r&&i!==(i=e[1].required??!1)&&(t.required=i),1&r&&t.value!==e[0]&&me(t,e[0])},i:_e,o:_e,d(e){e&&te(t),r=!1,Se(o)}}}function zs(e,t,n){let{field:s}=t,{value:i}=t;const r=Ne();return e.$$set=e=>{"field"in e&&n(1,s=e.field),"value"in e&&n(0,i=e.value)},[i,s,()=>{r("change",i)},function(){i=this.value,n(0,i)}]}const Qs=class extends pt{constructor(e){super(),dt(this,e,zs,Ws,xe,{field:1,value:0})}};function Js(e){let t,n,s,i,r,o,l,a;return{c(){t=se("input"),ue(t,"id",n=`editable-input-${e[1].name}`),ue(t,"type","number"),ue(t,"min",s=e[1].min),ue(t,"max",i=e[1].max),ue(t,"placeholder",r=e[1].placeholder??""),t.required=o=e[1].required??!1},m(n,s){ee(n,t,s),me(t,e[0]),l||(a=[le(t,"input",e[3]),le(t,"input",e[2])],l=!0)},p(e,[l]){2&l&&n!==(n=`editable-input-${e[1].name}`)&&ue(t,"id",n),2&l&&s!==(s=e[1].min)&&ue(t,"min",s),2&l&&i!==(i=e[1].max)&&ue(t,"max",i),2&l&&r!==(r=e[1].placeholder??"")&&ue(t,"placeholder",r),2&l&&o!==(o=e[1].required??!1)&&(t.required=o),1&l&&he(t.value)!==e[0]&&me(t,e[0])},i:_e,o:_e,d(e){e&&te(t),l=!1,Se(a)}}}function Gs(e,t,n){let{field:s}=t,{value:i}=t;const r=Ne();return e.$$set=e=>{"field"in e&&n(1,s=e.field),"value"in e&&n(0,i=e.value)},[i,s,()=>{r("change",i)},function(){i=he(this.value),n(0,i)}]}const Ys=class extends pt{constructor(e){super(),dt(this,e,Gs,Js,xe,{field:1,value:0})}};function Ks(e,t,n){const s=e.slice();return s[5]=t[n],s}function Xs(e){let t,n,s,i=e[5].label+"";return{c(){t=se("option"),n=ie(i),t.__value=s=e[5].value,me(t,t.__value)},m(e,s){ee(e,t,s),X(t,n)},p(e,r){2&r&&i!==(i=e[5].label+"")&&pe(n,i),2&r&&s!==(s=e[5].value)&&(t.__value=s,me(t,t.__value))},d(e){e&&te(t)}}}function Zs(e){let t,n,s,i,r=rt(e[1].options),o=[];for(let t=0;t<r.length;t+=1)o[t]=Xs(Ks(e,r,t));return{c(){t=se("select");for(let e=0;e<o.length;e+=1)o[e].c();t.required=n=e[1].required??!1,void 0===e[0]&&ze((()=>e[3].call(t)))},m(n,r){ee(n,t,r);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null);ge(t,e[0],!0),s||(i=[le(t,"change",e[3]),le(t,"input",e[2])],s=!0)},p(e,[s]){if(2&s){let n;for(r=rt(e[1].options),n=0;n<r.length;n+=1){const i=Ks(e,r,n);o[n]?o[n].p(i,s):(o[n]=Xs(i),o[n].c(),o[n].m(t,null))}for(;n<o.length;n+=1)o[n].d(1);o.length=r.length}2&s&&n!==(n=e[1].required??!1)&&(t.required=n),3&s&&ge(t,e[0])},i:_e,o:_e,d(e){e&&te(t),ne(o,e),s=!1,Se(i)}}}function ei(e,t,n){let{field:s}=t,{value:i}=t;const r=Ne();return e.$$set=e=>{"field"in e&&n(1,s=e.field),"value"in e&&n(0,i=e.value)},[i,s,()=>{r("change",i)},function(){i=function(e){const t=e.querySelector(":checked");return t&&t.__value}(this),n(0,i),n(1,s)}]}const ti=class extends pt{constructor(e){super(),dt(this,e,ei,Zs,xe,{field:1,value:0})}};function ni(e){let t,n,s,i,r,o,l;return{c(){t=se("textarea"),ue(t,"class","acu-w-full"),ue(t,"rows",n=e[1].rows??3),ue(t,"id",s=`editable-input-${e[1].name}`),ue(t,"placeholder",i=e[1].placeholder??""),t.required=r=e[1].required??!1},m(n,s){ee(n,t,s),me(t,e[0]),o||(l=[le(t,"input",e[3]),le(t,"input",e[2])],o=!0)},p(e,[o]){2&o&&n!==(n=e[1].rows??3)&&ue(t,"rows",n),2&o&&s!==(s=`editable-input-${e[1].name}`)&&ue(t,"id",s),2&o&&i!==(i=e[1].placeholder??"")&&ue(t,"placeholder",i),2&o&&r!==(r=e[1].required??!1)&&(t.required=r),1&o&&me(t,e[0])},i:_e,o:_e,d(e){e&&te(t),o=!1,Se(l)}}}function si(e,t,n){let{field:s}=t,{value:i}=t;const r=Ne();return e.$$set=e=>{"field"in e&&n(1,s=e.field),"value"in e&&n(0,i=e.value)},[i,s,()=>{r("change",i)},function(){i=this.value,n(0,i)}]}const ii=class extends pt{constructor(e){super(),dt(this,e,si,ni,xe,{field:1,value:0})}};function ri(e){let t,n,s,i,r,o,l,a=e[1].toggle_label+"";return{c(){t=se("label"),n=se("input"),i=re(),r=ie(a),ue(n,"type","checkbox"),n.checked=s=e[0]===e[1].options[1].value},m(s,a){ee(s,t,a),X(t,n),X(t,i),X(t,r),o||(l=le(n,"change",e[2]),o=!0)},p(e,[t]){3&t&&s!==(s=e[0]===e[1].options[1].value)&&(n.checked=s),2&t&&a!==(a=e[1].toggle_label+"")&&pe(r,a)},i:_e,o:_e,d(e){e&&te(t),o=!1,l()}}}function oi(e,t,n){let{field:s}=t,{value:i}=t;const r=Ne();return e.$$set=e=>{"field"in e&&n(1,s=e.field),"value"in e&&n(0,i=e.value)},[i,s,e=>{let t=e.target.checked;n(0,i=t?s.options[1].value:s.options[0].value),r("change",i)}]}const li=class extends pt{constructor(e){super(),dt(this,e,oi,ri,xe,{field:1,value:0})}};function ai(e,t,n){const s=e.slice();return s[7]=t[n],s[8]=t,s[9]=n,s}function ci(e){let t,n,s,i,r,o,l,a,c,u,d=e[7].label+"";function h(t){e[6](t,e[7])}var p=e[4](e[7]);function m(e,t){let n={field:e[7]};return void 0!==e[0][e[7].name]&&(n.value=e[0][e[7].name]),{props:n}}return p&&(o=ye(p,m(e)),De.push((()=>lt(o,"value",h))),o.$on("change",e[3])),{c(){t=se("div"),n=se("label"),s=ie(d),r=re(),o&&at(o.$$.fragment),a=re(),ue(n,"class","acu-uppercase acu-text-[#B0B0B0] acu-text-[11px] acu-mb-1 acu-block"),ue(n,"for",i=`editable-input-${e[7].name}`),ue(t,"class",c=e[7].class)},m(e,i){ee(e,t,i),X(t,n),X(n,s),X(t,r),o&&ct(o,t,null),X(t,a),u=!0},p(r,f){if(e=r,(!u||4&f)&&d!==(d=e[7].label+"")&&pe(s,d),(!u||4&f&&i!==(i=`editable-input-${e[7].name}`))&&ue(n,"for",i),4&f&&p!==(p=e[4](e[7]))){if(o){tt();const e=o;it(e.$$.fragment,1,0,(()=>{ut(e,1)})),nt()}p?(o=ye(p,m(e)),De.push((()=>lt(o,"value",h))),o.$on("change",e[3]),at(o.$$.fragment),st(o.$$.fragment,1),ct(o,t,a)):o=null}else if(p){const t={};4&f&&(t.field=e[7]),!l&&5&f&&(l=!0,t.value=e[0][e[7].name],Qe((()=>l=!1))),o.$set(t)}(!u||4&f&&c!==(c=e[7].class))&&ue(t,"class",c)},i(e){u||(o&&st(o.$$.fragment,e),u=!0)},o(e){o&&it(o.$$.fragment,e),u=!1},d(e){e&&te(t),o&&ut(o)}}}function ui(e){let t,n,s,i=rt(e[2]),r=[];for(let t=0;t<i.length;t+=1)r[t]=ci(ai(e,i,t));const o=e=>it(r[e],1,1,(()=>{r[e]=null}));return{c(){t=se("div");for(let e=0;e<r.length;e+=1)r[e].c();ue(t,"class",n="acu-min-w-[300px] acu-flex acu-gap-2 "+("vertical"===e[1]?"acu-flex-col":""))},m(e,n){ee(e,t,n);for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,null);s=!0},p(e,[l]){if(29&l){let n;for(i=rt(e[2]),n=0;n<i.length;n+=1){const s=ai(e,i,n);r[n]?(r[n].p(s,l),st(r[n],1)):(r[n]=ci(s),r[n].c(),st(r[n],1),r[n].m(t,null))}for(tt(),n=i.length;n<r.length;n+=1)o(n);nt()}(!s||2&l&&n!==(n="acu-min-w-[300px] acu-flex acu-gap-2 "+("vertical"===e[1]?"acu-flex-col":"")))&&ue(t,"class",n)},i(e){if(!s){for(let e=0;e<i.length;e+=1)st(r[e]);s=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)it(r[e]);s=!1},d(e){e&&te(t),ne(r,e)}}}function di(e,t,n){let{value:s={}}=t,{onChange:i}=t,{layout:r="vertical"}=t,{fields:o=[]}=t;return qe((()=>{"object"!=typeof s&&n(0,s={}),o.forEach((e=>{s.hasOwnProperty(e.name)||n(0,s[e.name]="",s)})),n(0,s=Object.assign({},s))})),e.$$set=e=>{"value"in e&&n(0,s=e.value),"onChange"in e&&n(5,i=e.onChange),"layout"in e&&n(1,r=e.layout),"fields"in e&&n(2,o=e.fields)},[s,r,o,()=>{i&&i(s)},e=>{switch(e.type){case"checkbox":return li;case"select":return ti;case"textarea":return ii;case"number":return Ys;default:return Qs}},i,function(t,i){e.$$.not_equal(s[i.name],t)&&(s[i.name]=t,n(0,s))}]}const hi=class extends pt{constructor(e){super(),dt(this,e,di,ui,xe,{value:0,onChange:5,layout:1,fields:2})}};class pi extends h{constructor(e){super(e),this.dynamicValue=""}getEditableType(){return"composite"}valueToInput(e){this.dynamicValue=e;let t=this.getElement().querySelector("[data-component]");new hi({target:t,props:{value:e,fields:this.settings.fields,layout:this.settings.layout,onChange:e=>{this.dynamicValue=e}}})}getValue(){return this.dynamicValue}getTemplate(){return"\n            <div data-component></div>\n        "}}const mi=e=>({}),fi=e=>({}),gi=e=>({}),bi=e=>({}),vi=e=>({}),yi=e=>({}),_i=e=>({}),Ei=e=>({}),wi=e=>({}),Si=e=>({});function $i(e){let t,n,s,i;return{c(){t=se("button"),n=se("span"),ue(n,"class","dashicons dashicons-no-alt"),ue(t,"class","ac-modal__dialog__close"),t.disabled=e[2]},m(r,o){ee(r,t,o),X(t,n),s||(i=le(t,"click",ae(e[7])),s=!0)},p(e,n){4&n&&(t.disabled=e[2])},d(e){e&&te(t),s=!1,i()}}}function xi(e){let t,n;const s=e[13].content,i=Ce(s,e,e[12],yi);return{c(){t=se("div"),i&&i.c(),ue(t,"class","ac-modal__dialog__content"),be(t,"-p0",e[0])},m(e,s){ee(e,t,s),i&&i.m(t,null),n=!0},p(e,r){i&&i.p&&(!n||4096&r)&&Oe(i,s,e,e[12],n?Le(s,e[12],r,vi):Ae(e[12]),yi),(!n||1&r)&&be(t,"-p0",e[0])},i(e){n||(st(i,e),n=!0)},o(e){it(i,e),n=!1},d(e){e&&te(t),i&&i.d(e)}}}function ki(e){let t,n;const s=e[13].footer,i=Ce(s,e,e[12],fi);return{c(){t=se("div"),i&&i.c(),ue(t,"class","ac-modal__dialog__footer")},m(e,s){ee(e,t,s),i&&i.m(t,null),n=!0},p(e,t){i&&i.p&&(!n||4096&t)&&Oe(i,s,e,e[12],n?Le(s,e[12],t,mi):Ae(e[12]),fi)},i(e){n||(st(i,e),n=!0)},o(e){it(i,e),n=!1},d(e){e&&te(t),i&&i.d(e)}}}function Ci(e){let t,n,s,i,r,o,l,a,c,u,d,h,p;const m=e[13].header,f=Ce(m,e,e[12],Si);let g=!e[2]&&$i(e);const b=e[13].before_content,v=Ce(b,e,e[12],Ei);let y=e[8].content&&!e[1]&&xi(e);const _=e[13].after_content,E=Ce(_,e,e[12],bi);let w=e[8].footer&&ki(e);return{c(){t=se("div"),n=se("div"),s=se("div"),f&&f.c(),i=re(),g&&g.c(),r=re(),v&&v.c(),o=re(),y&&y.c(),l=re(),E&&E.c(),a=re(),w&&w.c(),ue(s,"class","ac-modal__dialog__header"),ue(n,"class",c="ac-modal__dialog "+e[4]),ue(n,"role","none"),ue(t,"class",u="ac-modal "+e[3]),ue(t,"role","none"),be(t,"-active",e[5])},m(c,u){ee(c,t,u),X(t,n),X(n,s),f&&f.m(s,null),X(s,i),g&&g.m(s,null),X(n,r),v&&v.m(n,null),X(n,o),y&&y.m(n,null),X(n,l),E&&E.m(n,null),X(n,a),w&&w.m(n,null),e[15](t),d=!0,h||(p=[le(n,"click",ce(e[14])),le(t,"click",e[7])],h=!0)},p(e,[i]){f&&f.p&&(!d||4096&i)&&Oe(f,m,e,e[12],d?Le(m,e[12],i,wi):Ae(e[12]),Si),e[2]?g&&(g.d(1),g=null):g?g.p(e,i):(g=$i(e),g.c(),g.m(s,null)),v&&v.p&&(!d||4096&i)&&Oe(v,b,e,e[12],d?Le(b,e[12],i,_i):Ae(e[12]),Ei),e[8].content&&!e[1]?y?(y.p(e,i),258&i&&st(y,1)):(y=xi(e),y.c(),st(y,1),y.m(n,l)):y&&(tt(),it(y,1,1,(()=>{y=null})),nt()),E&&E.p&&(!d||4096&i)&&Oe(E,_,e,e[12],d?Le(_,e[12],i,gi):Ae(e[12]),bi),e[8].footer?w?(w.p(e,i),256&i&&st(w,1)):(w=ki(e),w.c(),st(w,1),w.m(n,null)):w&&(tt(),it(w,1,1,(()=>{w=null})),nt()),(!d||16&i&&c!==(c="ac-modal__dialog "+e[4]))&&ue(n,"class",c),(!d||8&i&&u!==(u="ac-modal "+e[3]))&&ue(t,"class",u),(!d||40&i)&&be(t,"-active",e[5])},i(e){d||(st(f,e),st(v,e),st(y),st(E,e),st(w),d=!0)},o(e){it(f,e),it(v,e),it(y),it(E,e),it(w),d=!1},d(n){n&&te(t),f&&f.d(n),g&&g.d(),v&&v.d(n),y&&y.d(),E&&E.d(n),w&&w.d(),e[15](null),h=!1,Se(p)}}}function Ti(e,t,s){let{$$slots:i={},$$scope:r}=t;const o=function(e){const t={};for(const n in e)t[n]=!0;return t}(i),l=n(390);let{contentNoPadding:a=!1}=t,{hideContent:c=!1}=t,{disableClose:u=!1}=t,{className:d=""}=t,{dialogClass:h=""}=t,{visible:p=!1}=t,{disableScroll:m=!1}=t,{appendToBody:f=!1}=t,g=null;const b=Ne(),v=()=>{m&&g&&l.enableBodyScroll(g)},y=()=>{u||(b("close"),v())};return qe((()=>{document.addEventListener("keyup",(e=>{"Escape"===e.key&&y()})),f&&g&&document.body.append(g),m&&g&&l.disableBodyScroll(g,{})})),e.$$set=e=>{"contentNoPadding"in e&&s(0,a=e.contentNoPadding),"hideContent"in e&&s(1,c=e.hideContent),"disableClose"in e&&s(2,u=e.disableClose),"className"in e&&s(3,d=e.className),"dialogClass"in e&&s(4,h=e.dialogClass),"visible"in e&&s(5,p=e.visible),"disableScroll"in e&&s(9,m=e.disableScroll),"appendToBody"in e&&s(10,f=e.appendToBody),"$$scope"in e&&s(12,r=e.$$scope)},[a,c,u,d,h,p,g,y,o,m,f,v,r,i,function(t){Be.call(this,e,t)},function(e){De[e?"unshift":"push"]((()=>{g=e,s(6,g)}))}]}const Li=class extends pt{constructor(e){super(),dt(this,e,Ti,Ci,xe,{contentNoPadding:0,hideContent:1,disableClose:2,className:3,dialogClass:4,visible:5,disableScroll:9,appendToBody:10,FreeScrollLock:11})}get FreeScrollLock(){return this.$$.ctx[11]}};function Oi(e){let t,n,s;return{c(){t=se("div"),n=se("div"),s=se("div"),ue(s,"class","acui-progress__progress "),fe(s,"width",e[0]+"%"),be(s,"-finished",e[2]),be(s,"-warning",e[3]),be(s,"-error",e[4]),ue(n,"class","acui-progress__bar"),ue(t,"class","acui-progress"),ue(t,"style",e[1])},m(e,i){ee(e,t,i),X(t,n),X(n,s)},p(e,[n]){1&n&&fe(s,"width",e[0]+"%"),4&n&&be(s,"-finished",e[2]),8&n&&be(s,"-warning",e[3]),16&n&&be(s,"-error",e[4]),2&n&&ue(t,"style",e[1])},i:_e,o:_e,d(e){e&&te(t)}}}function Ai(e,t,n){let{percentage:s=0}=t,{customStyles:i=""}=t,{finished:r=!1}=t,{warning:o=!1}=t,{error:l=!1}=t;return e.$$set=e=>{"percentage"in e&&n(0,s=e.percentage),"customStyles"in e&&n(1,i=e.customStyles),"finished"in e&&n(2,r=e.finished),"warning"in e&&n(3,o=e.warning),"error"in e&&n(4,l=e.error)},[s,i,r,o,l]}const ji=class extends pt{constructor(e){super(),dt(this,e,Ai,Oi,xe,{percentage:0,customStyles:1,finished:2,warning:3,error:4})}};function Ri(e){let t;return{c(){t=se("span"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 45.71747627024009 45.71747627024009" style="transform: rotate(calc(-90deg));"><circle class="v-progress-circular__underlay" fill="transparent" cx="50%" cy="50%" r="20" stroke-width="5.717476270240089" stroke-dasharray="125.66370614359172" stroke-dashoffset="0"></circle><circle class="v-progress-circular__overlay" fill="transparent" cx="50%" cy="50%" r="20" stroke-width="5.717476270240089" stroke-dasharray="125.66370614359172" stroke-dashoffset="100.53096491487338px"></circle></svg>'},m(e,n){ee(e,t,n)},p:_e,i:_e,o:_e,d(e){e&&te(t)}}}const Ii=class extends pt{constructor(e){super(),dt(this,e,null,Ri,xe,{})}};function qi(e){let t,n,s,i;return{c(){t=se("div"),n=ie(e[0]),s=ie(":"),i=ie(e[1]),ue(t,"class","acui-timer")},m(e,r){ee(e,t,r),X(t,n),X(t,s),X(t,i)},p(e,[t]){1&t&&pe(n,e[0]),2&t&&pe(i,e[1])},i:_e,o:_e,d(e){e&&te(t)}}}function Pi(e,t,n){let{autostart:s=!1}=t,i=0,r=null,o="00",l="00";const a=()=>{r=window.setInterval((()=>{i++,c()}),1e3)},c=()=>{let e=Math.floor(i/60),t=i%60;n(0,o=e>9?e.toString():`0${e.toString()}`),n(1,l=t>9?t.toString():`0${t.toString()}`)};return qe((()=>{s&&a()})),e.$$set=e=>{"autostart"in e&&n(2,s=e.autostart)},[o,l,s,a,()=>{i=0,c()},()=>{clearInterval(r),c()}]}const Ni=class extends pt{constructor(e){super(),dt(this,e,Pi,qi,xe,{autostart:2,start:3,reset:4,stop:5})}get start(){return this.$$.ctx[3]}get reset(){return this.$$.ctx[4]}get stop(){return this.$$.ctx[5]}};function Bi(e){Z(e,"svelte-12l3rwe",".ac-toggle-v2__toggle__track.svelte-12l3rwe.svelte-12l3rwe.svelte-12l3rwe{background:var(--baseBackground, #d8d8d8)}.ac-toggle-v2__toggle.svelte-12l3rwe input[type=checkbox].svelte-12l3rwe:checked~.ac-toggle-v2__toggle__track.svelte-12l3rwe{background:var(--activeBackground, var(--ac-primary-color))}.ac-toggle-v2.svelte-12l3rwe input[type=checkbox].svelte-12l3rwe:focus+.ac-toggle-v2__toggle__track.svelte-12l3rwe{box-shadow:0 0 0 2px #fff, 0 0 0 4px var(--ac-primary-color)}")}function Mi(e){let t;const n=e[12].default,s=Ce(n,e,e[11],null);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,i){s&&s.p&&(!t||2048&i)&&Oe(s,n,e,e[11],t?Le(n,e[11],i,null):Ae(e[11]),null)},i(e){t||(st(s,e),t=!0)},o(e){it(s,e),t=!1},d(e){s&&s.d(e)}}}function Di(e){let t;return{c(){t=ie(e[3])},m(e,n){ee(e,t,n)},p(e,n){8&n&&pe(t,e[3])},i:_e,o:_e,d(e){e&&te(t)}}}function Fi(e){let t;return{c(){t=ie(e[4])},m(e,n){ee(e,t,n)},p(e,n){16&n&&pe(t,e[4])},i:_e,o:_e,d(e){e&&te(t)}}}function Hi(e){let t,n,s,i,r,o,l,a,c,u,d,h,p,m;const f=[Fi,Di,Mi],g=[];function b(e,t){return e[4]?0:e[3]?1:2}return u=b(e),d=g[u]=f[u](e),{c(){t=se("div"),n=se("span"),s=se("input"),i=re(),r=se("span"),o=re(),l=se("span"),a=re(),c=se("label"),d.c(),ue(s,"class","ac-toggle-v2__toggle__input svelte-12l3rwe"),ue(s,"type","checkbox"),s.__value="off",me(s,s.__value),ue(s,"id",e[5]),s.disabled=e[2],ue(r,"class","ac-toggle-v2__toggle__track svelte-12l3rwe"),ue(l,"class","ac-toggle-v2__toggle__thumb"),ue(n,"class","ac-toggle-v2__toggle svelte-12l3rwe"),ue(c,"class","ac-toggle-v2__label"),ue(c,"for",e[5]),ue(t,"class","ac-toggle-v2 svelte-12l3rwe"),ue(t,"style",e[1])},m(d,f){ee(d,t,f),X(t,n),X(n,s),s.checked=e[0],X(n,i),X(n,r),X(n,o),X(n,l),X(t,a),X(t,c),g[u].m(c,null),h=!0,p||(m=[le(s,"change",e[13]),le(s,"input",e[14])],p=!0)},p(e,[n]){(!h||4&n)&&(s.disabled=e[2]),1&n&&(s.checked=e[0]);let i=u;u=b(e),u===i?g[u].p(e,n):(tt(),it(g[i],1,1,(()=>{g[i]=null})),nt(),d=g[u],d?d.p(e,n):(d=g[u]=f[u](e),d.c()),st(d,1),d.m(c,null)),(!h||2&n)&&ue(t,"style",e[1])},i(e){h||(st(d),h=!0)},o(e){it(d),h=!1},d(e){e&&te(t),g[u].d(),p=!1,Se(m)}}}function Vi(e,t,n){let s,i,{$$slots:r={},$$scope:o}=t,{customStyles:l=""}=t,{checked:a}=t,{trueValue:c=""}=t,{falseValue:u=""}=t,{disabled:d=!1}=t,{label:h=null}=t,p=(()=>{let e=()=>Math.floor(65536*(1+Math.random())).toString(16).substring(1);return"ac"+e()+e()+"-"+e()+"-"+e()+"-"+e()})(),m=Ne();const f=()=>{setTimeout((()=>m("input",a)))};return e.$$set=e=>{"customStyles"in e&&n(1,l=e.customStyles),"checked"in e&&n(0,a=e.checked),"trueValue"in e&&n(7,c=e.trueValue),"falseValue"in e&&n(8,u=e.falseValue),"disabled"in e&&n(2,d=e.disabled),"label"in e&&n(3,h=e.label),"$$scope"in e&&n(11,o=e.$$scope)},e.$$.update=()=>{384&e.$$.dirty&&n(10,s=null!=u?u:c),1153&e.$$.dirty&&n(4,i=a?c:s)},[a,l,d,h,i,p,f,c,u,e=>{n(0,a=e)},s,o,r,function(){a=this.checked,n(0,a)},()=>f()]}const Ui=class extends pt{constructor(e){super(),dt(this,e,Vi,Hi,xe,{customStyles:1,checked:0,trueValue:7,falseValue:8,disabled:2,label:3,toggle:9},Bi)}get toggle(){return this.$$.ctx[9]}};function Wi(e,t,n){const s=e.slice();return s[18]=t[n],s}function zi(e){let t,n,s,i,r,o,l=[],a=new Map,c=rt(e[0]);const u=e=>e[18].id;for(let t=0;t<c.length;t+=1){let n=Wi(e,c,t),s=u(n);a.set(s,l[t]=Ji(s,n))}return{c(){t=se("div");for(let e=0;e<l.length;e+=1)l[e].c();n=re(),s=se("div"),i=se("button"),i.textContent=`${e[3].add_to_gallery}`,ue(t,"class","acu-p-1 acu-mb-2 acu-bg-[#fff] acu-min-w-[280px] acu-min-h-[150px] acu-max-w-[425px] acu-w-fit acu-border au-border-[--ac-border-grey] acu-border-solid"),ue(i,"class","button aceditable__button -primary")},m(a,c){ee(a,t,c);for(let e=0;e<l.length;e+=1)l[e]&&l[e].m(t,null);e[9](t),ee(a,n,c),ee(a,s,c),X(s,i),r||(o=le(i,"click",ce(ae(e[4]))),r=!0)},p(e,n){33&n&&(c=rt(e[0]),l=function(e,t,n,s,i,r,o,l,a,c,u,d){let h=e.length,p=r.length,m=h;const f={};for(;m--;)f[e[m].key]=m;const g=[],b=new Map,v=new Map,y=[];for(m=p;m--;){const e=d(i,r,m),s=n(e);let l=o.get(s);l?y.push((()=>l.p(e,t))):(l=c(s,e),l.c()),b.set(s,g[m]=l),s in f&&v.set(s,Math.abs(m-f[s]))}const _=new Set,E=new Set;function w(e){st(e,1),e.m(l,u),o.set(e.key,e),u=e.first,p--}for(;h&&p;){const t=g[p-1],n=e[h-1],s=t.key,i=n.key;t===n?(u=t.first,h--,p--):b.has(i)?!o.has(s)||_.has(s)?w(t):E.has(i)?h--:v.get(s)>v.get(i)?(E.add(s),w(t)):(_.add(i),h--):(a(n,o),h--)}for(;h--;){const t=e[h];b.has(t.key)||a(t,o)}for(;p;)w(g[p-1]);return Se(y),g}(l,n,u,0,e,c,a,t,ot,Ji,null,Wi))},i:_e,o:_e,d(i){i&&(te(t),te(n),te(s));for(let e=0;e<l.length;e+=1)l[e].d();e[9](null),r=!1,o()}}}function Qi(e){let t,n,s,i,r,o=e[3].loading+"";return i=new Ii({}),{c(){t=se("div"),n=ie(o),s=ie("... "),at(i.$$.fragment),ue(t,"class","")},m(e,o){ee(e,t,o),X(t,n),X(t,s),ct(i,t,null),r=!0},p:_e,i(e){r||(st(i.$$.fragment,e),r=!0)},o(e){it(i.$$.fragment,e),r=!1},d(e){e&&te(t),ut(i)}}}function Ji(e,t){let n,s,i,r,o,l,a,c,u;function d(){return t[8](t[18])}return{key:e,first:null,c(){n=se("div"),s=se("button"),s.innerHTML='<span class="dashicons dashicons-no-alt"></span>',i=re(),r=se("img"),a=re(),ue(s,"class","group-hover:acu-block acu-cursor-pointer hover:acu-text-red acu-hidden acu-absolute acu-right-[0] acu-top-[0] acu-border-0 acu-bg-none"),ke(r.src,o=t[18].url)||ue(r,"src",o),ue(r,"alt",l=t[18].id),ue(r,"class","acu-object-cover acu-w-full acu-h-full"),ue(n,"class","acu-inline-block acu-w-[60px] acu-h-[60px] acu-m-1 acu-relative acu-group acu-cursor-move"),this.first=n},m(e,t){ee(e,n,t),X(n,s),X(n,i),X(n,r),X(n,a),c||(u=le(s,"click",ce(ae(d))),c=!0)},p(e,n){t=e,1&n&&!ke(r.src,o=t[18].url)&&ue(r,"src",o),1&n&&l!==(l=t[18].id)&&ue(r,"alt",l)},d(e){e&&te(n),c=!1,u()}}}function Gi(e){let t,n,s,i;const r=[Qi,zi],o=[];function l(e,t){return e[1]?0:1}return t=l(e),n=o[t]=r[t](e),{c(){n.c(),s=oe()},m(e,n){o[t].m(e,n),ee(e,s,n),i=!0},p(e,[i]){let a=t;t=l(e),t===a?o[t].p(e,i):(tt(),it(o[a],1,1,(()=>{o[a]=null})),nt(),n=o[t],n?n.p(e,i):(n=o[t]=r[t](e),n.c()),st(n,1),n.m(s.parentNode,s))},i(e){i||(st(n),i=!0)},o(e){it(n),i=!1},d(e){e&&te(s),o[t].d(e)}}}function Yi(e,t,n){var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(i,r){function o(e){try{a(s.next(e))}catch(e){r(e)}}function l(e){try{a(s.throw(e))}catch(e){r(e)}}function a(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(o,l)}a((s=s.apply(e,t||[])).next())}))};let{value:i}=t,{onChange:r}=t,{items:o=[]}=t;const l=S();let a,c=!0,u=0,d=0,h=null;const p=()=>{r&&r(o.map((e=>e.id)))},m=e=>{n(0,o=o.filter((t=>t.id!==e))),p()};return qe((()=>s(void 0,void 0,void 0,(function*(){Array.isArray(i)||n(6,i=[]);const e=i.map((e=>s(void 0,void 0,void 0,(function*(){const t=wp.media.attachment(e),n=yield t.fetch();return{id:n.id,url:n.sizes.thumbnail.url}}))));n(0,o=yield Promise.all(e)),(()=>{const e=new wp.media.controller.Library({id:"acp_edit_state",title:"Gallery",priority:20,multiple:!0,library:wp.media.query({type:"image"})});h=wp.media.frames.file_frame=wp.media({button:{text:l.add_to_gallery},library:{type:"image"},state:"acp_edit_state",states:[e],multiple:!0}),h.on("select",(()=>{let e=h.state().get("selection").toJSON(),t=o.map((e=>e.id)),s=e.filter((e=>!t.includes(e.id)));n(0,o=[...o,...s]),p()}))})(),n(1,c=!1),yield(We(),Ve),(()=>{const e=jQuery;e(a).sortable({containment:e(a),start:(e,t)=>{u=parseInt(t.item.index())},stop:(e,t)=>{d=t.item.index(),null!==u&&null!==d&&(((e,t)=>{let s=o;const i=s[e];s.splice(e,1),s.splice(t,0,i);let r=[];s.forEach((e=>{r.push(e)})),n(0,o=r),p()})(u,d),u=null,d=null)}})})()})))),e.$$set=e=>{"value"in e&&n(6,i=e.value),"onChange"in e&&n(7,r=e.onChange),"items"in e&&n(0,o=e.items)},[o,c,a,l,()=>{h.open()},m,i,r,e=>m(e.id),function(e){De[e?"unshift":"push"]((()=>{a=e,n(2,a)}))}]}const Ki=class extends pt{constructor(e){super(),dt(this,e,Yi,Gi,xe,{value:6,onChange:7,items:0})}};class Xi extends h{constructor(e){super(e),this.dynamicValue=""}getEditableType(){return"gallery"}valueToInput(e){this.dynamicValue=e;let t=this.getElement().querySelector("[data-component]");new Ki({target:t,props:{value:e,onChange:e=>{this.dynamicValue=e}}})}getValue(){return this.dynamicValue}getTemplate(){return"\n            <div data-component></div>\n        "}}class Zi{constructor(e){this.services=e,this.editables={},this.initEditables()}initEditables(){this.editables._abstract=h,this.editables.text=v,this.editables.textarea=y,this.editables.number=v,this.editables.number_extended=z,this.editables.checklist=p,this.editables.color=m,this.editables.select=w,this.editables.select2=j,this.editables.select2_multiple=R,this.editables.select2_multiple_strategy=I,this.editables.select2_ajax=T,this.editables.select2_ajax_multiple=L,this.editables.select2_ajax_strategy=O,this.editables.select2_remote=V,this.editables.date=f,this.editables.fullname=E,this.editables.date_time=b,this.editables.toggle=_,this.editables.wp_library=N,this.editables.multi_input=M,this.editables.wysiwyg=F,this.editables.internal_link=Ns,this.editables.wp_password=Us,this.editables.gallery=Xi,this.editables.composite=pi,this.services.emitEvent("Editing.Editables.Ready",this)}registerEditable(e,t){return this.editables[e]=t,this}get(e){return this.editables.hasOwnProperty(e)?this.editables[e]:null}abstract(){return this.get("_abstract")}}class er{escapeRegex(e){return(e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"))(e)}}const tr="acp_editing_request",nr="inline-values",sr="bulk",ir="inline",rr="inlineEditable",or="dataStorage";class lr{constructor(e){this.name=e.column_name,this.id=e.id,this.current_revision=0,this.revisions=[e.value],this.formattedValue=e.formatted_value?e.formatted_value:e.value}getFormattedValue(){return this.formattedValue}setCurrentRevision(e){return this.current_revision=e,this}getCurrentRevision(){return this.current_revision}getValue(){return this.revisions[this.getCurrentRevision()]}storeRevision(e){let t=this.revisions.length-this.getCurrentRevision()-1;for(let e=0;e<t;e++)this.revisions.pop();return this.revisions.push(e),this.setCurrentRevision(this.getCurrentRevision()+1),this}save(){const e=H();return jQuery.ajax({url:ajaxurl,data:{action:tr,method:"inline-save",list_screen:e.list_screen,layout:e.layout,column:this.name,id:this.id,value:this.getValue(),_ajax_nonce:e.ajax_nonce},method:"POST",dataType:"json"})}undo(){return this.prev()}redo(){return this.next()}prev(){let e=this.getCurrentRevision();return 0!==e&&(this.setCurrentRevision(e-1),!0)}next(){let e=this.getCurrentRevision();return e!==this.revisions.length-1&&(this.setCurrentRevision(e+1),!0)}getRevisions(){return this.revisions}}const ar=(e,t=null)=>{let n=null!=t?t:new FormData;return Object.keys(e).forEach((t=>{cr(n,e[t],t)})),n},cr=(e,t,n="")=>{if(!t||"object"!=typeof t||t instanceof Date||t instanceof File){const s=null==t?"":t;e.append(n,s)}else Object.keys(t).forEach((s=>{cr(e,t[s],n?`${n}[${s}]`:s)}))};function ur(e){const t=H();return Os.get(ajaxurl,{params:{action:tr,method:nr,ids:e,list_screen:t.list_screen,layout:t.layout,_ajax_nonce:t.ajax_nonce}})}class dr{constructor(e){this.EditCell=e,this.Cell=this.EditCell.Cell,this.reset()}reset(){this.Cell.getElement().querySelectorAll(".acp-ie-controls__items").forEach((e=>e.remove()))}isRevisioningEnabled(){return!this.Cell.getSettings().getService(rr).hasOwnProperty("disable_revisioning")}render(){let e=dr.createContainer(),t=this.Cell.getElement().querySelector(".acp-ie-value");this.Cell.getElement().appendChild(e),t&&B(e,t),dr.appendButton(this.renderEdit(),e),this.isRevisioningEnabled()&&(dr.appendButton(this.renderUndo(),e),dr.appendButton(this.renderRedo(),e)),dr.appendButton(this.renderClear(),e)}static createContainer(){let e=document.createElement("div");return e.classList.add("acp-ie-controls"),e}static appendButton(e,t){e&&t.appendChild(e)}renderEdit(){let e=dr.createButtonElement(S().edit,"-edit");return e.insertAdjacentHTML("beforeend",'<span class="dashicons dashicons-edit"></span>'),e.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),this.EditCell.openEditable()})),e}renderUndo(){if(0===this.Cell.getService(or).current_revision)return null;let e=dr.createButtonElement(S().undo,"-undo");return e.insertAdjacentHTML("beforeend",'<span class="dashicons dashicons-undo"></span>'),e.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),this.EditCell.undo()})),e}renderRedo(){let e=this.Cell.getService(or);if(e.current_revision>=e.getRevisions().length-1)return;let t=dr.createButtonElement(S().redo,"-redo");return t.insertAdjacentHTML("beforeend",'<span class="dashicons dashicons-redo"></span>'),t.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),this.EditCell.redo()})),t}renderClear(){let e=this.Cell.getService(or);if(!this.Cell.getSettings().getService(rr).clear_button)return;if(!e.getValue())return;if("object"==typeof e.getValue()&&0===e.getValue().length)return;let t=dr.createButtonElement(S().delete,"-clear");return t.insertAdjacentHTML("beforeend",'<span class="dashicons dashicons-no-alt"></span>'),t.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),this.EditCell.clear()})),t}static createButtonElement(e,t){let n=document.createElement("button");return n.classList.add("acp-ie-controls__item"),n.classList.add(t),n.setAttribute("title",e),n.tabIndex=0,n}}class hr extends dr{render(){this.wrapImages()}wrapImages(){let e=this.Cell.getElement().querySelectorAll(".ac-image"),t=this.Cell.getElement().querySelector(".acp-ie-controls");e&&(e.forEach((e=>{let t=e.dataset.mediaId,n=document.createElement("div"),s=document.createElement("div");s.classList.add("acp-ie-image-controls"),n.dataset.mediaId=t,n.classList.add("acp-ie-image-item"),e.parentNode.insertBefore(n,e),n.appendChild(e),n.appendChild(s)})),this.Cell.getSettings().getService(rr).multiple?(this.addSingleImageDelete(),t.classList.add("-multiple")):(this.moveActions(),t.classList.add("-single")))}addSingleImageDelete(){let e=this.Cell.getElement().querySelectorAll(".acp-ie-image-item");e&&e.forEach((e=>{let t=e.querySelector(".acp-ie-image-controls"),n=this.renderDelete();t.append(n)}))}moveActions(){let e=this.Cell.getElement().querySelector(".acp-ie-controls"),t=this.Cell.getElement().querySelector(".acp-ie-image-controls");e&&t&&(e.querySelectorAll(".acp-ie-controls__item").forEach((e=>{t.append(e)})),t.classList.add("-single"))}renderDelete(){let e=this,t=hr.createButtonElement(S().delete,"-delete");return t.insertAdjacentHTML("beforeend",'<span class="dashicons dashicons-no-alt"></span>'),t.addEventListener("click",(t=>{t.preventDefault(),t.stopPropagation();let n=t.target.closest(".acp-ie-image-item"),s=e.Cell.getService(or).getValue();Array.isArray(s)?(s=s.filter((e=>parseInt(e)!==parseInt(n.dataset.mediaId))),0===s.length&&(s="")):s="",this.EditCell.saveValue(s)})),t}}var pr="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,mr=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(pr&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}(),fr=pr&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),mr))}};function gr(e){return e&&"[object Function]"==={}.toString.call(e)}function br(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function vr(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function yr(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=br(e),n=t.overflow,s=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+s)?e:yr(vr(e))}function _r(e){return e&&e.referenceNode?e.referenceNode:e}var Er=pr&&!(!window.MSInputMethodContext||!document.documentMode),wr=pr&&/MSIE 10/.test(navigator.userAgent);function Sr(e){return 11===e?Er:10===e?wr:Er||wr}function $r(e){if(!e)return document.documentElement;for(var t=Sr(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var s=n&&n.nodeName;return s&&"BODY"!==s&&"HTML"!==s?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===br(n,"position")?$r(n):n:e?e.ownerDocument.documentElement:document.documentElement}function xr(e){return null!==e.parentNode?xr(e.parentNode):e}function kr(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,s=n?e:t,i=n?t:e,r=document.createRange();r.setStart(s,0),r.setEnd(i,0);var o,l,a=r.commonAncestorContainer;if(e!==a&&t!==a||s.contains(i))return"BODY"===(l=(o=a).nodeName)||"HTML"!==l&&$r(o.firstElementChild)!==o?$r(a):a;var c=xr(e);return c.host?kr(c.host,t):kr(e,xr(t).host)}function Cr(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var s=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||s)[t]}return e[t]}function Tr(e,t){var n="x"===t?"Left":"Top",s="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+s+"Width"])}function Lr(e,t,n,s){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],Sr(10)?parseInt(n["offset"+e])+parseInt(s["margin"+("Height"===e?"Top":"Left")])+parseInt(s["margin"+("Height"===e?"Bottom":"Right")]):0)}function Or(e){var t=e.body,n=e.documentElement,s=Sr(10)&&getComputedStyle(n);return{height:Lr("Height",t,n,s),width:Lr("Width",t,n,s)}}var Ar=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),jr=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Rr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e};function Ir(e){return Rr({},e,{right:e.left+e.width,bottom:e.top+e.height})}function qr(e){var t={};try{if(Sr(10)){t=e.getBoundingClientRect();var n=Cr(e,"top"),s=Cr(e,"left");t.top+=n,t.left+=s,t.bottom+=n,t.right+=s}else t=e.getBoundingClientRect()}catch(e){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},r="HTML"===e.nodeName?Or(e.ownerDocument):{},o=r.width||e.clientWidth||i.width,l=r.height||e.clientHeight||i.height,a=e.offsetWidth-o,c=e.offsetHeight-l;if(a||c){var u=br(e);a-=Tr(u,"x"),c-=Tr(u,"y"),i.width-=a,i.height-=c}return Ir(i)}function Pr(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=Sr(10),i="HTML"===t.nodeName,r=qr(e),o=qr(t),l=yr(e),a=br(t),c=parseFloat(a.borderTopWidth),u=parseFloat(a.borderLeftWidth);n&&i&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var d=Ir({top:r.top-o.top-c,left:r.left-o.left-u,width:r.width,height:r.height});if(d.marginTop=0,d.marginLeft=0,!s&&i){var h=parseFloat(a.marginTop),p=parseFloat(a.marginLeft);d.top-=c-h,d.bottom-=c-h,d.left-=u-p,d.right-=u-p,d.marginTop=h,d.marginLeft=p}return(s&&!n?t.contains(l):t===l&&"BODY"!==l.nodeName)&&(d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=Cr(t,"top"),i=Cr(t,"left"),r=n?-1:1;return e.top+=s*r,e.bottom+=s*r,e.left+=i*r,e.right+=i*r,e}(d,t)),d}function Nr(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===br(e,"position"))return!0;var n=vr(e);return!!n&&Nr(n)}function Br(e){if(!e||!e.parentElement||Sr())return document.documentElement;for(var t=e.parentElement;t&&"none"===br(t,"transform");)t=t.parentElement;return t||document.documentElement}function Mr(e,t,n,s){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r={top:0,left:0},o=i?Br(e):kr(e,_r(t));if("viewport"===s)r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,s=Pr(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),r=Math.max(n.clientHeight,window.innerHeight||0),o=t?0:Cr(n),l=t?0:Cr(n,"left");return Ir({top:o-s.top+s.marginTop,left:l-s.left+s.marginLeft,width:i,height:r})}(o,i);else{var l=void 0;"scrollParent"===s?"BODY"===(l=yr(vr(t))).nodeName&&(l=e.ownerDocument.documentElement):l="window"===s?e.ownerDocument.documentElement:s;var a=Pr(l,o,i);if("HTML"!==l.nodeName||Nr(o))r=a;else{var c=Or(e.ownerDocument),u=c.height,d=c.width;r.top+=a.top-a.marginTop,r.bottom=u+a.top,r.left+=a.left-a.marginLeft,r.right=d+a.left}}var h="number"==typeof(n=n||0);return r.left+=h?n:n.left||0,r.top+=h?n:n.top||0,r.right-=h?n:n.right||0,r.bottom-=h?n:n.bottom||0,r}function Dr(e,t,n,s,i){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var o=Mr(n,s,r,i),l={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},a=Object.keys(l).map((function(e){return Rr({key:e},l[e],{area:(t=l[e],t.width*t.height)});var t})).sort((function(e,t){return t.area-e.area})),c=a.filter((function(e){var t=e.width,s=e.height;return t>=n.clientWidth&&s>=n.clientHeight})),u=c.length>0?c[0].key:a[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function Fr(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Pr(n,s?Br(t):kr(t,_r(n)),s)}function Hr(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),s=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+s,height:e.offsetHeight+n}}function Vr(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function Ur(e,t,n){n=n.split("-")[0];var s=Hr(e),i={width:s.width,height:s.height},r=-1!==["right","left"].indexOf(n),o=r?"top":"left",l=r?"left":"top",a=r?"height":"width",c=r?"width":"height";return i[o]=t[o]+t[a]/2-s[a]/2,i[l]=n===l?t[l]-s[c]:t[Vr(l)],i}function Wr(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function zr(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var s=Wr(e,(function(e){return e[t]===n}));return e.indexOf(s)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&gr(n)&&(t.offsets.popper=Ir(t.offsets.popper),t.offsets.reference=Ir(t.offsets.reference),t=n(t,e))})),t}function Qr(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=Fr(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=Dr(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=Ur(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=zr(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function Jr(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function Gr(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),s=0;s<t.length;s++){var i=t[s],r=i?""+i+n:e;if(void 0!==document.body.style[r])return r}return null}function Yr(){return this.state.isDestroyed=!0,Jr(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Gr("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Kr(e){var t=e.ownerDocument;return t?t.defaultView:window}function Xr(e,t,n,s){var i="BODY"===e.nodeName,r=i?e.ownerDocument.defaultView:e;r.addEventListener(t,n,{passive:!0}),i||Xr(yr(r.parentNode),t,n,s),s.push(r)}function Zr(e,t,n,s){n.updateBound=s,Kr(e).addEventListener("resize",n.updateBound,{passive:!0});var i=yr(e);return Xr(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function eo(){this.state.eventsEnabled||(this.state=Zr(this.reference,this.options,this.state,this.scheduleUpdate))}function to(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,Kr(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function no(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function so(e,t){Object.keys(t).forEach((function(n){var s="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&no(t[n])&&(s="px"),e.style[n]=t[n]+s}))}var io=pr&&/Firefox/i.test(navigator.userAgent);function ro(e,t,n){var s=Wr(e,(function(e){return e.name===t})),i=!!s&&e.some((function(e){return e.name===n&&e.enabled&&e.order<s.order}));if(!i){var r="`"+t+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+r+" modifier in order to work, be sure to include it before "+r+"!")}return i}var oo=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],lo=oo.slice(3);function ao(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=lo.indexOf(e),s=lo.slice(n+1).concat(lo.slice(0,n));return t?s.reverse():s}var co={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],s=t.split("-")[1];if(s){var i=e.offsets,r=i.reference,o=i.popper,l=-1!==["bottom","top"].indexOf(n),a=l?"left":"top",c=l?"width":"height",u={start:jr({},a,r[a]),end:jr({},a,r[a]+r[c]-o[c])};e.offsets.popper=Rr({},o,u[s])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n,s=t.offset,i=e.placement,r=e.offsets,o=r.popper,l=r.reference,a=i.split("-")[0];return n=no(+s)?[+s,0]:function(e,t,n,s){var i=[0,0],r=-1!==["right","left"].indexOf(s),o=e.split(/(\+|\-)/).map((function(e){return e.trim()})),l=o.indexOf(Wr(o,(function(e){return-1!==e.search(/,|\s/)})));o[l]&&-1===o[l].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var a=/\s*,\s*|\s+/,c=-1!==l?[o.slice(0,l).concat([o[l].split(a)[0]]),[o[l].split(a)[1]].concat(o.slice(l+1))]:[o];return(c=c.map((function(e,s){var i=(1===s?!r:r)?"height":"width",o=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,o=!0,e):o?(e[e.length-1]+=t,o=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,s){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+i[1],o=i[2];return r?0===o.indexOf("%")?Ir("%p"===o?n:s)[t]/100*r:"vh"===o||"vw"===o?("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*r:r:e}(e,i,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,s){no(n)&&(i[t]+=n*("-"===e[s-1]?-1:1))}))})),i}(s,o,l,a),"left"===a?(o.top+=n[0],o.left-=n[1]):"right"===a?(o.top+=n[0],o.left+=n[1]):"top"===a?(o.left+=n[0],o.top-=n[1]):"bottom"===a&&(o.left+=n[0],o.top+=n[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||$r(e.instance.popper);e.instance.reference===n&&(n=$r(n));var s=Gr("transform"),i=e.instance.popper.style,r=i.top,o=i.left,l=i[s];i.top="",i.left="",i[s]="";var a=Mr(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=r,i.left=o,i[s]=l,t.boundaries=a;var c=t.priority,u=e.offsets.popper,d={primary:function(e){var n=u[e];return u[e]<a[e]&&!t.escapeWithReference&&(n=Math.max(u[e],a[e])),jr({},e,n)},secondary:function(e){var n="right"===e?"left":"top",s=u[n];return u[e]>a[e]&&!t.escapeWithReference&&(s=Math.min(u[n],a[e]-("right"===e?u.width:u.height))),jr({},n,s)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=Rr({},u,d[t](e))})),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,s=t.reference,i=e.placement.split("-")[0],r=Math.floor,o=-1!==["top","bottom"].indexOf(i),l=o?"right":"bottom",a=o?"left":"top",c=o?"width":"height";return n[l]<r(s[a])&&(e.offsets.popper[a]=r(s[a])-n[c]),n[a]>r(s[l])&&(e.offsets.popper[a]=r(s[l])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!ro(e.instance.modifiers,"arrow","keepTogether"))return e;var s=t.element;if("string"==typeof s){if(!(s=e.instance.popper.querySelector(s)))return e}else if(!e.instance.popper.contains(s))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],r=e.offsets,o=r.popper,l=r.reference,a=-1!==["left","right"].indexOf(i),c=a?"height":"width",u=a?"Top":"Left",d=u.toLowerCase(),h=a?"left":"top",p=a?"bottom":"right",m=Hr(s)[c];l[p]-m<o[d]&&(e.offsets.popper[d]-=o[d]-(l[p]-m)),l[d]+m>o[p]&&(e.offsets.popper[d]+=l[d]+m-o[p]),e.offsets.popper=Ir(e.offsets.popper);var f=l[d]+l[c]/2-m/2,g=br(e.instance.popper),b=parseFloat(g["margin"+u]),v=parseFloat(g["border"+u+"Width"]),y=f-e.offsets.popper[d]-b-v;return y=Math.max(Math.min(o[c]-m,y),0),e.arrowElement=s,e.offsets.arrow=(jr(n={},d,Math.round(y)),jr(n,h,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(Jr(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=Mr(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),s=e.placement.split("-")[0],i=Vr(s),r=e.placement.split("-")[1]||"",o=[];switch(t.behavior){case"flip":o=[s,i];break;case"clockwise":o=ao(s);break;case"counterclockwise":o=ao(s,!0);break;default:o=t.behavior}return o.forEach((function(l,a){if(s!==l||o.length===a+1)return e;s=e.placement.split("-")[0],i=Vr(s);var c=e.offsets.popper,u=e.offsets.reference,d=Math.floor,h="left"===s&&d(c.right)>d(u.left)||"right"===s&&d(c.left)<d(u.right)||"top"===s&&d(c.bottom)>d(u.top)||"bottom"===s&&d(c.top)<d(u.bottom),p=d(c.left)<d(n.left),m=d(c.right)>d(n.right),f=d(c.top)<d(n.top),g=d(c.bottom)>d(n.bottom),b="left"===s&&p||"right"===s&&m||"top"===s&&f||"bottom"===s&&g,v=-1!==["top","bottom"].indexOf(s),y=!!t.flipVariations&&(v&&"start"===r&&p||v&&"end"===r&&m||!v&&"start"===r&&f||!v&&"end"===r&&g),_=!!t.flipVariationsByContent&&(v&&"start"===r&&m||v&&"end"===r&&p||!v&&"start"===r&&g||!v&&"end"===r&&f),E=y||_;(h||b||E)&&(e.flipped=!0,(h||b)&&(s=o[a+1]),E&&(r=function(e){return"end"===e?"start":"start"===e?"end":e}(r)),e.placement=s+(r?"-"+r:""),e.offsets.popper=Rr({},e.offsets.popper,Ur(e.instance.popper,e.offsets.reference,e.placement)),e=zr(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],s=e.offsets,i=s.popper,r=s.reference,o=-1!==["left","right"].indexOf(n),l=-1===["top","left"].indexOf(n);return i[o?"left":"top"]=r[n]-(l?i[o?"width":"height"]:0),e.placement=Vr(t),e.offsets.popper=Ir(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!ro(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=Wr(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,s=t.y,i=e.offsets.popper,r=Wr(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==r&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o,l,a=void 0!==r?r:t.gpuAcceleration,c=$r(e.instance.popper),u=qr(c),d={position:i.position},h=function(e,t){var n=e.offsets,s=n.popper,i=n.reference,r=Math.round,o=Math.floor,l=function(e){return e},a=r(i.width),c=r(s.width),u=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),h=t?u||d||a%2==c%2?r:o:l,p=t?r:l;return{left:h(a%2==1&&c%2==1&&!d&&t?s.left-1:s.left),top:p(s.top),bottom:p(s.bottom),right:h(s.right)}}(e,window.devicePixelRatio<2||!io),p="bottom"===n?"top":"bottom",m="right"===s?"left":"right",f=Gr("transform");if(l="bottom"===p?"HTML"===c.nodeName?-c.clientHeight+h.bottom:-u.height+h.bottom:h.top,o="right"===m?"HTML"===c.nodeName?-c.clientWidth+h.right:-u.width+h.right:h.left,a&&f)d[f]="translate3d("+o+"px, "+l+"px, 0)",d[p]=0,d[m]=0,d.willChange="transform";else{var g="bottom"===p?-1:1,b="right"===m?-1:1;d[p]=l*g,d[m]=o*b,d.willChange=p+", "+m}var v={"x-placement":e.placement};return e.attributes=Rr({},v,e.attributes),e.styles=Rr({},d,e.styles),e.arrowStyles=Rr({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){return so(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&so(e.arrowElement,e.arrowStyles),e;var t,n},onLoad:function(e,t,n,s,i){var r=Fr(i,t,e,n.positionFixed),o=Dr(n.placement,r,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",o),so(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},uo={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:co},ho=function(){function e(t,n){var s=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(s.update)},this.update=fr(this.update.bind(this)),this.options=Rr({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(Rr({},e.Defaults.modifiers,i.modifiers)).forEach((function(t){s.options.modifiers[t]=Rr({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return Rr({name:e},s.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&gr(e.onLoad)&&e.onLoad(s.reference,s.popper,s.options,e,s.state)})),this.update();var r=this.options.eventsEnabled;r&&this.enableEventListeners(),this.state.eventsEnabled=r}return Ar(e,[{key:"update",value:function(){return Qr.call(this)}},{key:"destroy",value:function(){return Yr.call(this)}},{key:"enableEventListeners",value:function(){return eo.call(this)}},{key:"disableEventListeners",value:function(){return to.call(this)}}]),e}();ho.Utils=("undefined"!=typeof window?window:n.g).PopperUtils,ho.placements=oo,ho.Defaults=uo;const po=ho;function mo(e,t){let n=document.createElement("tr");t=t.replace(/\./g,"\\."),n.innerHTML=e;let s=n.querySelector(`td.column-${t}`);if(s){let e=s.querySelectorAll(".row-actions");return e&&e.forEach((e=>{e.remove()})),s.innerHTML}return""}var fo=n(403),go=n.n(fo);class bo{constructor(){this.filters={}}addFilter(e,t,n=10){this.filters.hasOwnProperty(e)||(this.filters[e]={}),this.filters[e].hasOwnProperty(n)||(this.filters[e][n]=[]),this.filters[e][n].push(t)}applyFilters(e,t,n={}){return this.filters.hasOwnProperty(e)?(Object.keys(this.filters[e]).forEach((s=>{this.filters[e][parseInt(s)].forEach((e=>{t=e(t,n)}))})),t):t}}class vo{constructor(){this.services={},this.events=new(go()),this.filters=new bo,this.$=s}registerService(e,t){return this.services[e]=t,this.events.emit(`Service.Registered.${e}`,t),this}getService(e){return this.hasService(e)?this.services[e]:null}hasService(e){return this.services.hasOwnProperty(e)}addListener(e,t){this.events.addListener(e,t)}emitEvent(e,t){this.events.emit(e,t)}}const yo=()=>(window.AC_SERVICES||(window.AC_SERVICES=new vo),window.AC_SERVICES),_o="acp-ie-editable",Eo="acp-ie-value";class wo{constructor(e,t,n,s){this.EditableConstructor=s,this.InlineEdit=e,this.Cell=t,this.Middleware=n,this.wrapCellContent(),this.attachEditable(),this.insertControls(),this.attachEvents()}getDataStorage(){return this.Cell.getService(or)}getEditableSettings(){return this.Cell.getSettings().getService(rr)}attachEditable(){if(!this.Cell.hasService(or)||this.Editable)return;let e=this.getDataStorage().getFormattedValue();null!==e&&(this.Editable=new this.EditableConstructor(this.Middleware.getArgs()),this.Editable.setValue(e),this.Cell.getObjectID()&&this.Editable.setObjectId(this.Cell.getObjectID()),this.Editable.Events.addListener("save",(e=>{this.saveValue(e.getValue())})),this.Editable.Events.addListener("close",(()=>{this.setFocusOnRelatedCell(),So.destroy(),this.destroyPopper()})))}setFocusOnRelatedCell(){let e=this.Cell.getElement().querySelector(".-edit");e&&(this.Cell.getElement().closest("tr").classList.add("forced-focus"),e.focus({preventScroll:!0}),this.Cell.getElement().closest("tr").classList.remove("forced-focus"))}attachEvents(){this.Cell.events.addListener("setValue",(()=>{this.afterSetValue()})),this.getTargetElement().addEventListener("click",(e=>{this.InlineEdit.isEnabled()&&"A"!==e.target.tagName&&"BUTTON"!==e.target.tagName&&(e.preventDefault(),e.stopPropagation(),this.openEditable())})),document.addEventListener("ACP_InlineEditing_Close",(()=>{this.Popper&&this.Editable.close()}))}saveValue(e){this.Editable.toggleLoading(!0),this.getDataStorage().storeRevision(e).save().done((e=>{if(!e.success)return this.Editable.toggleLoading(!1),void this.Editable.setError(e.data.message);this.setValue(e.data),this.Editable.setValue(e.data.value).close(),this.Editable.toggleLoading(!1);let t={column:this.Cell.getName(),item:this.Cell.getObjectID(),value:e.data.value};document.dispatchEvent(new CustomEvent("ACP_InlineEditing_After_Save",{detail:t}))}))}openEditable(){this.InlineEdit.closeOpenEditables();let e=this.getPopperContainer();e.append(this.Editable.get()),this.popper=new po(this.getTargetElement(),e,{modifiers:{arrow:{element:".ac-edit-popper__caret"}}}),this.InlineEdit.openEditable(this.Editable),So.bind(),setTimeout((()=>this.Editable.focus()),200)}wrapCellContent(){let e=this.getEditableSettings(),t=document.createElement("span");for(this.Cell.getElement().classList.add(_o,`${_o}--${e.type}`),t.classList.add(Eo);this.Cell.getElement().firstChild;)t.appendChild(this.Cell.getElement().firstChild);this.Cell.getElement().append(t);let n=t.querySelectorAll(".row-actions");return n&&n.forEach((e=>{this.Cell.getElement().appendChild(e)})),t}undo(){this.getDataStorage().undo()&&this.getDataStorage().save().done((e=>{this.setValue(e.data),this.Editable.setValue(e.data.value)}))}redo(){this.getDataStorage().redo()&&this.getDataStorage().save().done((e=>{this.setValue(e.data),this.Editable.setValue(e.data.value)}))}clear(){this.getDataStorage().storeRevision("").save().done((e=>{this.setValue(e.data),this.Editable.setValue(e.data.value)}))}setCellValue(e){this.Cell.setValue(e)}setValue(e){let t=e.render_value;var n;e.fetch_remote?(this.getTargetElement().style.backgroundColor="#f2f093",(n=[e.id],Os.get(window.location.href,{params:{ac_action:"get_table_rows",ac_ids:n,_ajax_nonce:H().ajax_nonce}})).then((t=>{t.data.data.table_rows&&this.setCellValue(mo(t.data.data.table_rows[e.id],this.Cell.getSettings().name))}))):this.Cell.setValue(t)}valueUpdateVisual(){const e=this.getTargetElement();e&&(e.style.animation="acp-value-highlight .9s")}getTargetElement(){return this.Cell.getElement().querySelector(`.${Eo}`)}insertControls(){new dr(this).render(),this.Middleware.hasMediaActions()&&new hr(this).render(),this.moveActions()}moveActions(){const e=this.getEditableSettings();if(!e.hasOwnProperty("js")||!e.js.hasOwnProperty("selector"))return;let t=this.Cell.getElement().querySelector(e.js.selector),n=this.Cell.getElement().querySelector(".acp-ie-controls");t&&n&&B(n,t)}afterSetValue(){this.wrapCellContent(),this.valueUpdateVisual(),this.insertControls(),this.Cell.getElement().dispatchEvent(new CustomEvent("ACP_InlineEditing_After_SetValue")),yo().emitEvent("Edit.Inline.setValue",{cell:this})}destroyPopper(){document.querySelectorAll(".ac-edit-popper").forEach((e=>{e.remove()})),this.popper&&this.popper.destroy()}getPopperContainer(){return $o()}}class So{static bind(){document.addEventListener("keyup",So.escapeEvent),document.addEventListener("click",So.clickEvent),document.querySelectorAll(".select2-container--acs2").forEach((e=>{e.addEventListener("click",(e=>{e.stopPropagation()}))}))}static destroy(){document.removeEventListener("keyup",So.escapeEvent),document.removeEventListener("click",So.clickEvent)}static escapeEvent(e){"Escape"===e.key&&document.dispatchEvent(new CustomEvent("ACP_InlineEditing_Close"))}static clickEvent(e){e.target!==document.body&&(So.checkInvalidParentClasses(e.target)||document.dispatchEvent(new CustomEvent("ACP_InlineEditing_Close")))}static checkInvalidParentClasses(e){let t=!1;return["ac-edit-popper","mce-container","wp-editor-wrap","media-modal","select2-container","ui-datepicker","ui-datepicker-header","ui-datepicker-buttonpane"].map((n=>{e.classList.contains(n)&&(t=!0)})),!!t||!!e.parentElement&&So.checkInvalidParentClasses(e.parentElement)}}const $o=()=>{let e=document.createElement("div");return e.classList.add("ac-edit-popper"),e.insertAdjacentHTML("afterbegin",'<span class="ac-edit-popper__caret">'),document.body.append(e),e},xo=e=>{let t=e.split(/[_,\-]+/);return parseInt(t[t.length-1])};class ko{constructor(e,t,n,s,i){this.enabled=s,this.button=i,this.Editables=t,this.Table=e,this.Middleware=n,this.initialized=!1,this.openEditables=[],this.setTableClass(),this.addEvents(),this.initCells()}isEnabled(){return this.enabled}enable(){this.enabled=!0,this.storePreference(),this.setTableClass(),this.initCells()}indicateEditables(){const e=this.Table.getElement();e.classList.add("acp-ie-indicate"),setTimeout((()=>{e.classList.remove("acp-ie-indicate")}),1500)}disable(){this.enabled=!1,this.storePreference(),this.setTableClass()}setInitialised(e=!0){return this.initialized=e,this}isInitialised(){return this.initialized}setTableClass(){let e=this.Table.getElement();e.classList.add("acp-ie-table"),this.isEnabled()?(e.classList.add("acp-ie-enabled"),e.classList.remove("acp-ie-disabled")):(e.classList.add("acp-ie-disabled"),e.classList.remove("acp-ie-enabled"))}initCell(e){const t=e.getSettings(),n=t.getService(rr);if(!t||!n||!n.type||e.hasService("IEdit"))return;const s=this.Middleware.getInlineEditable(t),i=s.getEditable();i&&e.getService(or)&&e.setService("IEdit",new wo(this,e,s,i))}initRow(e){ur([e]).then((e=>{e.data.data.editable_values.forEach((e=>{let t=this.Table.Cells.get(e.id,e.column_name);t.hasService("dataStorage")||t.setService("dataStorage",new lr({column_name:t.getName(),id:t.getObjectID()})),this.initCell(t),t.hasService("IEdit")&&t.getService("IEdit").hasOwnProperty("Editable")&&t.getService("IEdit").Editable.setValue(e.value)}))}))}updateRowCells(e){Object.keys(this.Table.Columns.getColumns()).forEach((t=>{let n=this.Table.Cells.get((e=>{var t,n,s,i,r,o;const l=H();if(e.classList.contains("no-items"))return 0;if(e.dataset.id)return parseInt(e.dataset.id);let a=xo(e.id);if(!a){let t=e.querySelector(".check-column input[type=checkbox]");t&&(a=xo(t.id))}if(!a){let s=null===(t=e.parentElement)||void 0===t?void 0:t.querySelector(".edit a");if(s){let e=s.getAttribute("href");e&&(a=parseInt(null!==(n=(c=e).includes("?")?new URLSearchParams(c.split("?")[1]).get("id"):null)&&void 0!==n?n:""))}}var c;if(Number.isNaN(a)&&(null===(s=e.closest("table"))||void 0===s?void 0:s.classList.contains("users-network"))){let t=null!==(i=e.querySelector(".row-actions .edit a"))&&void 0!==i?i:null;if(t){let e=null!==(o=new URLSearchParams(null!==(r=t.href.split("?")[1])&&void 0!==r?r:"").get("user_id"))&&void 0!==o?o:l.current_user_id.toString();a=parseInt(e)}}return a=yo().filters.applyFilters("table_row_id",a,{row:e}),e.dataset.id=a.toString(),a})(e),t);n&&(n.setElement(((e,t)=>e.querySelector(`td.column-${t}`))(e,t)),n.hasService("IEdit")&&n.getService("IEdit").afterSetValue())}))}openEditable(e){this.openEditables.push(e)}closeOpenEditables(){this.openEditables.forEach((e=>{e.close()})),this.openEditables=[]}initCells(){!this.isInitialised()&&this.isEnabled()&&(this.Table.Cells.getAll().forEach((e=>this.initCell(e))),this.setInitialised())}storePreference(){!function(e){const t=H();Os.post(ajaxurl,ar({action:tr,method:"edit-state",value:e?1:0,list_screen:t.list_screen,layout:t.layout,_ajax_nonce:t.ajax_nonce}))}(this.isEnabled())}addEvents(){this.button.events.addListener("change",(e=>{e?(this.enable(),this.indicateEditables()):this.disable()})),document.addEventListener("ACP_InlineEditing_Close",(()=>this.closeOpenEditables())),jQuery(this.Table.getElement()).on("updated","tr",(e=>this.updateRowCells(e.target))),document.addEventListener("keydown",(e=>{"Escape"!==e.key&&"Esc"!==e.key||this.closeOpenEditables()}),!0)}}class Co{constructor(e){this.Table=e}updateSelectedCells(e,t=""){let n=this.Table.Selection.getIDs();0!==n.length&&this.getRows(n).done((n=>{if(!n.hasOwnProperty("data")||!n.data.hasOwnProperty("table_rows"))return;let s=n.data.table_rows;Object.keys(s).forEach((t=>{var n;null===(n=this.Table.Cells.get(parseInt(t),e))||void 0===n||n.setValue(mo(s[t],e))})),this.updateSelectedEditingCells(e,s,t)}))}updateSelectedEditingCells(e,t,n){const s=H();let i=this.Table.Selection.getIDs();0!==i.length&&jQuery.ajax({url:ajaxurl,method:"post",data:{action:tr,method:nr,ids:i,column:e,list_screen:s.list_screen,layout:s.layout,_ajax_nonce:s.ajax_nonce}}).done((s=>{s.data.editable_values.forEach((s=>{var i;if(s.column_name!==e)return;let r=this.Table.Cells.get(s.id,e),o=null!==(i=null==r?void 0:r.getService("IEdit"))&&void 0!==i?i:null;null==r||r.setValue(mo(t[s.id],s.column_name)),o&&(null==r||r.getService(or).storeRevision(n),o.Editable.setValue(s.value))}))}))}getRows(e){return jQuery.ajax({url:window.location.href,data:{ac_action:"get_table_rows",ac_ids:e,_ajax_nonce:H().ajax_nonce}})}}class To{constructor(e,t,n,s){this.Editables=e,this.settings=t,this.column=n,this.mode=s,this.args={mode:s},this.map()}getEditable(){return null}getArgs(){return this.args}hasMediaActions(){return!1}map(){}}class Lo extends To{getEditable(){return this.Editables.get("text")}map(){return this.mapHTMLAttributes(this.settings),this.args}mapHTMLAttributes(e){let t={};e.hasOwnProperty("required")&&(t.required=e.required),e.hasOwnProperty("placeholder")&&null!==e.placeholder&&(t.placeholder=e.placeholder),e.hasOwnProperty("range_max")&&(t.max=e.range_max),e.hasOwnProperty("range_min")&&(t.min=e.range_min),e.hasOwnProperty("range_step")&&(t.step=e.range_step),e.hasOwnProperty("maxlength")&&(t.maxlength=e.maxlength),e.hasOwnProperty("rows")&&(t.rows=e.rows),this.args.html_attributes=t}}class Oo extends Lo{map(){return super.map(),this.args.html_attributes.type="email",this.args}}class Ao extends Lo{map(){return super.map(),this.args.html_attributes.type="number",this.args}}class jo extends Lo{map(){return super.map(),this.args.html_attributes.type="url",this.args}}class Ro extends Lo{getEditable(){return this.Editables.get("textarea")}}class Io extends Lo{map(){return super.map(),this.args.html_attributes.type="number",this.args.html_attributes.step="any",this.args}}class qo extends Lo{map(){return super.map(),this.args.html_attributes.type="password",this.args}}class Po extends To{getEditable(){return this.Editables.get("color")}map(){return this.settings.palettes&&(this.args.palettes=this.settings.palettes),this.args}}class No extends To{getEditable(){return this.Editables.get("wysiwyg")}map(){return this.args}}class Bo extends To{getEditable(){return this.Editables.get("date")}map(){return this.args.saveOnSelect=this.mode===ir,this.args.showbuttons=!1,this.args}}class Mo extends To{map(){return this.args.timeformat=this.settings.timeformat,this.args}getEditable(){return this.Editables.get("date_time")}}class Do extends To{map(){return this.args.options=(e=>{let t=[];if(void 0===e)return t;for(let n=0;n<e.length;n++){let s;if(void 0!==e[n].options){s={text:e[n].label,children:[]};for(let t in e[n].options)e[n].options.hasOwnProperty(t)&&s.children.push({value:e[n].options[t].value,id:e[n].options[t].value,text:e[n].options[t].label})}else s={value:e[n].value,id:e[n].value,text:e[n].label};t.push(s)}return t})(this.settings.options),this.args}getEditable(){return this.Editables.get("checklist")}}class Fo extends To{getEditable(){return this.Editables.get("select")}map(){return this.args.options=this.settings.options,this.args}}class Ho extends To{getEditable(){return this.Editables.get("toggle")}map(){return this.args.options=this.settings.options,this.args.shortroute=this.mode!==sr,this.args}flattenOptionArray(e){let t=[];return e.forEach((e=>{t.push(e.label)})),t}}class Vo extends To{getEditable(){return this.Editables.get("composite")}map(){return this.args.layout=this.settings.layout,this.args.fields=this.settings.fields,this.args}}class Uo extends To{getEditable(){var e,t;return 1==(!0===this.args.ajax)?this.settings.multiple?(null===(e=this.settings)||void 0===e?void 0:e.has_methods)?this.Editables.get("select2_ajax_strategy"):this.Editables.get("select2_ajax_multiple"):this.Editables.get("select2_ajax"):this.settings.multiple?(null===(t=this.settings)||void 0===t?void 0:t.has_methods)?this.Editables.get("select2_multiple_strategy"):this.Editables.get("select2_multiple"):this.Editables.get("select2")}map(){this.args.select2={width:320,theme:"acs2",escapeMarkup:e=>jQuery("<div>"+e+"</div>").text()},this.settings.ajax_populate?(this.args.select2.ajax=this.mapAjax(),this.args.ajax=!0):this.args.options=this.settings.options,this.settings.multiple?(this.args.select2.multiple=!0,this.args.select2.closeOnSelect=!1):this.mode===ir&&(this.args.saveOnSelect=!0,this.args.showbuttons=!1),this.settings.tags&&(this.args.select2.tags=!0)}mapAjax(){const e=H(),t=this.column.name,n=this.mode===sr?"bulk-select-values":"inline-select-values";return{url:ajaxurl,dataType:"json",delay:500,data:function(s){let i={action:tr,method:n,layout:e.layout,searchterm:s.term,page:s.page,column:t,list_screen:e.list_screen,_ajax_nonce:e.ajax_nonce};return this[0].dataset.hasOwnProperty("objectId")&&(i.item_id=this[0].dataset.objectId),i},processResults:function(e){return e.success?e.data:{results:[]}}}}}class Wo extends To{getEditable(){return this.Editables.get("select2_remote")}map(){this.args.column=this.column.name,this.args.select2={width:320,theme:"acs2",escapeMarkup:e=>jQuery("<div>"+e+"</div>").text()}}}class zo extends Uo{getEditable(){return this.Editables.get("taxonomy")}}class Qo extends To{getEditable(){return this.Editables.get("wp_library")}map(){return this.args.showbuttons=this.mode===sr,this.args.multiple=!(!this.settings.hasOwnProperty("multiple")||!this.settings.multiple),this.settings.hasOwnProperty("attachment")&&this.settings.attachment.hasOwnProperty("library")&&(this.args.library=this.settings.attachment.library),this.args}hasMediaActions(){return!0}}class Jo extends To{getEditable(){return this.Editables.get("gallery")}map(){return this.args}}class Go extends To{getEditable(){return this.Editables.get("wp_password")}map(){super.map(),this.args.placeholder=this.settings.placeholder||""}}class Yo extends To{getEditable(){return this.Editables.get("multi_input")}map(){return this.args.subtype=this.settings.subtype,this.args}}class Ko extends To{getEditable(){return this.Editables.get("fullname")}map(){return this.args.placeholder_first_name=this.settings.placeholder_first_name,this.args.placeholder_last_name=this.settings.placeholder_last_name,this.args}}class Xo extends To{getEditable(){return this.Editables.get("number_extended")}map(){return this.mapHTMLAttributes(this.settings),this.args}mapHTMLAttributes(e){let t={type:"number"};e.hasOwnProperty("range_max")&&(t.max=e.range_max),e.hasOwnProperty("range_min")&&(t.min=e.range_min),e.hasOwnProperty("range_step")&&(t.step=e.range_step),this.args.html_attributes=t}}class Zo extends To{getEditable(){return this.Editables.get("internal_link")}map(){super.map(),this.args.placeholder=this.settings.placeholder||""}}class el{constructor(e,t){this.services=t,this.Editables=e,this.middleWareClasses={_abstract:To,default:Lo,text:Lo,internal_link:Zo,url:jo,number:Ao,number_extended:Xo,password:qo,wp_password:Go,email:Oo,checklist:Do,color:Po,gallery:Jo,select:Fo,select2_dropdown:Uo,select2_remote:Wo,date:Bo,date_time:Mo,textarea:Ro,togglable:Ho,attachment:Qo,media:Qo,float:Io,multi_input:Yo,types_multi_input:Yo,taxonomy:zo,wysiwyg:No,fullname:Ko,composite:Vo},this.services.emitEvent("Editing.Middleware.Ready",this)}register(e,t){return this.middleWareClasses[e]=t,this}getClass(e){return this.middleWareClasses.hasOwnProperty(e)?this.middleWareClasses[e]:this.middleWareClasses.default}getInlineEditable(e){const t=e.getService(rr),n=t.type;return new(this.middleWareClasses.hasOwnProperty(n)?this.middleWareClasses[n]:this.middleWareClasses.default)(this.Editables,t,e,ir)}getBulkEditable(e){let t=e.getService("bulkEditable"),n=t.type;return new(this.middleWareClasses.hasOwnProperty(n)?this.middleWareClasses[n]:this.middleWareClasses.default)(this.Editables,t,e,sr)}}class tl{constructor(){this.services={}}registerService(e,t){return this.services[e]=t,this}getService(e){return this.hasService(e)?this.services[e]:null}hasService(e){return this.services.hasOwnProperty(e)}}class nl extends(a()){updateCount(e){return this.emit("updateCount",e),this}emitError(e){this.emit("error",e)}onUpdateCount(e){return this.addListener("updateCount",e),this}finish(e,t){this.emit("finished",e,t)}onFinish(e){return this.addListener("finished",e),this}onError(e){return this.addListener("error",e),this}update(e,t){this.emit("update",e,t)}onUpdate(e){return this.addListener("update",e),this}}class sl{constructor(e,t,n){this.BulkSelection=e,this.perIteration=t,this.logger=n,this.events=new nl,this.ids=[],this.AbortController=new AbortController,this.BulkSelection.onUpdated((e=>{this.events.emit("updateCount",e.length)}))}setArguments(e){return this.args=e,this}getBulkSelection(){return this.BulkSelection}getLogger(){return this.logger}start(){return this.BulkSelection.getIDs().then((e=>{this.ids=e,this.events.emit("updateCount",this.ids.length),this.startThread()})),this}cancel(){this.BulkSelection.cancel(),this.AbortController.abort(),this.AbortController=new AbortController}startThread(){const e=H();this.events.emit("startThread");let t=this.ids.splice(0,this.perIteration);0!==t.length?Os.post(ajaxurl,ar({action:tr,method:"bulk-delete",layout:e.layout,ids:t,arguments:this.args,_ajax_nonce:e.ajax_nonce}),{signal:this.AbortController.signal}).then((e=>{switch(e.data.success){case!0:this.events.update(t,this.ids),this.logger.add(e.data.data.results),this.startThread();break;case!1:this.cancel(),this.events.emitError(e.data.data.message)}})).catch((e=>{this.cancel(),this.events.emitError(e.message)})):this.events.emit("finished")}}function il(e,t,n){const s=e.slice();return s[14]=t[n],s}function rl(e,t,n){const s=e.slice();return s[14]=t[n],s}function ol(e){let t,n,s,i,r,o,l,a,c,u,d=rt(e[2]),h=[];for(let t=0;t<d.length;t+=1)h[t]=ll(rl(e,d,t));return{c(){t=se("div"),n=se("div"),s=se("span"),i=re(),r=se("span"),o=ie(e[6]),l=re(),a=se("div");for(let e=0;e<h.length;e+=1)h[e].c();ue(r,"class","ac-bulk-log-link"),ue(r,"role","button"),ue(r,"tabindex","0"),ue(n,"class","ac-bulk-log__status"),ue(a,"class","ac-bulk-log__items"),be(a,"-visible",e[0]),ue(t,"class","ac-bulk-log")},m(d,p){ee(d,t,p),X(t,n),X(n,s),s.innerHTML=e[7],X(n,i),X(n,r),X(r,o),X(t,l),X(t,a);for(let e=0;e<h.length;e+=1)h[e]&&h[e].m(a,null);c||(u=le(r,"click",e[11]),c=!0)},p(e,t){if(128&t&&(s.innerHTML=e[7]),64&t&&pe(o,e[6]),4&t){let n;for(d=rt(e[2]),n=0;n<d.length;n+=1){const s=rl(e,d,n);h[n]?h[n].p(s,t):(h[n]=ll(s),h[n].c(),h[n].m(a,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=d.length}1&t&&be(a,"-visible",e[0])},d(e){e&&te(t),ne(h,e),c=!1,u()}}}function ll(e){let t,n,s,i,r,o=e[14].id+"",l=e[14].error+"";return{c(){t=se("div"),n=ie("ID: "),s=ie(o),i=ie(" - "),r=ie(l)},m(e,o){ee(e,t,o),X(t,n),X(t,s),X(t,i),X(t,r)},p(e,t){4&t&&o!==(o=e[14].id+"")&&pe(s,o),4&t&&l!==(l=e[14].error+"")&&pe(r,l)},d(e){e&&te(t)}}}function al(e){let t,n,s,i,r,o,l,a,c,u,d=rt(e[3]),h=[];for(let t=0;t<d.length;t+=1)h[t]=cl(il(e,d,t));return{c(){t=se("div"),n=se("div"),s=se("span"),i=re(),r=se("span"),o=ie(e[4]),l=re(),a=se("div");for(let e=0;e<h.length;e+=1)h[e].c();ue(r,"class","ac-bulk-log-link"),ue(r,"role","button"),ue(r,"tabindex","0"),ue(n,"class","ac-bulk-log__status"),ue(a,"class","ac-bulk-log__items"),be(a,"-visible",e[1]),ue(t,"class","ac-bulk-log")},m(d,p){ee(d,t,p),X(t,n),X(n,s),s.innerHTML=e[5],X(n,i),X(n,r),X(r,o),X(t,l),X(t,a);for(let e=0;e<h.length;e+=1)h[e]&&h[e].m(a,null);c||(u=le(r,"click",e[12]),c=!0)},p(e,t){if(32&t&&(s.innerHTML=e[5]),16&t&&pe(o,e[4]),8&t){let n;for(d=rt(e[3]),n=0;n<d.length;n+=1){const s=il(e,d,n);h[n]?h[n].p(s,t):(h[n]=cl(s),h[n].c(),h[n].m(a,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=d.length}2&t&&be(a,"-visible",e[1])},d(e){e&&te(t),ne(h,e),c=!1,u()}}}function cl(e){let t,n,s,i,r,o=e[14].id+"",l=e[14].error+"";return{c(){t=se("div"),n=ie("ID: "),s=ie(o),i=ie(" - "),r=ie(l)},m(e,o){ee(e,t,o),X(t,n),X(t,s),X(t,i),X(t,r)},p(e,t){8&t&&o!==(o=e[14].id+"")&&pe(s,o),8&t&&l!==(l=e[14].error+"")&&pe(r,l)},d(e){e&&te(t)}}}function ul(e){let t,n,s=e[2].length>0&&ol(e),i=e[3].length>0&&al(e);return{c(){t=se("div"),s&&s.c(),n=re(),i&&i.c(),be(t,"-active",e[2].length>0||e[3].length>0)},m(e,r){ee(e,t,r),s&&s.m(t,null),X(t,n),i&&i.m(t,null)},p(e,[r]){e[2].length>0?s?s.p(e,r):(s=ol(e),s.c(),s.m(t,n)):s&&(s.d(1),s=null),e[3].length>0?i?i.p(e,r):(i=al(e),i.c(),i.m(t,null)):i&&(i.d(1),i=null),12&r&&be(t,"-active",e[2].length>0||e[3].length>0)},i:_e,o:_e,d(e){e&&te(t),s&&s.d(),i&&i.d()}}}function dl(e,t,n){let s,i,r,o,{logger:l}=t,a=S(),c=[],u=0,d=!1,h=[],p=0,m=!1;return qe((()=>{l.onUpdated((()=>{n(2,c=l.getErrors()),n(9,u=c.length),n(3,h=l.getNotEditable()),n(10,p=h.length)}))})),e.$$set=e=>{"logger"in e&&n(8,l=e.logger)},e.$$.update=()=>{512&e.$$.dirty&&n(7,s=a.bulk_edit.feedback.error.replace("{0}",`<span class="ac-bulk-log__status__count">${u} errors </span>`)),1&e.$$.dirty&&n(6,i=d?a.bulk_edit.feedback.hide_items:a.bulk_edit.feedback.show_items),1024&e.$$.dirty&&n(5,r=a.bulk_edit.feedback.error.replace("{0}",`<span class="ac-bulk-log__status__count -medium">${p} unmodifiable items</span>`)),2&e.$$.dirty&&n(4,o=m?a.bulk_edit.feedback.hide_items:a.bulk_edit.feedback.show_items)},[d,m,c,h,o,r,i,s,l,u,p,()=>n(0,d=!d),()=>n(1,m=!m)]}const hl=class extends pt{constructor(e){super(),dt(this,e,dl,ul,xe,{logger:8})}};function pl(e){let t,n,s;return{c(){t=ie(e[6]),n=ie(" (100%)\n\t\t\t"),s=se("span"),ue(s,"class","dashicons dashicons-yes")},m(e,i){ee(e,t,i),ee(e,n,i),ee(e,s,i)},p(e,n){64&n&&pe(t,e[6])},d(e){e&&(te(t),te(n),te(s))}}}function ml(e){let t;return{c(){t=ie(e[6])},m(e,n){ee(e,t,n)},p(e,n){64&n&&pe(t,e[6])},d(e){e&&te(t)}}}function fl(e){let t,n,s,i=e[7].failed+"";return{c(){t=ie(i),n=re(),s=se("span"),ue(s,"class","dashicons dashicons-no acu-text-notification-red")},m(e,i){ee(e,t,i),ee(e,n,i),ee(e,s,i)},p:_e,d(e){e&&(te(t),te(n),te(s))}}}function gl(e){let t,n,s;return{c(){t=se("div"),n=se("em"),s=ie(e[1]),ue(t,"class","acu-mb-3")},m(e,i){ee(e,t,i),X(t,n),X(n,s)},p(e,t){2&t&&pe(s,e[1])},d(e){e&&te(t)}}}function bl(e){let t,n,s;return{c(){t=se("button"),t.textContent=`${e[7].cancel}`,ue(t,"class","button button-primary")},m(i,r){ee(i,t,r),n||(s=le(t,"click",e[8]),n=!0)},p:_e,d(e){e&&te(t),n=!1,s()}}}function vl(e){let t,n,s;return{c(){t=se("button"),t.textContent=`${e[7].done}`,ue(t,"class","button button-primary")},m(i,r){ee(i,t,r),n||(s=le(t,"click",e[9]),n=!0)},p:_e,d(e){e&&te(t),n=!1,s()}}}function yl(e){let t,n,s,i,r,o,l,a,c,u,d,h,p;function m(t){e[16](t)}function f(t){e[17](t)}let g={};function b(e,t){return e[0]?fl:e[2]?pl:ml}void 0!==e[3]&&(g.start=e[3]),void 0!==e[4]&&(g.stop=e[4]),s=new Ni({props:g}),De.push((()=>lt(s,"start",m))),De.push((()=>lt(s,"stop",f)));let v=b(e),y=v(e);c=new ji({props:{percentage:e[5],finished:e[2],error:e[0]}});let _=e[0]&&gl(e);function E(e,t){return e[2]||_l?vl:bl}let w=E(e),S=w(e);return{c(){t=se("div"),n=se("div"),at(s.$$.fragment),o=re(),l=se("div"),y.c(),a=re(),at(c.$$.fragment),u=re(),_&&_.c(),d=re(),h=se("div"),S.c(),ue(n,"class",""),ue(l,"class","acu-grow"),ue(t,"class","acu-flex acu-flex-row-reverse")},m(e,i){ee(e,t,i),X(t,n),ct(s,n,null),X(t,o),X(t,l),y.m(l,null),ee(e,a,i),ct(c,e,i),ee(e,u,i),_&&_.m(e,i),ee(e,d,i),ee(e,h,i),S.m(h,null),p=!0},p(e,[t]){const n={};!i&&8&t&&(i=!0,n.start=e[3],Qe((()=>i=!1))),!r&&16&t&&(r=!0,n.stop=e[4],Qe((()=>r=!1))),s.$set(n),v===(v=b(e))&&y?y.p(e,t):(y.d(1),y=v(e),y&&(y.c(),y.m(l,null)));const o={};32&t&&(o.percentage=e[5]),4&t&&(o.finished=e[2]),1&t&&(o.error=e[0]),c.$set(o),e[0]?_?_.p(e,t):(_=gl(e),_.c(),_.m(d.parentNode,d)):_&&(_.d(1),_=null),w===(w=E(e))&&S?S.p(e,t):(S.d(1),S=w(e),S&&(S.c(),S.m(h,null)))},i(e){p||(st(s.$$.fragment,e),st(c.$$.fragment,e),p=!0)},o(e){it(s.$$.fragment,e),it(c.$$.fragment,e),p=!1},d(e){e&&(te(t),te(a),te(u),te(d),te(h)),ut(s),y.d(),ut(c,e),_&&_.d(e),S.d()}}}let _l=!1;function El(e,t,n){let s,i,r,o;const l=Ne();let a,c,{processor:u}=t,d=!1,h="",p=!1,m=S(),f=0,g=0,b=0;return qe((()=>{a();const e=u.events;e.onUpdateCount((e=>n(11,f=e))),e.onFinish((()=>{n(2,p=!0),c()})),e.onUpdate(((e,t)=>{n(12,g=f-t.length),n(5,b=Math.ceil(g/f*100))})),e.onError((e=>{c(),n(0,d=!0),n(1,h=e),n(2,p=!0),n(5,b=100)}))})),e.$$set=e=>{"processor"in e&&n(10,u=e.processor)},e.$$.update=()=>{4096&e.$$.dirty&&n(15,s=(new Intl.NumberFormat).format(g)),2048&e.$$.dirty&&n(14,i=(new Intl.NumberFormat).format(f)),49152&e.$$.dirty&&n(13,r=`${s} / ${i}`),8192&e.$$.dirty&&n(6,o=m.bulk_delete.finished.replace("{0}",r))},[d,h,p,a,c,b,o,m,()=>{c(),n(2,p=!0),l("cancel")},()=>l("close"),u,f,g,r,i,s,function(e){a=e,n(3,a)},function(e){c=e,n(4,c)}]}const wl=class extends pt{constructor(e){super(),dt(this,e,El,yl,xe,{processor:10})}};function Sl(e){let t,n,s,i,r,o,l,a,c,u,d,h,p;return{c(){t=se("div"),n=se("span"),s=re(),i=se("em"),r=ie(e[3]),o=re(),l=se("div"),a=se("span"),c=ie(e[2]),u=re(),d=se("span"),d.textContent=`${e[4].cancel}`,ue(n,"class","acp-be-confirm__caret"),ue(i,"class","acp-be-confirm__info"),ue(a,"class","acp-be-confirm__controls__link -confirm"),ue(a,"role","button"),ue(a,"tabindex","0"),ue(d,"class","acp-be-confirm__controls__link -cancel"),ue(d,"role","button"),ue(d,"tabindex","0"),ue(l,"class","acp-be-confirm__controls"),ue(t,"class","acp-be-confirm -v2 -delete"),fe(t,"position","fixed"),fe(t,"top",e[0]+"px"),fe(t,"left",e[1]+"px"),fe(t,"transform","translateX(-50%)")},m(m,f){ee(m,t,f),X(t,n),X(t,s),X(t,i),X(i,r),X(t,o),X(t,l),X(l,a),X(a,c),X(l,u),X(l,d),h||(p=[le(a,"click",e[5]),le(d,"click",e[6])],h=!0)},p(e,[n]){8&n&&pe(r,e[3]),4&n&&pe(c,e[2]),1&n&&fe(t,"top",e[0]+"px"),2&n&&fe(t,"left",e[1]+"px")},i:_e,o:_e,d(e){e&&te(t),h=!1,Se(p)}}}function $l(e,t,n){let s,i;const r=Ne();let{target:o}=t,{mode:l=""}=t,a=S();const c=()=>r("confirm");let u=0,d=0;const h=e=>{"Enter"===e.key&&c()};return qe((()=>{let e=o.getBoundingClientRect();n(0,u=Math.floor(e.y+e.height)),n(1,d=Math.floor(e.x+e.width/2)),document.addEventListener("keypress",h)})),Pe((()=>{document.removeEventListener("keypress",h)})),e.$$set=e=>{"target"in e&&n(7,o=e.target),"mode"in e&&n(8,l=e.mode)},e.$$.update=()=>{256&e.$$.dirty&&n(3,s="restore"===l?a.bulk_delete.confirmation_restore:a.bulk_delete.confirmation),256&e.$$.dirty&&n(2,i="restore"===l?a.bulk_delete.yes_restore:a.bulk_delete.yes_delete)},[u,d,i,s,a,c,()=>r("cancel"),o,l]}const xl=class extends pt{constructor(e){super(),dt(this,e,$l,Sl,xe,{target:7,mode:8})}};function kl(e){let t,n;return{c(){t=se("span"),n=ie(e[8]),ue(t,"slot","header")},m(e,s){ee(e,t,s),X(t,n)},p(e,t){256&t&&pe(n,e[8])},d(e){e&&te(t)}}}function Cl(e){let t,n,s,i,r;function o(t){e[22](t)}function l(t){e[23](t)}var a=e[1];function c(e,t){let n={};return void 0!==e[5]&&(n.args=e[5]),void 0!==e[2]&&(n.buttonLabel=e[2]),{props:n}}return a&&(n=ye(a,c(e)),De.push((()=>lt(n,"args",o))),De.push((()=>lt(n,"buttonLabel",l)))),{c(){t=se("div"),n&&at(n.$$.fragment)},m(e,s){ee(e,t,s),n&&ct(n,t,null),r=!0},p(e,r){if(2&r&&a!==(a=e[1])){if(n){tt();const e=n;it(e.$$.fragment,1,0,(()=>{ut(e,1)})),nt()}a?(n=ye(a,c(e)),De.push((()=>lt(n,"args",o))),De.push((()=>lt(n,"buttonLabel",l))),at(n.$$.fragment),st(n.$$.fragment,1),ct(n,t,null)):n=null}else if(a){const t={};!s&&32&r&&(s=!0,t.args=e[5],Qe((()=>s=!1))),!i&&4&r&&(i=!0,t.buttonLabel=e[2],Qe((()=>i=!1))),n.$set(t)}},i(e){r||(n&&st(n.$$.fragment,e),r=!0)},o(e){n&&it(n.$$.fragment,e),r=!1},d(e){e&&te(t),n&&ut(n)}}}function Tl(e){let t,n,s=!e[3]&&Cl(e);return{c(){s&&s.c(),t=oe()},m(e,i){s&&s.m(e,i),ee(e,t,i),n=!0},p(e,n){e[3]?s&&(tt(),it(s,1,1,(()=>{s=null})),nt()):s?(s.p(e,n),8&n&&st(s,1)):(s=Cl(e),s.c(),st(s,1),s.m(t.parentNode,t))},i(e){n||(st(s),n=!0)},o(e){it(s),n=!1},d(e){e&&te(t),s&&s.d(e)}}}function Ll(e){let t,n,s,i,r,o,l,a,c;return{c(){t=se("div"),n=se("div"),s=se("em"),i=re(),r=se("div"),o=se("button"),l=ie(e[2]),ue(n,"class","ac-modal-footer-actions__info"),ue(o,"class","button button-primary"),ue(r,"class","ac-modal-footer-actions__buttons"),ue(t,"class","ac-modal-footer-actions")},m(u,d){ee(u,t,d),X(t,n),X(n,s),s.innerHTML=e[10],X(t,i),X(t,r),X(r,o),X(o,l),e[20](o),a||(c=le(o,"click",e[12]),a=!0)},p(e,t){1024&t&&(s.innerHTML=e[10]),4&t&&pe(l,e[2])},i:_e,o:_e,d(n){n&&te(t),e[20](null),a=!1,c()}}}function Ol(e){let t,n;return t=new wl({props:{processor:e[0]}}),t.$on("cancel",e[11]),t.$on("close",e[19]),{c(){at(t.$$.fragment)},m(e,s){ct(t,e,s),n=!0},p(e,n){const s={};1&n&&(s.processor=e[0]),t.$set(s)},i(e){n||(st(t.$$.fragment,e),n=!0)},o(e){it(t.$$.fragment,e),n=!1},d(e){ut(t,e)}}}function Al(e){let t,n;return t=new xl({props:{target:e[6],mode:e[9]}}),t.$on("confirm",e[13]),t.$on("cancel",e[21]),{c(){at(t.$$.fragment)},m(e,s){ct(t,e,s),n=!0},p(e,n){const s={};64&n&&(s.target=e[6]),512&n&&(s.mode=e[9]),t.$set(s)},i(e){n||(st(t.$$.fragment,e),n=!0)},o(e){it(t.$$.fragment,e),n=!1},d(e){ut(t,e)}}}function jl(e){let t,n,s,i,r,o,l;const a=[Ol,Ll],c=[];function u(e,t){return e[3]?0:1}t=u(e),n=c[t]=a[t](e),i=new hl({props:{logger:e[0].getLogger()}});let d=e[4]&&Al(e);return{c(){n.c(),s=re(),at(i.$$.fragment),r=re(),d&&d.c(),o=oe()},m(e,n){c[t].m(e,n),ee(e,s,n),ct(i,e,n),ee(e,r,n),d&&d.m(e,n),ee(e,o,n),l=!0},p(e,r){let l=t;t=u(e),t===l?c[t].p(e,r):(tt(),it(c[l],1,1,(()=>{c[l]=null})),nt(),n=c[t],n?n.p(e,r):(n=c[t]=a[t](e),n.c()),st(n,1),n.m(s.parentNode,s));const h={};1&r&&(h.logger=e[0].getLogger()),i.$set(h),e[4]?d?(d.p(e,r),16&r&&st(d,1)):(d=Al(e),d.c(),st(d,1),d.m(o.parentNode,o)):d&&(tt(),it(d,1,1,(()=>{d=null})),nt())},i(e){l||(st(n),st(i.$$.fragment,e),st(d),l=!0)},o(e){it(n),it(i.$$.fragment,e),it(d),l=!1},d(e){e&&(te(s),te(r),te(o)),c[t].d(e),ut(i,e),d&&d.d(e)}}}function Rl(e){let t,n;return t=new Li({props:{visible:!0,disableScroll:!0,className:"-bulkdelete",disableClose:!e[7],hideContent:e[3],$$slots:{footer:[jl],content:[Tl],header:[kl]},$$scope:{ctx:e}}}),t.$on("close",e[14]),{c(){at(t.$$.fragment)},m(e,s){ct(t,e,s),n=!0},p(e,[n]){const s={};128&n&&(s.disableClose=!e[7]),8&n&&(s.hideContent=e[3]),67110783&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(st(t.$$.fragment,e),n=!0)},o(e){it(t.$$.fragment,e),n=!1},d(e){ut(t,e)}}}function Il(e,t,n){let s,i,r,o,l,a,{Processor:c}=t,{closeHandler:u}=t,{numberItems:d="1"}=t,{argumentComponent:h=null}=t,p=S(),m=p.delete,f=!1,g=!1,b={},v=!0;const y=(e=!1)=>{c.cancel(),"function"==typeof u&&u(e)};return e.$$set=e=>{"Processor"in e&&n(0,c=e.Processor),"closeHandler"in e&&n(16,u=e.closeHandler),"numberItems"in e&&n(17,d=e.numberItems),"argumentComponent"in e&&n(1,h=e.argumentComponent)},e.$$.update=()=>{131072&e.$$.dirty&&n(18,s="1"==d?p.bulk_selection.item:"all"==d?p.bulk_selection.all_items:p.bulk_selection.items.replace("{0}",d)),262144&e.$$.dirty&&n(10,i=p.bulk_selection.affected_items.replace("{0}","<strong>"+s+"</strong>")),4&e.$$.dirty&&n(9,r=m===p.bulk_delete.restore?"restore":"delete"),4&e.$$.dirty&&n(8,o=m===p.bulk_delete.restore?p.bulk_delete.bulk_restore:p.bulk_delete.bulk_delete)},[c,h,m,f,g,b,l,v,o,r,i,()=>{c.cancel(),n(7,v=!0),a=!0},()=>{n(4,g=!0)},()=>{n(7,v=!1),n(3,f=!0),n(4,g=!1),c.setArguments(b).start()},()=>{if(!v)return!1;y()},y,u,d,s,()=>y(!0),function(e){De[e?"unshift":"push"]((()=>{l=e,n(6,l)}))},()=>n(4,g=!1),function(e){b=e,n(5,b)},function(e){m=e,n(2,m)}]}const ql=class extends pt{constructor(e){super(),dt(this,e,Il,Rl,xe,{Processor:0,closeHandler:16,numberItems:17,argumentComponent:1})}},Pl=()=>acp_editing;function Nl(e){let t,n,s,i,r,o,l,a,c,u,d,h,p,m,f,g,b,v,y,_,E,w,S,$,x,k,C=e[3].bulk_delete.assignment_to+"",T=e[4].reassign_user_name+"",L=e[3].bulk_delete.delete_all_content+"";return $=de(e[7][0]),{c(){t=se("div"),n=se("p"),n.textContent=`${e[3].bulk_delete.user_assignment_description}`,s=re(),i=se("div"),r=se("div"),o=se("label"),l=se("input"),c=re(),u=ie(C),d=re(),h=se("div"),p=se("select"),m=se("option"),f=ie(T),b=re(),v=se("div"),y=se("label"),_=se("input"),w=re(),S=ie(L),ue(n,"class","acp-bd-description"),ue(l,"type","radio"),l.__value=a=2,me(l,l.__value),m.__value=g=e[4].reassign_user_id,me(m,m.__value),ue(i,"class","acp-bd-user-assignment"),ue(_,"type","radio"),_.__value=E=1,me(_,_.__value),fe(v,"margin-bottom","5px"),$.p(l,_)},m(a,g){ee(a,t,g),X(t,n),X(t,s),X(t,i),X(i,r),X(r,o),X(o,l),l.checked=l.__value===e[1],X(o,c),X(o,u),X(i,d),X(i,h),X(h,p),X(p,m),X(m,f),e[8](p),X(t,b),X(t,v),X(v,y),X(y,_),_.checked=_.__value===e[1],X(y,w),X(y,S),x||(k=[le(l,"change",e[6]),le(l,"click",e[5]),le(_,"change",e[9]),le(_,"click",e[10])],x=!0)},p(e,[t]){2&t&&(l.checked=l.__value===e[1]),2&t&&(_.checked=_.__value===e[1])},i:_e,o:_e,d(n){n&&te(t),e[8](null),$.r(),x=!1,Se(k)}}}function Bl(e,t,n){let s,{args:i={}}=t,r=2,o=S(),l=Pl().bulk_delete;const a=()=>{i.hasOwnProperty("reassign_user")&&null!==i.reassign_user||n(0,i.reassign_user=l.reassign_user_id,i)};return qe((()=>{a(),setTimeout((()=>{jQuery(s).ac_select2({width:250,theme:"acs2",escapeMarkup:e=>jQuery("<div>"+e+"</div>").text(),ajax:{url:ajaxurl,dataType:"json",delay:500,data:e=>({action:"acp_editing_request",method:"delete-user-select-values",searchterm:e.term,page:e.page,_ajax_nonce:H().ajax_nonce}),processResults:e=>e.success?e.data:{results:[]}}}),jQuery(s).on("select2:select",(e=>{n(0,i.reassign_user=s.value,i),n(1,r=2)}))}),100)})),e.$$set=e=>{"args"in e&&n(0,i=e.args)},[i,r,s,o,l,a,function(){r=this.__value,n(1,r)},[[]],function(e){De[e?"unshift":"push"]((()=>{s=e,n(2,s),n(4,l)}))},function(){r=this.__value,n(1,r)},()=>n(0,i.reassign_user=null,i)]}const Ml=class extends pt{constructor(e){super(),dt(this,e,Bl,Nl,xe,{args:0})}};function Dl(e){let t,n,s,i,r,o,l,a,c,u,d,h,p,m,f,g,b,v=e[1].bulk_delete.move_to_trash+"",y=e[1].bulk_delete.delete_items_permanently+"";return f=de(e[3][0]),{c(){t=se("div"),n=se("div"),s=se("label"),i=se("input"),o=re(),l=ie(v),a=re(),c=se("div"),u=se("label"),d=se("input"),p=re(),m=ie(y),ue(i,"type","radio"),i.__value=r=!1,me(i,i.__value),fe(n,"margin-bottom","10px"),ue(d,"type","radio"),d.__value=h=!0,me(d,d.__value),f.p(i,d)},m(r,h){ee(r,t,h),X(t,n),X(n,s),X(s,i),i.checked=i.__value===e[0].force_delete,X(s,o),X(s,l),X(t,a),X(t,c),X(c,u),X(u,d),d.checked=d.__value===e[0].force_delete,X(u,p),X(u,m),g||(b=[le(i,"change",e[2]),le(d,"change",e[4])],g=!0)},p(e,[t]){1&t&&(i.checked=i.__value===e[0].force_delete),1&t&&(d.checked=d.__value===e[0].force_delete)},i:_e,o:_e,d(e){e&&te(t),f.r(),g=!1,Se(b)}}}function Fl(e,t,n){let{args:s={}}=t,i=S();return qe((()=>{n(0,s={force_delete:!1})})),e.$$set=e=>{"args"in e&&n(0,s=e.args)},[s,i,function(){s.force_delete=this.__value,n(0,s)},[[]],function(){s.force_delete=this.__value,n(0,s)}]}const Hl=class extends pt{constructor(e){super(),dt(this,e,Fl,Dl,xe,{args:0})}};function Vl(e){let t;return{c(){t=se("div"),t.textContent=`${e[0].bulk_delete.delete_selected_items_permanently}`},m(e,n){ee(e,t,n)},p:_e,i:_e,o:_e,d(e){e&&te(t)}}}function Ul(e){return[S()]}const Wl=class extends pt{constructor(e){super(),dt(this,e,Ul,Vl,xe,{})}};function zl(e){let t,n,s,i,r,o,l,a,c,u,d,h,p,m,f,g=e[1].bulk_delete.restore_items+"",b=e[1].bulk_delete.delete_items_permanently+"";return p=de(e[6][0]),{c(){t=se("div"),n=se("div"),s=se("label"),i=se("input"),r=re(),o=ie(g),l=re(),a=se("div"),c=se("label"),u=se("input"),d=re(),h=ie(b),ue(i,"type","radio"),i.__value="restore",me(i,i.__value),fe(n,"margin-bottom","10px"),ue(u,"type","radio"),u.__value="purge",me(u,u.__value),p.p(i,u)},m(p,g){ee(p,t,g),X(t,n),X(n,s),X(s,i),i.checked=i.__value===e[0],X(s,r),X(s,o),X(t,l),X(t,a),X(a,c),X(c,u),u.checked=u.__value===e[0],X(c,d),X(c,h),m||(f=[le(i,"change",e[5]),le(i,"change",e[2]),le(u,"change",e[7]),le(u,"change",e[2])],m=!0)},p(e,[t]){1&t&&(i.checked=i.__value===e[0]),1&t&&(u.checked=u.__value===e[0])},i:_e,o:_e,d(e){e&&te(t),p.r(),m=!1,Se(f)}}}function Ql(e,t,n){let{args:s={}}=t,{buttonLabel:i}=t,r=S(),o="purge";const l=()=>{"purge"===o?(n(3,s.force_delete=!0,s),n(3,s.restore=!1,s),n(4,i=r.delete)):(n(3,s.force_delete=!1,s),n(3,s.restore=!0,s),n(4,i=r.bulk_delete.restore))};return qe((()=>{n(3,s={force_delete:!0,restore:!1}),l()})),e.$$set=e=>{"args"in e&&n(3,s=e.args),"buttonLabel"in e&&n(4,i=e.buttonLabel)},[o,r,l,s,i,function(){o=this.__value,n(0,o)},[[]],function(){o=this.__value,n(0,o)}]}const Jl=class extends pt{constructor(e){super(),dt(this,e,Ql,zl,xe,{args:3,buttonLabel:4})}};class Gl{constructor(e,t,n){this.BulkActionRow=e,this.Processor=t,this.modalComponent=n,this.init()}init(){let e=s.create("a").addClass("ac-link").addHtml('<span class="dashicons dashicons-trash"></span>').addEventListener("click",(()=>this.startBulkDelete()));this.BulkActionRow.getRow().getElement().querySelectorAll(".column-cb").forEach((t=>t.appendChild(e.getElement())))}destroyComponent(){null!==this.componentContainer&&(this.component.$destroy(),this.componentContainer.remove())}getModalComponent(){switch(this.modalComponent){case"user":return Ml;case"post":case"comment":return Hl;case"trash":return Jl;default:return Wl}}startBulkDelete(){this.componentContainer=document.createElement("div"),document.body.appendChild(this.componentContainer),this.component=new ql({target:this.componentContainer,props:{argumentComponent:this.getModalComponent(),Processor:this.Processor,numberItems:this.Processor.getBulkSelection().isPaginatedSelected()?"all":this.Processor.getBulkSelection().getCount(),closeHandler:(e=!1)=>{this.destroyComponent(),e&&location.reload()}}})}}class Yl{constructor(){this.clear(),this.events=new(a())}getErrors(){return this.data.filter((e=>"failed"===e.status))}getInvalid(){return this.data.filter((e=>"not_editable"===e.status))}getNotEditable(){return this.data.filter((e=>"not_editable"===e.status))}hasError(){return this.getErrors().length>0}hasNotEditable(){return this.getNotEditable().length>0}onUpdated(e){this.events.addListener("updated",e)}add(e){this.data=[...this.data,...e],this.events.emit("updated",e)}clear(){return this.data=[],this}}class Kl{constructor(e){this.RowSelection=e,this.paginatedSelected=!1,this.events=new(a()),this.getCheckBoxes().forEach((e=>{e.addEventListener("input",(()=>{this.setPaginatedSelected(!1),this.triggerChange()}))}))}getCheckBoxes(){return this.RowSelection.Table.getElement().querySelectorAll("#cb input[type=checkbox], th.check-column input[type=checkbox]")}deselectAll(){this.getCheckBoxes().forEach((e=>e.checked=!1)),this.events.emit("selectionChanged")}triggerChange(){this.events.emit("selectionChanged")}onUpdated(e){this.events.on("selectionChanged",e)}getIDs(){return this.RowSelection.getIDs()}getCount(){return this.RowSelection.getCount()}isAllSelected(){return this.RowSelection.isAllSelected()}setPaginatedSelected(e){return this.paginatedSelected=e,this.events.emit("selectionChanged"),this}isPaginatedSelected(){return this.paginatedSelected}}class Xl{constructor(e,t){this.BulkSelection=e,this.ObjectIdFetcher=t}getIDs(){return new Promise(((e,t)=>{this.isPaginatedSelected()?this.ObjectIdFetcher.getIds().then((t=>e(t))).catch((e=>t(e))):e(this.BulkSelection.getIDs())}))}deselectAll(){this.BulkSelection.deselectAll()}cancel(){this.ObjectIdFetcher.cancel()}onUpdated(e){this.ObjectIdFetcher.onUpdated(e)}getCount(){return this.BulkSelection.getCount()}isAllSelected(){return this.BulkSelection.isAllSelected()}setPaginatedSelected(e){this.BulkSelection.setPaginatedSelected(e)}isPaginatedSelected(){return this.BulkSelection.isPaginatedSelected()}}class Zl{constructor(e){this.requestMethod=e,this.ids=[],this.events=new(a()),this.AbortController=new AbortController}cancel(){this.AbortController.abort(),this.AbortController=new AbortController}getIds(){return this.ids=[],new Promise((e=>{this.events.once("ready",(()=>{e(this.ids)})),this.retrieveItems(1)}))}onUpdated(e){this.events.addListener("updated",e)}retrieveItems(e){const t=H();Os.get(window.location.href,{params:{method:this.requestMethod,list_screen:t.list_screen,layout:t.layout,ac_page:e,_ajax_nonce:t.ajax_nonce},signal:this.AbortController.signal}).then((t=>{t.data.success&&(this.ids=[...this.ids,...t.data.data.ids],this.events.emit("updated",this.ids),t.data.data.rows_per_iteration===t.data.data.ids.length?this.retrieveItems(e+1):this.events.emit("ready"))})).catch((()=>{}))}}function ea(e){let t,n,s,i;return{c(){t=se("span"),n=ie(e[1]),ue(t,"class","ac-link"),ue(t,"role","button"),ue(t,"tabindex","0")},m(r,o){ee(r,t,o),X(t,n),s||(i=le(t,"click",e[3]),s=!0)},p(e,t){2&t&&pe(n,e[1])},d(e){e&&te(t),s=!1,i()}}}function ta(e){let t,n,s,i=e[0]&&ea(e);return{c(){t=se("div"),n=new ve(!1),s=re(),i&&i.c(),n.a=s,ue(t,"class","acp-ba-row__notice")},m(r,o){ee(r,t,o),n.m(e[2],t),X(t,s),i&&i.m(t,null)},p(e,[s]){4&s&&n.p(e[2]),e[0]?i?i.p(e,s):(i=ea(e),i.c(),i.m(t,null)):i&&(i.d(1),i=null)},i:_e,o:_e,d(e){e&&te(t),i&&i.d()}}}function na(e,t,n){let s,i,r,{bulkSelection:o}=t,{totalItems:l=0}=t,{totalItemsFormatted:a}=t,c=S(),u="0",d=!1;return qe((()=>{o.onUpdated((()=>{n(8,u=o.getCount().toString()),n(0,d=l>o.getCount()&&o.isAllSelected()&&!o.isPaginatedSelected())}))})),e.$$set=e=>{"bulkSelection"in e&&n(6,o=e.bulkSelection),"totalItems"in e&&n(5,l=e.totalItems),"totalItemsFormatted"in e&&n(4,a=e.totalItemsFormatted)},e.$$.update=()=>{256&e.$$.dirty&&n(9,s="1"==u?c.bulk_selection.item:"all"==u?c.bulk_selection.all_items_ucfirst:c.bulk_selection.items.replace("{0}",u)),512&e.$$.dirty&&n(2,i=c.bulk_selection.selected.replace("{0}","<strong>"+s+"</strong>")),16&e.$$.dirty&&n(1,r=c.bulk_selection.select_all.replace("{0}",a))},[d,r,i,()=>{o.setPaginatedSelected(!0),n(8,u="all")},a,l,o,(e,t)=>{n(5,l=e),n(4,a=t)},u,s]}const sa=class extends pt{constructor(e){super(),dt(this,e,na,ta,xe,{bulkSelection:6,totalItems:5,totalItemsFormatted:4,setTotalItems:7})}get setTotalItems(){return this.$$.ctx[7]}};class ia{constructor(e,t){this.BulkSelection=e,this.Table=t,this.active=!1,this.visible=!1,this.events=new ra,this.TableCell=s.create("td").setAttribute("colspan",this.getVisibleCells().toString()).addEventListener("click",(()=>this.refresh())),this.TableRow=s.create("tr").addClasses("acp-ba-row","-selection").append(this.TableCell.getElement());const n={total:ac_table_total_items,formatted:ac_table_total_items_formatted};this.Component=new sa({target:this.TableCell.getElement(),props:{bulkSelection:e,totalItems:n.total,totalItemsFormatted:n.formatted}}),this.initEvents()}setTotalItems(e,t){this.Component.setTotalItems(e,t)}initEvents(){const e=new MutationObserver((()=>this.refresh()));this.Table.getElement().querySelectorAll("thead tr > *").forEach((t=>{e.observe(t,{attributes:!0})})),this.BulkSelection.onUpdated((()=>{this.toggle(this.BulkSelection.getCount()>0),this.events.emitUpdate()})),this.Table.getElement().addEventListener("scroll",(()=>{let e=this.Table.getElement(),t=this.TableCell.getElement().querySelector(".acp-ba-row__notice");t&&(t.style.left=document.body.classList.contains("acp-overflow-table")?`${e.scrollLeft}px`:"0")}))}toggle(e){this.active&&(e?this.show():this.hide())}setActive(e){return this.active=e}show(){!this.visible&&this.active&&(this.visible=!0,this.Table.getElement().tBodies[0].prepend(this.TableRow.getElement()),this.events.emitShow())}hide(){this.TableRow.getElement().remove(),this.visible=!1,this.events.emitHide()}getVisibleCells(){var e;let t=0;return null===(e=this.Table.getElement().tHead)||void 0===e||e.querySelectorAll("td,th").forEach((e=>{null!==e.offsetParent&&t++})),t}refresh(){this.TableCell.setAttribute("colspan",this.getVisibleCells().toString())}}class ra extends(a()){constructor(){super()}emitShow(){this.emit("show")}emitUpdate(){this.emit("update")}onShow(e){this.addListener("show",e)}onUpdate(e){this.addListener("update",e)}emitHide(){this.emit("hide")}onHide(e){this.addListener("hide",e)}}class oa{constructor(e,t){this.Table=e,this.SelectionRow=t,this.TableRow=s.create("tr").addClass("acp-ba-row"),this.initCells(),this.SelectionRow.events.onShow((()=>{this.show()})),this.SelectionRow.events.onHide((()=>{this.hide()}))}show(){this.ensureOrder(),this.Table.getElement().tBodies[0].prepend(this.TableRow.getElement()),this.refresh()}hide(){this.TableRow.getElement().remove()}getRow(){return this.TableRow}initCells(){var e;null===(e=this.Table.getElement().tHead)||void 0===e||e.children[0].querySelectorAll("td,th").forEach((e=>{let t=s.create(e.tagName).addClass(`column-${e.id}`).setAttribute("data-column-name",e.id);this.TableRow.append(t.getElement())})),this.refresh()}refresh(){var e;null===(e=this.Table.getElement().tHead)||void 0===e||e.children[0].querySelectorAll("td,th").forEach((e=>{this.TableRow.getElement().querySelectorAll(`[data-column-name="${e.id}"]`).forEach((t=>{null!==e.offsetParent?t.classList.remove("hidden"):t.classList.add("hidden")}))}))}ensureOrder(){var e;let t=[],n=[];null===(e=this.Table.getElement().tHead)||void 0===e||e.children[0].querySelectorAll("td,th").forEach((e=>{t.push(e.id)})),this.TableRow.getElement().querySelectorAll("td,th").forEach(((e,t)=>{n.push(e.dataset.columnName)})),t.toString()!==n.toString()&&t.forEach((e=>{let t=this.TableRow.getElement().querySelector(`[data-column-name="${e}"]`);t&&this.TableRow.getElement().append(t)}))}}function la(e){let t,n,s,i,r,o,l,a=e[9].bulk_delete.finished.split("{0}")[0]+"",c=e[9].bulk_delete.finished.split("{0}")[1]+"";return{c(){t=ie(a),n=re(),s=ie(e[8]),i=re(),r=ie(c),o=ie("\n\t\t\t(100%) "),l=se("span"),ue(l,"class","dashicons dashicons-yes")},m(e,a){ee(e,t,a),ee(e,n,a),ee(e,s,a),ee(e,i,a),ee(e,r,a),ee(e,o,a),ee(e,l,a)},p(e,t){256&t&&pe(s,e[8])},d(e){e&&(te(t),te(n),te(s),te(i),te(r),te(o),te(l))}}}function aa(e){let t,n,s,i,r,o=e[9].bulk_delete.finished.split("{0}")[0]+"";return{c(){t=ie(o),n=re(),s=ie(e[8]),i=ie("\n\t\t\t/ "),r=ie(e[7])},m(e,o){ee(e,t,o),ee(e,n,o),ee(e,s,o),ee(e,i,o),ee(e,r,o)},p(e,t){256&t&&pe(s,e[8]),128&t&&pe(r,e[7])},d(e){e&&(te(t),te(n),te(s),te(i),te(r))}}}function ca(e){let t,n,s,i=e[9].failed+"";return{c(){t=ie(i),n=re(),s=se("span"),ue(s,"class","dashicons dashicons-no"),fe(s,"color","var(--ac-notification-red)")},m(e,i){ee(e,t,i),ee(e,n,i),ee(e,s,i)},p:_e,d(e){e&&(te(t),te(n),te(s))}}}function ua(e){let t,n,s;return{c(){t=se("div"),n=se("em"),s=ie(e[1]),ue(t,"class","acu-mb-3")},m(e,i){ee(e,t,i),X(t,n),X(n,s)},p(e,t){2&t&&pe(s,e[1])},d(e){e&&te(t)}}}function da(e){let t,n,s;return{c(){t=se("button"),t.textContent=`${e[9].cancel}`,ue(t,"class","button")},m(i,r){ee(i,t,r),n||(s=le(t,"click",e[10]),n=!0)},p:_e,d(e){e&&te(t),n=!1,s()}}}function ha(e){let t,n,s,i,r;return{c(){t=se("button"),t.textContent=`${e[9].done}`,n=re(),s=se("button"),s.textContent=`${e[9].bulk_edit.done_deselect}`,ue(t,"class","button button-primary"),ue(s,"class","button")},m(o,l){ee(o,t,l),e[18](t),ee(o,n,l),ee(o,s,l),i||(r=[le(t,"click",e[11]),le(s,"click",e[12])],i=!0)},p:_e,d(o){o&&(te(t),te(n),te(s)),e[18](null),i=!1,Se(r)}}}function pa(e){let t,n,s,i,r,o,l,a,c,u,d,h,p;function m(t){e[16](t)}function f(t){e[17](t)}let g={};function b(e,t){return e[0]?ca:e[2]?la:aa}void 0!==e[3]&&(g.start=e[3]),void 0!==e[4]&&(g.stop=e[4]),s=new Ni({props:g}),De.push((()=>lt(s,"start",m))),De.push((()=>lt(s,"stop",f)));let v=b(e),y=v(e);c=new ji({props:{percentage:e[5],finished:e[2],error:e[0]}});let _=e[0]&&ua(e);function E(e,t){return e[2]?ha:da}let w=E(e),S=w(e);return{c(){t=se("div"),n=se("div"),at(s.$$.fragment),o=re(),l=se("div"),y.c(),a=re(),at(c.$$.fragment),u=re(),_&&_.c(),d=re(),h=se("div"),S.c(),ue(l,"class","acu-grow"),ue(t,"class","acu-flex acu-flex-row-reverse")},m(e,i){ee(e,t,i),X(t,n),ct(s,n,null),X(t,o),X(t,l),y.m(l,null),ee(e,a,i),ct(c,e,i),ee(e,u,i),_&&_.m(e,i),ee(e,d,i),ee(e,h,i),S.m(h,null),p=!0},p(e,[t]){const n={};!i&&8&t&&(i=!0,n.start=e[3],Qe((()=>i=!1))),!r&&16&t&&(r=!0,n.stop=e[4],Qe((()=>r=!1))),s.$set(n),v===(v=b(e))&&y?y.p(e,t):(y.d(1),y=v(e),y&&(y.c(),y.m(l,null)));const o={};32&t&&(o.percentage=e[5]),4&t&&(o.finished=e[2]),1&t&&(o.error=e[0]),c.$set(o),e[0]?_?_.p(e,t):(_=ua(e),_.c(),_.m(d.parentNode,d)):_&&(_.d(1),_=null),w===(w=E(e))&&S?S.p(e,t):(S.d(1),S=w(e),S&&(S.c(),S.m(h,null)))},i(e){p||(st(s.$$.fragment,e),st(c.$$.fragment,e),p=!0)},o(e){it(s.$$.fragment,e),it(c.$$.fragment,e),p=!1},d(e){e&&(te(t),te(a),te(u),te(d),te(h)),ut(s),y.d(),ut(c,e),_&&_.d(e),S.d()}}}function ma(e,t,n){let s,i;const r=Ne();let o,l,a,{processor:c}=t,u=!1,d="",h=!1,p=S(),m=0,f=0,g=0;return qe((()=>{o(),n(15,f=c.getCount()),c.events.onUpdateCount((e=>{n(15,f=e)})),c.events.onError((e=>{n(5,g=100),n(2,h=!0),l(),n(0,u=!0),n(1,d=e)})),c.events.onFinish((()=>{n(2,h=!0),l(),r("finish"),setTimeout((()=>null==a?void 0:a.focus()),100)})),c.events.onUpdate(((e,t)=>{n(14,m=f-t.length),n(5,g=Math.ceil(m/f*100))}))})),e.$$set=e=>{"processor"in e&&n(13,c=e.processor)},e.$$.update=()=>{16384&e.$$.dirty&&n(8,s=(new Intl.NumberFormat).format(m)),32768&e.$$.dirty&&n(7,i=(new Intl.NumberFormat).format(f))},[u,d,h,o,l,g,a,i,s,p,()=>{r("cancel"),l(),n(2,h=!0)},()=>r("close"),()=>r("closeDeselect"),c,m,f,function(e){o=e,n(3,o)},function(e){l=e,n(4,l)},function(e){De[e?"unshift":"push"]((()=>{a=e,n(6,a)}))}]}const fa=class extends pt{constructor(e){super(),dt(this,e,ma,pa,xe,{processor:13})}};function ga(e){let t,n,s,i,r,o,l,a,c,u,d,h,p,m;return{c(){t=se("div"),n=se("span"),s=re(),i=se("em"),r=ie(e[2]),o=re(),l=se("div"),a=se("strong"),a.textContent=`${e[3].bulk_edit.form.are_you_sure}`,c=re(),u=se("span"),u.textContent=`${e[3].bulk_edit.form.yes_update}`,d=re(),h=se("span"),h.textContent=`${e[3].cancel}`,ue(n,"class","acp-be-confirm__caret"),ue(i,"class","acp-be-confirm__info"),ue(u,"class","acp-be-confirm__controls__link -confirm"),ue(u,"role","button"),ue(u,"tabindex","0"),ue(h,"class","acp-be-confirm__controls__link -cancel"),ue(h,"role","button"),ue(h,"tabindex","0"),ue(l,"class","acp-be-confirm__controls"),ue(t,"class","acp-be-confirm -v2"),fe(t,"position","fixed"),fe(t,"top",e[0]+"px"),fe(t,"left",e[1]+"px"),fe(t,"transform","translateX(-50%)"),ue(t,"role","none")},m(f,g){ee(f,t,g),X(t,n),X(t,s),X(t,i),X(i,r),X(t,o),X(t,l),X(l,a),X(l,c),X(l,u),X(l,d),X(l,h),p||(m=[le(u,"click",e[4]),le(h,"click",ce(e[5])),le(t,"click",ce(e[9]))],p=!0)},p(e,[n]){4&n&&pe(r,e[2]),1&n&&fe(t,"top",e[0]+"px"),2&n&&fe(t,"left",e[1]+"px")},i:_e,o:_e,d(e){e&&te(t),p=!1,Se(m)}}}function ba(e,t,n){let s;const i=Ne();let{triggerElement:r}=t,{items:o=""}=t,{editable:l}=t,a=S();const c=()=>i("confirm");let u=0,d=0;const h=e=>{"Enter"===e.key&&c()};return qe((()=>{r||n(6,r=l.getEditableTemplate().getElement().querySelector("button[data-submit]"));let e=r.getBoundingClientRect();n(0,u=Math.floor(e.y+e.height)),n(1,d=Math.floor(e.x+e.width/2)),document.addEventListener("keypress",h)})),Pe((()=>{document.removeEventListener("keypress",h)})),e.$$set=e=>{"triggerElement"in e&&n(6,r=e.triggerElement),"items"in e&&n(7,o=e.items),"editable"in e&&n(8,l=e.editable)},e.$$.update=()=>{128&e.$$.dirty&&n(2,s=a.bulk_edit.form.update_values.replace("{0}",o))},[u,d,s,a,c,()=>i("cancel"),r,o,l,function(t){Be.call(this,e,t)}]}const va=class extends pt{constructor(e){super(),dt(this,e,ba,ga,xe,{triggerElement:6,items:7,editable:8})}};function ya(e){let t;return{c(){t=se("span"),ue(t,"slot","header")},m(n,s){ee(n,t,s),t.innerHTML=e[0]},p(e,n){1&n&&(t.innerHTML=e[0])},d(e){e&&te(t)}}}function _a(e){let t;return{c(){t=se("div"),t.innerHTML="",ue(t,"data-editable","")},m(n,s){ee(n,t,s),e[24](t)},p:_e,d(n){n&&te(t),e[24](null)}}}function Ea(e){let t,n,s,i,r,o,l,a;return{c(){t=se("div"),n=se("div"),s=se("em"),i=re(),r=se("div"),o=se("button"),o.textContent=`${e[9].update}`,ue(n,"class","ac-modal-footer-actions__info"),ue(o,"class","button button-primary"),ue(r,"class","ac-modal-footer-actions__buttons"),ue(t,"class","ac-modal-footer-actions")},m(c,u){ee(c,t,u),X(t,n),X(n,s),s.innerHTML=e[8],X(t,i),X(t,r),X(r,o),e[23](o),l||(a=le(o,"click",e[13]),l=!0)},p(e,t){256&t&&(s.innerHTML=e[8])},i:_e,o:_e,d(n){n&&te(t),e[23](null),l=!1,a()}}}function wa(e){let t,n;return t=new fa({props:{processor:e[3]}}),t.$on("finish",e[16]),t.$on("cancel",e[11]),t.$on("close",e[21]),t.$on("closeDeselect",e[22]),{c(){at(t.$$.fragment)},m(e,s){ct(t,e,s),n=!0},p(e,n){const s={};8&n&&(s.processor=e[3]),t.$set(s)},i(e){n||(st(t.$$.fragment,e),n=!0)},o(e){it(t.$$.fragment,e),n=!1},d(e){ut(t,e)}}}function Sa(e){let t,n;return t=new va({props:{editable:e[2],items:e[1],triggerElement:e[5]}}),t.$on("confirm",e[12]),t.$on("cancel",e[14]),{c(){at(t.$$.fragment)},m(e,s){ct(t,e,s),n=!0},p(e,n){const s={};4&n&&(s.editable=e[2]),2&n&&(s.items=e[1]),32&n&&(s.triggerElement=e[5]),t.$set(s)},i(e){n||(st(t.$$.fragment,e),n=!0)},o(e){it(t.$$.fragment,e),n=!1},d(e){ut(t,e)}}}function $a(e){let t,n,s,i,r,o,l;const a=[wa,Ea],c=[];function u(e,t){return e[6]?0:1}t=u(e),n=c[t]=a[t](e),i=new hl({props:{logger:e[3].getLogger()}});let d=e[4]&&Sa(e);return{c(){n.c(),s=re(),at(i.$$.fragment),r=re(),d&&d.c(),o=oe()},m(e,n){c[t].m(e,n),ee(e,s,n),ct(i,e,n),ee(e,r,n),d&&d.m(e,n),ee(e,o,n),l=!0},p(e,r){let l=t;t=u(e),t===l?c[t].p(e,r):(tt(),it(c[l],1,1,(()=>{c[l]=null})),nt(),n=c[t],n?n.p(e,r):(n=c[t]=a[t](e),n.c()),st(n,1),n.m(s.parentNode,s));const h={};8&r&&(h.logger=e[3].getLogger()),i.$set(h),e[4]?d?(d.p(e,r),16&r&&st(d,1)):(d=Sa(e),d.c(),st(d,1),d.m(o.parentNode,o)):d&&(tt(),it(d,1,1,(()=>{d=null})),nt())},i(e){l||(st(n),st(i.$$.fragment,e),st(d),l=!0)},o(e){it(n),it(i.$$.fragment,e),it(d),l=!1},d(e){e&&(te(s),te(r),te(o)),c[t].d(e),ut(i,e),d&&d.d(e)}}}function xa(e){let t,n;return t=new Li({props:{visible:!0,className:"-bulkedit",disableClose:e[6],$$slots:{footer:[$a],content:[_a],header:[ya]},$$scope:{ctx:e}}}),t.$on("close",e[15]),{c(){at(t.$$.fragment)},m(e,s){ct(t,e,s),n=!0},p(e,[n]){const s={};64&n&&(s.disableClose=e[6]),67109375&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(st(t.$$.fragment,e),n=!0)},o(e){it(t.$$.fragment,e),n=!1},d(e){ut(t,e)}}}function ka(e,t,n){let s,i,r,o,{closeHandler:l}=t,{label:a}=t,{column:c}=t,{numberItems:u=""}=t,{editable:d}=t,{processor:h}=t,{needConfirm:p=!0}=t,m=!0,f=!1,g=!1,b=S();const v=(e=!1)=>{y(),m=!0,l(e)},y=()=>{h.cancel(),n(6,g=!1),m=!0,d.enable()},_=()=>{m=!1,n(4,f=!1),n(6,g=!0),d.disable(),h.save(c,d.getValue())},E=()=>{p?(n(4,f=!0),m=!1):_()};return qe((()=>{o.append(d.get()),d.onSave((e=>{E()})),setTimeout((()=>d.focus()),100)})),e.$$set=e=>{"closeHandler"in e&&n(17,l=e.closeHandler),"label"in e&&n(0,a=e.label),"column"in e&&n(18,c=e.column),"numberItems"in e&&n(1,u=e.numberItems),"editable"in e&&n(2,d=e.editable),"processor"in e&&n(3,h=e.processor),"needConfirm"in e&&n(19,p=e.needConfirm)},e.$$.update=()=>{2&e.$$.dirty&&n(20,s="1"==u?b.bulk_selection.item:"all"==u?b.bulk_selection.all_items:b.bulk_selection.items.replace("{0}",u)),1048576&e.$$.dirty&&n(8,i=b.bulk_selection.affected_items.replace("{0}","<strong>"+s+"</strong>"))},[a,u,d,h,f,r,g,o,i,b,v,y,_,E,()=>{n(4,f=!1),m=!0},()=>{m&&v()},()=>{m=!0},l,c,p,s,()=>v(!1),()=>v(!0),function(e){De[e?"unshift":"push"]((()=>{r=e,n(5,r)}))},function(e){De[e?"unshift":"push"]((()=>{o=e,n(7,o)}))}]}const Ca=class extends pt{constructor(e){super(),dt(this,e,ka,xa,xe,{closeHandler:17,label:0,column:18,numberItems:1,editable:2,processor:3,needConfirm:19})}};class Ta{constructor(e,t,n,s,i,r){this.Table=e,this.BulkSelection=t,this.BulkActionRow=n,this.Middleware=s,this.Processor=i,this.TableUpdater=r,this.modal=null,this.modalContainer=null,this.modalContainer=document.createElement("div"),this.initButtons(),this.initEvents()}initEvents(){this.Processor.events.onFinish(((e,t)=>{this.TableUpdater.updateSelectedCells(e,t)}))}initButtons(){const e=S();Object.keys(this.Table.Columns.getColumns()).forEach((t=>{var n;if(null!==this.Table.Columns.get(t).getService("bulkEditable")){let i=s.create("button").addClass("button").addHtml(e.bulk_edit.bulk_edit).addEventListener("click",(e=>{e.preventDefault(),this.bulkEdit(t)}));null===(n=this.BulkActionRow.getRow().getElement().querySelector(`.column-${(e=>e.replace(/\./g,"\\."))(t)}`))||void 0===n||n.appendChild(i.getElement())}}))}bulkEdit(e){if(null!==this.modal)throw new Error("Only one bulk edit modal can be opened");const t=this.Table.Columns.get(e),n=this.Middleware.getBulkEditable(t);let s=n.getEditable();if(!s)return;const i=new s(n.getArgs());i.getEditableTemplate().setSubmitButton("Update"),this.modalContainer=document.createElement("div"),this.modal=new Ca({target:this.modalContainer,props:{label:`${S().bulk_edit.bulk_edit} "${t.label}"`,column:e,numberItems:this.BulkSelection.isPaginatedSelected()?"all":this.BulkSelection.getCount(),editable:i,needConfirm:Pl().bulk_edit.show_confirmation,processor:this.Processor,closeHandler:e=>{i.close(),this.closeModal(),e&&this.BulkSelection.deselectAll()}}}),document.body.appendChild(this.modalContainer)}closeModal(){null!==this.modal&&(this.modalContainer.remove(),this.modal.$destroy(),this.modalContainer.innerHTML="",this.modal=null)}}class La{constructor(e,t,n){this.perPage=e,this.BulkSelection=t,this.logger=n,this.events=new nl,this.ids=[],this.AbortController=new AbortController,this.BulkSelection.onUpdated((e=>{this.events.updateCount(e.length)}))}getLogger(){return this.logger}getCount(){return this.ids.length}save(e,t){this.logger.clear(),this.ids=[],this.BulkSelection.getIDs().then((n=>{this.ids=n,this.events.updateCount(this.ids.length),this.startThread(e,t)}))}cancel(){this.AbortController.abort(),this.BulkSelection.cancel(),this.AbortController=new AbortController}startThread(e,t){const n=this.ids.splice(0,this.perPage),s=H();0!==n.length?Os.post(ajaxurl,ar({action:tr,method:"bulk-save",list_screen:s.list_screen,layout:s.layout,column:e,ids:n,value:t,_ajax_nonce:s.ajax_nonce}),{signal:this.AbortController.signal}).then((s=>{var i,r;s.data.success?(this.events.update(n,this.ids),this.logger.add(s.data.data.results),this.startThread(e,t)):(this.cancel(),this.events.emitError(null!==(r=null===(i=s.data.data)||void 0===i?void 0:i.message)&&void 0!==r?r:""))})).catch((e=>{this.cancel(),this.events.emitError(e.message)})):this.events.finish(e,t)}}class Oa{constructor(e){this.el=e,this.visible=!0}toggle(e){return this.visible=e,this}isHidden(){return!this.visible}getElement(){return new s(this.el)}setTooltip(e){return this.el.dataset.acTip=e,this}static createWithMarkup(e,t){return new Oa(s.create("a").setAttribute("data-slug",e).addClasses("ac-table-button").addHtml(t).getElement())}}class Aa{constructor(e){this.enabled=e,this.events=new(a()),this.button=Oa.createWithMarkup("edit","Inline Edit"),this.button.getElement().addClass("inline-edit-button");const t=document.createElement("div");t.style.pointerEvents="none",this.Toggle=new Ui({target:t,props:{checked:e}}),this.button.getElement().append(t),this.initEvents(),this.initState()}initEvents(){this.button.getElement().addEventListener("click",(e=>{e.preventDefault(),this.enabled=!this.enabled,this.events.emit("change",this.enabled),this.initState()}))}initState(){this.enabled?this.enable():this.disable()}getButton(){return this.button}disable(){this.Toggle.toggle(!1),this.button.getElement().removeClass("-active")}enable(){this.Toggle.toggle(!0),this.button.getElement().addClass("-active")}isEnabled(){return this.enabled}}AC_SERVICES.addListener("Table.Ready",(e=>{const t=e.table,n=Pl(),s=H();if(!s.hasOwnProperty("layout")||null===s.layout)return;var i,r;i=e.table.Columns,r=acp_editing_columns,Object.keys(r).forEach((e=>{var t,n;void 0!==r[e].inline_edit&&(null===(t=i.get(e))||void 0===t||t.setService("inlineEditable",r[e].inline_edit)),void 0!==r[e].bulk_edit&&(null===(n=i.get(e))||void 0===n||n.setService("bulkEditable",r[e].bulk_edit))}));const o=new tl,l=new Zi(AC_SERVICES),a=new el(l,AC_SERVICES),c=new Co(t),u=new Kl(t.Selection),d=new ia(u,t),h=new oa(t,d);if(AC_SERVICES.registerService("Editing",o),o.registerService("Editables",l).registerService("Helper",new er).registerService("TableUpdate",c).registerService("BulkSelectionRow",d).registerService("BulkSelection",u),n.bulk_delete.active){d.setActive(!0);const e=new Gl(h,new sl(new Xl(u,new Zl("bulk-deletable-rows")),n.bulk_delete.delete_rows_per_iteration,new Yl),n.bulk_delete.component);o.registerService("BulkDelete",e),AC_SERVICES.emitEvent("Service.Registered.Editing.BulkDelete",e)}if(n.bulk_edit.active){d.setActive(!0);const e=new Ta(t,u,h,a,new La(n.bulk_edit.updated_rows_per_iteration,new Xl(u,new Zl("bulk-editable-rows")),new Yl),new Co(t));o.registerService("BulkEdit",e),AC_SERVICES.emitEvent("Service.Registered.Editing.BulkEdit",e)}let p=t.getIdsFromTable();if(n.inline_edit.active&&p.length>0){const e=n.inline_edit.toggle_state||n.inline_edit.persistent,s=new Aa(e);t.Actions.addButton(s.getButton(),50),ur(t.getIdsFromTable()).then((e=>{if(e.data.success){((e,t)=>{t.forEach((t=>{var n,s,i,r;let o=e.get(t.id,t.column_name);if(null===o)return;let l=null!==(s=null===(n=o.getSettings())||void 0===n?void 0:n.getService(rr))&&void 0!==s?s:null;null!==l&&(l.ajax_populate&&((e=>!(!e.hasOwnProperty("store_single_value")||!e.store_single_value)||"select2_dropdown"===e.type&&(!e.hasOwnProperty("multiple")||!1===e.multiple))(l)?(t.formatted_value=t.value,t.value=Object.keys(null!==(i=t.value)&&void 0!==i?i:{})[0]):l.hasOwnProperty("store_values")&&!1===l.store_values&&(t.formatted_value=t.value,t.value="object"==typeof t?Object.keys(null!==(r=t.value)&&void 0!==r?r:{}):[])),o.setService("dataStorage",new lr(t)))}))})(t.Cells,e.data.data.editable_values);const i=new ko(t,l,a,n.inline_edit.toggle_state||n.inline_edit.persistent,s);o.registerService("InlineEdit",i),AC_SERVICES.emitEvent("Service.Registered.Editing.InlineEdit",i)}}))}else document.querySelectorAll(".ac-table-button.-toggle.-iedit").forEach((e=>e.remove()));const m=()=>{setTimeout((()=>{AC_SERVICES.hasService("tooltips")&&AC_SERVICES.getService("tooltips")()}))};AC_SERVICES.addListener("Edit.Inline.setValue",m),d.events.onShow(m),d.events.onUpdate(m)}))})()})();